import{j as i,S as Gy}from"./ui-BSAmLlLg.js";import{a as Vy,r as I,c as ua,g as me,b as O}from"./vendor-DAsaUmwd.js";import{u as Xy,L as Ym,a as Yy,R as Zy,b as Rt,B as Jy}from"./router-RJQWRZfK.js";import{t as Qy,c as re,a as Zm}from"./utils--BulIq_u.js";import{u as ur,Q as eg,a as tg}from"./query-BNYt3nOt.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var tl={},zu=Vy;tl.createRoot=zu.createRoot,tl.hydrateRoot=zu.hydrateRoot;/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ue=(e,t)=>{const r=I.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>I.createElement("svg",{ref:d,...rg,width:a,height:a,stroke:n,strokeWidth:o?Number(s)*24/Number(a):s,className:["lucide",`lucide-${ng(e)}`,l].join(" "),...u},[...t.map(([f,h])=>I.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=ue("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=ue("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=ue("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=ue("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=ue("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=ue("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=ue("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=ue("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=ue("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=ue("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=ue("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=ue("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=ue("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=ue("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=ue("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=ue("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=ue("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=ue("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=ue("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=ue("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=ue("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=ue("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=ue("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=ue("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=ue("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=ue("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=ue("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=ue("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=ue("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=ue("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=ue("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=ue("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function dr(...e){return Qy(re(e))}const mg=Zm("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),rl=I.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},s)=>{const o=n?Gy:"button";return i.jsx(o,{className:dr(mg({variant:t,size:r,className:e})),ref:s,...a})});rl.displayName="Button";const pg=async()=>{try{const e=await fetch("/api/export/csv");if(!e.ok)throw new Error("Failed to export CSV");const t=await e.blob(),r=window.URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download=`mimir-denials-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(r),document.body.removeChild(n)}catch(e){console.error("Error exporting CSV:",e),alert("Failed to export CSV. Please try again.")}},vg=[{name:"Overview",href:"/",icon:bt},{name:"Pipeline Status",href:"/pipeline",icon:fn},{name:"Tenants",href:"/tenants",icon:sr},{name:"Recent Denials",href:"/denials",icon:je},{name:"Cardinality Dashboard",href:"/cardinality",icon:ct},{name:"System Health",href:"/health",icon:cr},{name:"Metrics",href:"/metrics",icon:Qm},{name:"Wiki",href:"/wiki",icon:ig}];function xg({children:e}){const t=Xy();return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsxs("div",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg",children:[i.jsx("div",{className:"flex h-16 items-center justify-between px-6",children:i.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Mimir Edge"})}),i.jsx("div",{className:"border-t border-gray-200"}),i.jsx("nav",{className:"mt-6 px-3",children:i.jsx("div",{className:"space-y-1",children:vg.map(r=>{const n=t.pathname===r.href;return i.jsxs(Ym,{to:r.href,className:`group flex items-center px-3 py-2 text-sm font-medium rounded-md ${n?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[i.jsx(r.icon,{className:`mr-3 h-5 w-5 ${n?"text-blue-700":"text-gray-400 group-hover:text-gray-500"}`}),r.name]},r.name)})})}),i.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[i.jsx("div",{className:"border-t border-gray-200 mb-4"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(rl,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>window.open("/settings","_blank"),children:[i.jsx(Es,{className:"mr-2 h-4 w-4"}),"Settings"]}),i.jsxs(rl,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:pg,children:[i.jsx(ag,{className:"mr-2 h-4 w-4"}),"Export CSV"]})]})]})]}),i.jsx("div",{className:"pl-64",children:i.jsx("main",{className:"py-6",children:i.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:e})})})]})}const F=I.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:dr("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));F.displayName="Card";const U=I.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:dr("flex flex-col space-y-1.5 p-6",e),...t}));U.displayName="CardHeader";const W=I.forwardRef(({className:e,...t},r)=>i.jsx("h3",{ref:r,className:dr("text-2xl font-semibold leading-none tracking-tight",e),...t}));W.displayName="CardTitle";const ie=I.forwardRef(({className:e,...t},r)=>i.jsx("p",{ref:r,className:dr("text-sm text-muted-foreground",e),...t}));ie.displayName="CardDescription";const H=I.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:dr("p-6 pt-0",e),...t}));H.displayName="CardContent";const yg=I.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:dr("flex items-center p-6 pt-0",e),...t}));yg.displayName="CardFooter";const gg=Zm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Se({className:e,variant:t,...r}){return i.jsx("div",{className:dr(gg({variant:t}),e),...r})}var bg=Array.isArray,Ze=bg,jg=typeof ua=="object"&&ua&&ua.Object===Object&&ua,tp=jg,wg=tp,_g=typeof self=="object"&&self&&self.Object===Object&&self,Ng=wg||_g||Function("return this")(),Mt=Ng,Og=Mt,Sg=Og.Symbol,ea=Sg,Uu=ea,rp=Object.prototype,Ag=rp.hasOwnProperty,Pg=rp.toString,ei=Uu?Uu.toStringTag:void 0;function $g(e){var t=Ag.call(e,ei),r=e[ei];try{e[ei]=void 0;var n=!0}catch{}var a=Pg.call(e);return n&&(t?e[ei]=r:delete e[ei]),a}var Tg=$g,Eg=Object.prototype,kg=Eg.toString;function Cg(e){return kg.call(e)}var Mg=Cg,Wu=ea,Ig=Tg,Dg=Mg,Rg="[object Null]",Lg="[object Undefined]",Hu=Wu?Wu.toStringTag:void 0;function Bg(e){return e==null?e===void 0?Lg:Rg:Hu&&Hu in Object(e)?Ig(e):Dg(e)}var Yt=Bg;function qg(e){return e!=null&&typeof e=="object"}var Zt=qg,Fg=Yt,zg=Zt,Ug="[object Symbol]";function Wg(e){return typeof e=="symbol"||zg(e)&&Fg(e)==Ug}var Fn=Wg,Hg=Ze,Kg=Fn,Gg=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Vg=/^\w*$/;function Xg(e,t){if(Hg(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Kg(e)?!0:Vg.test(e)||!Gg.test(e)||t!=null&&e in Object(t)}var Cc=Xg;function Yg(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var fr=Yg;const zn=me(fr);var Zg=Yt,Jg=fr,Qg="[object AsyncFunction]",e0="[object Function]",t0="[object GeneratorFunction]",r0="[object Proxy]";function n0(e){if(!Jg(e))return!1;var t=Zg(e);return t==e0||t==t0||t==Qg||t==r0}var Mc=n0;const J=me(Mc);var i0=Mt,a0=i0["__core-js_shared__"],s0=a0,So=s0,Ku=function(){var e=/[^.]+$/.exec(So&&So.keys&&So.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function o0(e){return!!Ku&&Ku in e}var l0=o0,c0=Function.prototype,u0=c0.toString;function d0(e){if(e!=null){try{return u0.call(e)}catch{}try{return e+""}catch{}}return""}var np=d0,f0=Mc,h0=l0,m0=fr,p0=np,v0=/[\\^$.*+?()[\]{}|]/g,x0=/^\[object .+?Constructor\]$/,y0=Function.prototype,g0=Object.prototype,b0=y0.toString,j0=g0.hasOwnProperty,w0=RegExp("^"+b0.call(j0).replace(v0,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function _0(e){if(!m0(e)||h0(e))return!1;var t=f0(e)?w0:x0;return t.test(p0(e))}var N0=_0;function O0(e,t){return e?.[t]}var S0=O0,A0=N0,P0=S0;function $0(e,t){var r=P0(e,t);return A0(r)?r:void 0}var Wr=$0,T0=Wr,E0=T0(Object,"create"),ks=E0,Gu=ks;function k0(){this.__data__=Gu?Gu(null):{},this.size=0}var C0=k0;function M0(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var I0=M0,D0=ks,R0="__lodash_hash_undefined__",L0=Object.prototype,B0=L0.hasOwnProperty;function q0(e){var t=this.__data__;if(D0){var r=t[e];return r===R0?void 0:r}return B0.call(t,e)?t[e]:void 0}var F0=q0,z0=ks,U0=Object.prototype,W0=U0.hasOwnProperty;function H0(e){var t=this.__data__;return z0?t[e]!==void 0:W0.call(t,e)}var K0=H0,G0=ks,V0="__lodash_hash_undefined__";function X0(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=G0&&t===void 0?V0:t,this}var Y0=X0,Z0=C0,J0=I0,Q0=F0,eb=K0,tb=Y0;function Un(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Un.prototype.clear=Z0;Un.prototype.delete=J0;Un.prototype.get=Q0;Un.prototype.has=eb;Un.prototype.set=tb;var rb=Un;function nb(){this.__data__=[],this.size=0}var ib=nb;function ab(e,t){return e===t||e!==e&&t!==t}var Ic=ab,sb=Ic;function ob(e,t){for(var r=e.length;r--;)if(sb(e[r][0],t))return r;return-1}var Cs=ob,lb=Cs,cb=Array.prototype,ub=cb.splice;function db(e){var t=this.__data__,r=lb(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():ub.call(t,r,1),--this.size,!0}var fb=db,hb=Cs;function mb(e){var t=this.__data__,r=hb(t,e);return r<0?void 0:t[r][1]}var pb=mb,vb=Cs;function xb(e){return vb(this.__data__,e)>-1}var yb=xb,gb=Cs;function bb(e,t){var r=this.__data__,n=gb(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var jb=bb,wb=ib,_b=fb,Nb=pb,Ob=yb,Sb=jb;function Wn(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Wn.prototype.clear=wb;Wn.prototype.delete=_b;Wn.prototype.get=Nb;Wn.prototype.has=Ob;Wn.prototype.set=Sb;var Ms=Wn,Ab=Wr,Pb=Mt,$b=Ab(Pb,"Map"),Dc=$b,Vu=rb,Tb=Ms,Eb=Dc;function kb(){this.size=0,this.__data__={hash:new Vu,map:new(Eb||Tb),string:new Vu}}var Cb=kb;function Mb(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Ib=Mb,Db=Ib;function Rb(e,t){var r=e.__data__;return Db(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Is=Rb,Lb=Is;function Bb(e){var t=Lb(this,e).delete(e);return this.size-=t?1:0,t}var qb=Bb,Fb=Is;function zb(e){return Fb(this,e).get(e)}var Ub=zb,Wb=Is;function Hb(e){return Wb(this,e).has(e)}var Kb=Hb,Gb=Is;function Vb(e,t){var r=Gb(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Xb=Vb,Yb=Cb,Zb=qb,Jb=Ub,Qb=Kb,ej=Xb;function Hn(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Hn.prototype.clear=Yb;Hn.prototype.delete=Zb;Hn.prototype.get=Jb;Hn.prototype.has=Qb;Hn.prototype.set=ej;var Rc=Hn,ip=Rc,tj="Expected a function";function Lc(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(tj);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var o=e.apply(this,n);return r.cache=s.set(a,o)||s,o};return r.cache=new(Lc.Cache||ip),r}Lc.Cache=ip;var ap=Lc;const rj=me(ap);var nj=ap,ij=500;function aj(e){var t=nj(e,function(n){return r.size===ij&&r.clear(),n}),r=t.cache;return t}var sj=aj,oj=sj,lj=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,cj=/\\(\\)?/g,uj=oj(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(lj,function(r,n,a,s){t.push(a?s.replace(cj,"$1"):n||r)}),t}),dj=uj;function fj(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var Bc=fj,Xu=ea,hj=Bc,mj=Ze,pj=Fn,Yu=Xu?Xu.prototype:void 0,Zu=Yu?Yu.toString:void 0;function sp(e){if(typeof e=="string")return e;if(mj(e))return hj(e,sp)+"";if(pj(e))return Zu?Zu.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var vj=sp,xj=vj;function yj(e){return e==null?"":xj(e)}var op=yj,gj=Ze,bj=Cc,jj=dj,wj=op;function _j(e,t){return gj(e)?e:bj(e,t)?[e]:jj(wj(e))}var lp=_j,Nj=Fn;function Oj(e){if(typeof e=="string"||Nj(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Ds=Oj,Sj=lp,Aj=Ds;function Pj(e,t){t=Sj(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Aj(t[r++])];return r&&r==n?e:void 0}var qc=Pj,$j=qc;function Tj(e,t,r){var n=e==null?void 0:$j(e,t);return n===void 0?r:n}var cp=Tj;const nt=me(cp);function Ej(e){return e==null}var kj=Ej;const te=me(kj);var Cj=Yt,Mj=Ze,Ij=Zt,Dj="[object String]";function Rj(e){return typeof e=="string"||!Mj(e)&&Ij(e)&&Cj(e)==Dj}var Lj=Rj;const Ir=me(Lj);var up={exports:{}},fe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fc=Symbol.for("react.element"),zc=Symbol.for("react.portal"),Rs=Symbol.for("react.fragment"),Ls=Symbol.for("react.strict_mode"),Bs=Symbol.for("react.profiler"),qs=Symbol.for("react.provider"),Fs=Symbol.for("react.context"),Bj=Symbol.for("react.server_context"),zs=Symbol.for("react.forward_ref"),Us=Symbol.for("react.suspense"),Ws=Symbol.for("react.suspense_list"),Hs=Symbol.for("react.memo"),Ks=Symbol.for("react.lazy"),qj=Symbol.for("react.offscreen"),dp;dp=Symbol.for("react.module.reference");function mt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Fc:switch(e=e.type,e){case Rs:case Bs:case Ls:case Us:case Ws:return e;default:switch(e=e&&e.$$typeof,e){case Bj:case Fs:case zs:case Ks:case Hs:case qs:return e;default:return t}}case zc:return t}}}fe.ContextConsumer=Fs;fe.ContextProvider=qs;fe.Element=Fc;fe.ForwardRef=zs;fe.Fragment=Rs;fe.Lazy=Ks;fe.Memo=Hs;fe.Portal=zc;fe.Profiler=Bs;fe.StrictMode=Ls;fe.Suspense=Us;fe.SuspenseList=Ws;fe.isAsyncMode=function(){return!1};fe.isConcurrentMode=function(){return!1};fe.isContextConsumer=function(e){return mt(e)===Fs};fe.isContextProvider=function(e){return mt(e)===qs};fe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fc};fe.isForwardRef=function(e){return mt(e)===zs};fe.isFragment=function(e){return mt(e)===Rs};fe.isLazy=function(e){return mt(e)===Ks};fe.isMemo=function(e){return mt(e)===Hs};fe.isPortal=function(e){return mt(e)===zc};fe.isProfiler=function(e){return mt(e)===Bs};fe.isStrictMode=function(e){return mt(e)===Ls};fe.isSuspense=function(e){return mt(e)===Us};fe.isSuspenseList=function(e){return mt(e)===Ws};fe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Rs||e===Bs||e===Ls||e===Us||e===Ws||e===qj||typeof e=="object"&&e!==null&&(e.$$typeof===Ks||e.$$typeof===Hs||e.$$typeof===qs||e.$$typeof===Fs||e.$$typeof===zs||e.$$typeof===dp||e.getModuleId!==void 0)};fe.typeOf=mt;up.exports=fe;var Fj=up.exports,zj=Yt,Uj=Zt,Wj="[object Number]";function Hj(e){return typeof e=="number"||Uj(e)&&zj(e)==Wj}var fp=Hj;const Kj=me(fp);var Gj=fp;function Vj(e){return Gj(e)&&e!=+e}var Xj=Vj;const Kn=me(Xj);var He=function(t){return t===0?0:t>0?1:-1},Ar=function(t){return Ir(t)&&t.indexOf("%")===t.length-1},B=function(t){return Kj(t)&&!Kn(t)},Yj=function(t){return te(t)},De=function(t){return B(t)||Ir(t)},Zj=0,Hr=function(t){var r=++Zj;return"".concat(t||"").concat(r)},Ke=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!B(t)&&!Ir(t))return n;var s;if(Ar(t)){var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return Kn(s)&&(s=n),a&&s>r&&(s=r),s},rr=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Jj=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Ie=function(t,r){return B(t)&&B(r)?function(n){return t+n*(r-t)}:function(){return r}};function $a(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):nt(n,t))===r})}var Qj=function(t,r){return B(t)&&B(r)?t-r:Ir(t)&&Ir(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function on(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function nl(e){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nl(e)}var ew=["viewBox","children"],tw=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Ju=["points","pathLength"],Ao={svg:ew,polygon:Ju,polyline:Ju},Uc=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ta=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(I.isValidElement(t)&&(n=t.props),!zn(n))return null;var a={};return Object.keys(n).forEach(function(s){Uc.includes(s)&&(a[s]=r||function(o){return n[s](n,o)})}),a},rw=function(t,r,n){return function(a){return t(r,n,a),null}},Dr=function(t,r,n){if(!zn(t)||nl(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(s){var o=t[s];Uc.includes(s)&&typeof o=="function"&&(a||(a={}),a[s]=rw(o,r,n))}),a},nw=["children"],iw=["children"];function Qu(e,t){if(e==null)return{};var r=aw(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aw(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function il(e){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},il(e)}var ed={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ut=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},td=null,Po=null,Wc=function e(t){if(t===td&&Array.isArray(Po))return Po;var r=[];return I.Children.forEach(t,function(n){te(n)||(Fj.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Po=r,td=t,r};function it(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Ut(a)}):n=[Ut(t)],Wc(e).forEach(function(a){var s=nt(a,"type.displayName")||nt(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function tt(e,t){var r=it(e,t);return r&&r[0]}var rd=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!B(n)||n<=0||!B(a)||a<=0)},sw=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ow=function(t){return t&&t.type&&Ir(t.type)&&sw.indexOf(t.type)>=0},hp=function(t){return t&&il(t)==="object"&&"clipDot"in t},lw=function(t,r,n,a){var s,o=(s=Ao?.[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!J(t)&&(a&&o.includes(r)||tw.includes(r))||n&&Uc.includes(r)},X=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(I.isValidElement(t)&&(a=t.props),!zn(a))return null;var s={};return Object.keys(a).forEach(function(o){var l;lw((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=a[o])}),s},al=function e(t,r){if(t===r)return!0;var n=I.Children.count(t);if(n!==I.Children.count(r))return!1;if(n===0)return!0;if(n===1)return nd(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=t[a],o=r[a];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!nd(s,o))return!1}return!0},nd=function(t,r){if(te(t)&&te(r))return!0;if(!te(t)&&!te(r)){var n=t.props||{},a=n.children,s=Qu(n,nw),o=r.props||{},l=o.children,c=Qu(o,iw);return a&&l?on(s,c)&&al(a,l):!a&&!l?on(s,c):!1}return!1},id=function(t,r){var n=[],a={};return Wc(t).forEach(function(s,o){if(ow(s))n.push(s);else if(s){var l=Ut(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(s,l,o);n.push(f),a[l]=!0}}}),n},cw=function(t){var r=t&&t.type;return r&&ed[r]?ed[r]:null},uw=function(t,r){return Wc(r).indexOf(t)},dw=["children","width","height","viewBox","className","style","title","desc"];function sl(){return sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sl.apply(this,arguments)}function fw(e,t){if(e==null)return{};var r=hw(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hw(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ol(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,s=e.className,o=e.style,l=e.title,c=e.desc,u=fw(e,dw),d=a||{width:r,height:n,x:0,y:0},f=re("recharts-surface",s);return O.createElement("svg",sl({},X(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),O.createElement("title",null,l),O.createElement("desc",null,c),t)}var mw=["children","className"];function ll(){return ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ll.apply(this,arguments)}function pw(e,t){if(e==null)return{};var r=vw(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vw(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var se=O.forwardRef(function(e,t){var r=e.children,n=e.className,a=pw(e,mw),s=re("recharts-layer",n);return O.createElement("g",ll({className:s},X(a,!0),{ref:t}),r)}),jt=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function xw(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+t];return s}var yw=xw,gw=yw;function bw(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:gw(e,t,r)}var jw=bw,ww="\\ud800-\\udfff",_w="\\u0300-\\u036f",Nw="\\ufe20-\\ufe2f",Ow="\\u20d0-\\u20ff",Sw=_w+Nw+Ow,Aw="\\ufe0e\\ufe0f",Pw="\\u200d",$w=RegExp("["+Pw+ww+Sw+Aw+"]");function Tw(e){return $w.test(e)}var mp=Tw;function Ew(e){return e.split("")}var kw=Ew,pp="\\ud800-\\udfff",Cw="\\u0300-\\u036f",Mw="\\ufe20-\\ufe2f",Iw="\\u20d0-\\u20ff",Dw=Cw+Mw+Iw,Rw="\\ufe0e\\ufe0f",Lw="["+pp+"]",cl="["+Dw+"]",ul="\\ud83c[\\udffb-\\udfff]",Bw="(?:"+cl+"|"+ul+")",vp="[^"+pp+"]",xp="(?:\\ud83c[\\udde6-\\uddff]){2}",yp="[\\ud800-\\udbff][\\udc00-\\udfff]",qw="\\u200d",gp=Bw+"?",bp="["+Rw+"]?",Fw="(?:"+qw+"(?:"+[vp,xp,yp].join("|")+")"+bp+gp+")*",zw=bp+gp+Fw,Uw="(?:"+[vp+cl+"?",cl,xp,yp,Lw].join("|")+")",Ww=RegExp(ul+"(?="+ul+")|"+Uw+zw,"g");function Hw(e){return e.match(Ww)||[]}var Kw=Hw,Gw=kw,Vw=mp,Xw=Kw;function Yw(e){return Vw(e)?Xw(e):Gw(e)}var Zw=Yw,Jw=jw,Qw=mp,e1=Zw,t1=op;function r1(e){return function(t){t=t1(t);var r=Qw(t)?e1(t):void 0,n=r?r[0]:t.charAt(0),a=r?Jw(r,1).join(""):t.slice(1);return n[e]()+a}}var n1=r1,i1=n1,a1=i1("toUpperCase"),s1=a1;const Gs=me(s1);function xe(e){return function(){return e}}const jp=Math.cos,Ea=Math.sin,St=Math.sqrt,ka=Math.PI,Vs=2*ka,dl=Math.PI,fl=2*dl,_r=1e-6,o1=fl-_r;function wp(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function l1(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return wp;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class c1{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?wp:l1(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>_r)if(!(Math.abs(f*c-u*d)>_r)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,v=a-l,p=c*c+u*u,x=m*m+v*v,j=Math.sqrt(p),g=Math.sqrt(h),w=s*Math.tan((dl-Math.acos((p+h-x)/(2*j*g)))/2),_=w/g,y=w/j;Math.abs(_-1)>_r&&this._append`L${t+_*d},${r+_*f}`,this._append`A${s},${s},0,0,${+(f*m>d*v)},${this._x1=t+y*c},${this._y1=r+y*u}`}}arc(t,r,n,a,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>_r||Math.abs(this._y1-d)>_r)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%fl+fl),h>o1?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>_r&&this._append`A${n},${n},0,${+(h>=dl)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Hc(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new c1(t)}function Kc(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function _p(e){this._context=e}_p.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Xs(e){return new _p(e)}function Np(e){return e[0]}function Op(e){return e[1]}function Sp(e,t){var r=xe(!0),n=null,a=Xs,s=null,o=Hc(l);e=typeof e=="function"?e:e===void 0?Np:xe(e),t=typeof t=="function"?t:t===void 0?Op:xe(t);function l(c){var u,d=(c=Kc(c)).length,f,h=!1,m;for(n==null&&(s=a(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:xe(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:xe(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:xe(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function da(e,t,r){var n=null,a=xe(!0),s=null,o=Xs,l=null,c=Hc(u);e=typeof e=="function"?e:e===void 0?Np:xe(+e),t=typeof t=="function"?t:xe(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Op:xe(+r);function u(f){var h,m,v,p=(f=Kc(f)).length,x,j=!1,g,w=new Array(p),_=new Array(p);for(s==null&&(l=o(g=c())),h=0;h<=p;++h){if(!(h<p&&a(x=f[h],h,f))===j)if(j=!j)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=h-1;v>=m;--v)l.point(w[v],_[v]);l.lineEnd(),l.areaEnd()}j&&(w[h]=+e(x,h,f),_[h]=+t(x,h,f),l.point(n?+n(x,h,f):w[h],r?+r(x,h,f):_[h]))}if(g)return l=null,g+""||null}function d(){return Sp().defined(a).curve(o).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:xe(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:xe(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:xe(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:xe(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:xe(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:xe(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:xe(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,s!=null&&(l=o(s)),u):o},u.context=function(f){return arguments.length?(f==null?s=l=null:l=o(s=f),u):s},u}class Ap{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function u1(e){return new Ap(e,!0)}function d1(e){return new Ap(e,!1)}const Gc={draw(e,t){const r=St(t/ka);e.moveTo(r,0),e.arc(0,0,r,0,Vs)}},f1={draw(e,t){const r=St(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Pp=St(1/3),h1=Pp*2,m1={draw(e,t){const r=St(t/h1),n=r*Pp;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},p1={draw(e,t){const r=St(t),n=-r/2;e.rect(n,n,r,r)}},v1=.8908130915292852,$p=Ea(ka/10)/Ea(7*ka/10),x1=Ea(Vs/10)*$p,y1=-jp(Vs/10)*$p,g1={draw(e,t){const r=St(t*v1),n=x1*r,a=y1*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const o=Vs*s/5,l=jp(o),c=Ea(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},$o=St(3),b1={draw(e,t){const r=-St(t/($o*3));e.moveTo(0,r*2),e.lineTo(-$o*r,-r),e.lineTo($o*r,-r),e.closePath()}},st=-.5,ot=St(3)/2,hl=1/St(12),j1=(hl/2+1)*3,w1={draw(e,t){const r=St(t/j1),n=r/2,a=r*hl,s=n,o=r*hl+r,l=-s,c=o;e.moveTo(n,a),e.lineTo(s,o),e.lineTo(l,c),e.lineTo(st*n-ot*a,ot*n+st*a),e.lineTo(st*s-ot*o,ot*s+st*o),e.lineTo(st*l-ot*c,ot*l+st*c),e.lineTo(st*n+ot*a,st*a-ot*n),e.lineTo(st*s+ot*o,st*o-ot*s),e.lineTo(st*l+ot*c,st*c-ot*l),e.closePath()}};function _1(e,t){let r=null,n=Hc(a);e=typeof e=="function"?e:xe(e||Gc),t=typeof t=="function"?t:xe(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:xe(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:xe(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function Ca(){}function Ma(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Tp(e){this._context=e}Tp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ma(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ma(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function N1(e){return new Tp(e)}function Ep(e){this._context=e}Ep.prototype={areaStart:Ca,areaEnd:Ca,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ma(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function O1(e){return new Ep(e)}function kp(e){this._context=e}kp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ma(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function S1(e){return new kp(e)}function Cp(e){this._context=e}Cp.prototype={areaStart:Ca,areaEnd:Ca,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function A1(e){return new Cp(e)}function ad(e){return e<0?-1:1}function sd(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(s*a+o*n)/(n+a);return(ad(s)+ad(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function od(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function To(e,t,r){var n=e._x0,a=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,o-l*r,s,o)}function Ia(e){this._context=e}Ia.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:To(this,this._t0,od(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,To(this,od(this,r=sd(this,e,t)),r);break;default:To(this,this._t0,r=sd(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Mp(e){this._context=new Ip(e)}(Mp.prototype=Object.create(Ia.prototype)).point=function(e,t){Ia.prototype.point.call(this,t,e)};function Ip(e){this._context=e}Ip.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function P1(e){return new Ia(e)}function $1(e){return new Mp(e)}function Dp(e){this._context=e}Dp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=ld(e),a=ld(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function ld(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),o=new Array(r);for(a[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function T1(e){return new Dp(e)}function Ys(e,t){this._context=e,this._t=t}Ys.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function E1(e){return new Ys(e,.5)}function k1(e){return new Ys(e,0)}function C1(e){return new Ys(e,1)}function mn(e,t){if((o=e.length)>1)for(var r=1,n,a,s=e[t[0]],o,l=s.length;r<o;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function ml(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function M1(e,t){return e[t]}function I1(e){const t=[];return t.key=e,t}function D1(){var e=xe([]),t=ml,r=mn,n=M1;function a(s){var o=Array.from(e.apply(this,arguments),I1),l,c=o.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,s)]).data=f;for(l=0,d=Kc(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:xe(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:xe(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?ml:typeof s=="function"?s:xe(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??mn,a):r},a}function R1(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,o;a<s;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}mn(e,t)}}function L1(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}mn(e,t)}}function B1(e,t){if(!(!((o=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,o;n<s;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,v=0;v<l;++v){var p=e[t[v]],x=p[n][1]||0,j=p[n-1][1]||0;m+=x-j}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,mn(e,t)}}function gi(e){"@babel/helpers - typeof";return gi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gi(e)}var q1=["type","size","sizeType"];function pl(){return pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pl.apply(this,arguments)}function cd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ud(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cd(Object(r),!0).forEach(function(n){F1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cd(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F1(e,t,r){return t=z1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z1(e){var t=U1(e,"string");return gi(t)=="symbol"?t:t+""}function U1(e,t){if(gi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W1(e,t){if(e==null)return{};var r=H1(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function H1(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Rp={symbolCircle:Gc,symbolCross:f1,symbolDiamond:m1,symbolSquare:p1,symbolStar:g1,symbolTriangle:b1,symbolWye:w1},K1=Math.PI/180,G1=function(t){var r="symbol".concat(Gs(t));return Rp[r]||Gc},V1=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*K1;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},X1=function(t,r){Rp["symbol".concat(Gs(t))]=r},Vc=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,s=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=W1(t,q1),u=ud(ud({},c),{},{type:n,size:s,sizeType:l}),d=function(){var x=G1(n),j=_1().type(x).size(V1(s,l,n));return j()},f=u.className,h=u.cx,m=u.cy,v=X(u,!0);return h===+h&&m===+m&&s===+s?O.createElement("path",pl({},v,{className:re("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};Vc.registerSymbol=X1;function pn(e){"@babel/helpers - typeof";return pn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pn(e)}function vl(){return vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vl.apply(this,arguments)}function dd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Y1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dd(Object(r),!0).forEach(function(n){bi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dd(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Bp(n.key),n)}}function Q1(e,t,r){return t&&J1(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function e_(e,t,r){return t=Da(t),t_(e,Lp()?Reflect.construct(t,r||[],Da(e).constructor):t.apply(e,r))}function t_(e,t){if(t&&(pn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r_(e)}function r_(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lp=function(){return!!e})()}function Da(e){return Da=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Da(e)}function n_(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xl(e,t)}function xl(e,t){return xl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xl(e,t)}function bi(e,t,r){return t=Bp(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bp(e){var t=i_(e,"string");return pn(t)=="symbol"?t:t+""}function i_(e,t){if(pn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lt=32,Xc=function(e){function t(){return Z1(this,t),e_(this,t,arguments)}return n_(t,e),Q1(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=lt/2,o=lt/6,l=lt/3,c=n.inactive?a:n.color;if(n.type==="plainline")return O.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:lt,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return O.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(lt,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return O.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(lt/8,"h").concat(lt,"v").concat(lt*3/4,"h").concat(-lt,"z"),className:"recharts-legend-icon"});if(O.isValidElement(n.legendIcon)){var u=Y1({},n);return delete u.legendIcon,O.cloneElement(n.legendIcon,u)}return O.createElement(Vc,{fill:c,cx:s,cy:s,size:lt,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:lt,height:lt},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(m,v){var p=m.formatter||c,x=re(bi(bi({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",m.inactive));if(m.type==="none")return null;var j=J(m.value)?null:m.value;jt(!J(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var g=m.inactive?u:m.color;return O.createElement("li",vl({className:x,style:f,key:"legend-item-".concat(v)},Dr(n.props,m,v)),O.createElement(ol,{width:o,height:o,viewBox:d,style:h},n.renderIcon(m)),O.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},p?p(j,m,v):j))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return O.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(I.PureComponent);bi(Xc,"displayName","Legend");bi(Xc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var a_=Ms;function s_(){this.__data__=new a_,this.size=0}var o_=s_;function l_(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var c_=l_;function u_(e){return this.__data__.get(e)}var d_=u_;function f_(e){return this.__data__.has(e)}var h_=f_,m_=Ms,p_=Dc,v_=Rc,x_=200;function y_(e,t){var r=this.__data__;if(r instanceof m_){var n=r.__data__;if(!p_||n.length<x_-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new v_(n)}return r.set(e,t),this.size=r.size,this}var g_=y_,b_=Ms,j_=o_,w_=c_,__=d_,N_=h_,O_=g_;function Gn(e){var t=this.__data__=new b_(e);this.size=t.size}Gn.prototype.clear=j_;Gn.prototype.delete=w_;Gn.prototype.get=__;Gn.prototype.has=N_;Gn.prototype.set=O_;var qp=Gn,S_="__lodash_hash_undefined__";function A_(e){return this.__data__.set(e,S_),this}var P_=A_;function $_(e){return this.__data__.has(e)}var T_=$_,E_=Rc,k_=P_,C_=T_;function Ra(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new E_;++t<r;)this.add(e[t])}Ra.prototype.add=Ra.prototype.push=k_;Ra.prototype.has=C_;var Fp=Ra;function M_(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var zp=M_;function I_(e,t){return e.has(t)}var Up=I_,D_=Fp,R_=zp,L_=Up,B_=1,q_=2;function F_(e,t,r,n,a,s){var o=r&B_,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&q_?new D_:void 0;for(s.set(e,t),s.set(t,e);++f<l;){var v=e[f],p=t[f];if(n)var x=o?n(p,v,f,t,e,s):n(v,p,f,e,t,s);if(x!==void 0){if(x)continue;h=!1;break}if(m){if(!R_(t,function(j,g){if(!L_(m,g)&&(v===j||a(v,j,r,n,s)))return m.push(g)})){h=!1;break}}else if(!(v===p||a(v,p,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var Wp=F_,z_=Mt,U_=z_.Uint8Array,W_=U_;function H_(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var K_=H_;function G_(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Yc=G_,fd=ea,hd=W_,V_=Ic,X_=Wp,Y_=K_,Z_=Yc,J_=1,Q_=2,eN="[object Boolean]",tN="[object Date]",rN="[object Error]",nN="[object Map]",iN="[object Number]",aN="[object RegExp]",sN="[object Set]",oN="[object String]",lN="[object Symbol]",cN="[object ArrayBuffer]",uN="[object DataView]",md=fd?fd.prototype:void 0,Eo=md?md.valueOf:void 0;function dN(e,t,r,n,a,s,o){switch(r){case uN:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case cN:return!(e.byteLength!=t.byteLength||!s(new hd(e),new hd(t)));case eN:case tN:case iN:return V_(+e,+t);case rN:return e.name==t.name&&e.message==t.message;case aN:case oN:return e==t+"";case nN:var l=Y_;case sN:var c=n&J_;if(l||(l=Z_),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=Q_,o.set(e,t);var d=X_(l(e),l(t),n,a,s,o);return o.delete(e),d;case lN:if(Eo)return Eo.call(e)==Eo.call(t)}return!1}var fN=dN;function hN(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var Hp=hN,mN=Hp,pN=Ze;function vN(e,t,r){var n=t(e);return pN(e)?n:mN(n,r(e))}var xN=vN;function yN(e,t){for(var r=-1,n=e==null?0:e.length,a=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[a++]=o)}return s}var gN=yN;function bN(){return[]}var jN=bN,wN=gN,_N=jN,NN=Object.prototype,ON=NN.propertyIsEnumerable,pd=Object.getOwnPropertySymbols,SN=pd?function(e){return e==null?[]:(e=Object(e),wN(pd(e),function(t){return ON.call(e,t)}))}:_N,AN=SN;function PN(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var $N=PN,TN=Yt,EN=Zt,kN="[object Arguments]";function CN(e){return EN(e)&&TN(e)==kN}var MN=CN,vd=MN,IN=Zt,Kp=Object.prototype,DN=Kp.hasOwnProperty,RN=Kp.propertyIsEnumerable,LN=vd(function(){return arguments}())?vd:function(e){return IN(e)&&DN.call(e,"callee")&&!RN.call(e,"callee")},Zc=LN,La={exports:{}};function BN(){return!1}var qN=BN;La.exports;(function(e,t){var r=Mt,n=qN,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(La,La.exports);var Gp=La.exports,FN=9007199254740991,zN=/^(?:0|[1-9]\d*)$/;function UN(e,t){var r=typeof e;return t=t??FN,!!t&&(r=="number"||r!="symbol"&&zN.test(e))&&e>-1&&e%1==0&&e<t}var Jc=UN,WN=9007199254740991;function HN(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=WN}var Qc=HN,KN=Yt,GN=Qc,VN=Zt,XN="[object Arguments]",YN="[object Array]",ZN="[object Boolean]",JN="[object Date]",QN="[object Error]",eO="[object Function]",tO="[object Map]",rO="[object Number]",nO="[object Object]",iO="[object RegExp]",aO="[object Set]",sO="[object String]",oO="[object WeakMap]",lO="[object ArrayBuffer]",cO="[object DataView]",uO="[object Float32Array]",dO="[object Float64Array]",fO="[object Int8Array]",hO="[object Int16Array]",mO="[object Int32Array]",pO="[object Uint8Array]",vO="[object Uint8ClampedArray]",xO="[object Uint16Array]",yO="[object Uint32Array]",be={};be[uO]=be[dO]=be[fO]=be[hO]=be[mO]=be[pO]=be[vO]=be[xO]=be[yO]=!0;be[XN]=be[YN]=be[lO]=be[ZN]=be[cO]=be[JN]=be[QN]=be[eO]=be[tO]=be[rO]=be[nO]=be[iO]=be[aO]=be[sO]=be[oO]=!1;function gO(e){return VN(e)&&GN(e.length)&&!!be[KN(e)]}var bO=gO;function jO(e){return function(t){return e(t)}}var Vp=jO,Ba={exports:{}};Ba.exports;(function(e,t){var r=tp,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,o=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Ba,Ba.exports);var wO=Ba.exports,_O=bO,NO=Vp,xd=wO,yd=xd&&xd.isTypedArray,OO=yd?NO(yd):_O,Xp=OO,SO=$N,AO=Zc,PO=Ze,$O=Gp,TO=Jc,EO=Xp,kO=Object.prototype,CO=kO.hasOwnProperty;function MO(e,t){var r=PO(e),n=!r&&AO(e),a=!r&&!n&&$O(e),s=!r&&!n&&!a&&EO(e),o=r||n||a||s,l=o?SO(e.length,String):[],c=l.length;for(var u in e)(t||CO.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||TO(u,c)))&&l.push(u);return l}var IO=MO,DO=Object.prototype;function RO(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||DO;return e===r}var LO=RO;function BO(e,t){return function(r){return e(t(r))}}var Yp=BO,qO=Yp,FO=qO(Object.keys,Object),zO=FO,UO=LO,WO=zO,HO=Object.prototype,KO=HO.hasOwnProperty;function GO(e){if(!UO(e))return WO(e);var t=[];for(var r in Object(e))KO.call(e,r)&&r!="constructor"&&t.push(r);return t}var VO=GO,XO=Mc,YO=Qc;function ZO(e){return e!=null&&YO(e.length)&&!XO(e)}var ta=ZO,JO=IO,QO=VO,eS=ta;function tS(e){return eS(e)?JO(e):QO(e)}var Zs=tS,rS=xN,nS=AN,iS=Zs;function aS(e){return rS(e,iS,nS)}var sS=aS,gd=sS,oS=1,lS=Object.prototype,cS=lS.hasOwnProperty;function uS(e,t,r,n,a,s){var o=r&oS,l=gd(e),c=l.length,u=gd(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:cS.call(t,h)))return!1}var m=s.get(e),v=s.get(t);if(m&&v)return m==t&&v==e;var p=!0;s.set(e,t),s.set(t,e);for(var x=o;++f<c;){h=l[f];var j=e[h],g=t[h];if(n)var w=o?n(g,j,h,t,e,s):n(j,g,h,e,t,s);if(!(w===void 0?j===g||a(j,g,r,n,s):w)){p=!1;break}x||(x=h=="constructor")}if(p&&!x){var _=e.constructor,y=t.constructor;_!=y&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof y=="function"&&y instanceof y)&&(p=!1)}return s.delete(e),s.delete(t),p}var dS=uS,fS=Wr,hS=Mt,mS=fS(hS,"DataView"),pS=mS,vS=Wr,xS=Mt,yS=vS(xS,"Promise"),gS=yS,bS=Wr,jS=Mt,wS=bS(jS,"Set"),Zp=wS,_S=Wr,NS=Mt,OS=_S(NS,"WeakMap"),SS=OS,yl=pS,gl=Dc,bl=gS,jl=Zp,wl=SS,Jp=Yt,Vn=np,bd="[object Map]",AS="[object Object]",jd="[object Promise]",wd="[object Set]",_d="[object WeakMap]",Nd="[object DataView]",PS=Vn(yl),$S=Vn(gl),TS=Vn(bl),ES=Vn(jl),kS=Vn(wl),Nr=Jp;(yl&&Nr(new yl(new ArrayBuffer(1)))!=Nd||gl&&Nr(new gl)!=bd||bl&&Nr(bl.resolve())!=jd||jl&&Nr(new jl)!=wd||wl&&Nr(new wl)!=_d)&&(Nr=function(e){var t=Jp(e),r=t==AS?e.constructor:void 0,n=r?Vn(r):"";if(n)switch(n){case PS:return Nd;case $S:return bd;case TS:return jd;case ES:return wd;case kS:return _d}return t});var CS=Nr,ko=qp,MS=Wp,IS=fN,DS=dS,Od=CS,Sd=Ze,Ad=Gp,RS=Xp,LS=1,Pd="[object Arguments]",$d="[object Array]",fa="[object Object]",BS=Object.prototype,Td=BS.hasOwnProperty;function qS(e,t,r,n,a,s){var o=Sd(e),l=Sd(t),c=o?$d:Od(e),u=l?$d:Od(t);c=c==Pd?fa:c,u=u==Pd?fa:u;var d=c==fa,f=u==fa,h=c==u;if(h&&Ad(e)){if(!Ad(t))return!1;o=!0,d=!1}if(h&&!d)return s||(s=new ko),o||RS(e)?MS(e,t,r,n,a,s):IS(e,t,c,r,n,a,s);if(!(r&LS)){var m=d&&Td.call(e,"__wrapped__"),v=f&&Td.call(t,"__wrapped__");if(m||v){var p=m?e.value():e,x=v?t.value():t;return s||(s=new ko),a(p,x,r,n,s)}}return h?(s||(s=new ko),DS(e,t,r,n,a,s)):!1}var FS=qS,zS=FS,Ed=Zt;function Qp(e,t,r,n,a){return e===t?!0:e==null||t==null||!Ed(e)&&!Ed(t)?e!==e&&t!==t:zS(e,t,r,n,Qp,a)}var eu=Qp,US=qp,WS=eu,HS=1,KS=2;function GS(e,t,r,n){var a=r.length,s=a,o=!n;if(e==null)return!s;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new US;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?WS(d,u,HS|KS,n,f):h))return!1}}return!0}var VS=GS,XS=fr;function YS(e){return e===e&&!XS(e)}var ev=YS,ZS=ev,JS=Zs;function QS(e){for(var t=JS(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,ZS(a)]}return t}var eA=QS;function tA(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var tv=tA,rA=VS,nA=eA,iA=tv;function aA(e){var t=nA(e);return t.length==1&&t[0][2]?iA(t[0][0],t[0][1]):function(r){return r===e||rA(r,e,t)}}var sA=aA;function oA(e,t){return e!=null&&t in Object(e)}var lA=oA,cA=lp,uA=Zc,dA=Ze,fA=Jc,hA=Qc,mA=Ds;function pA(e,t,r){t=cA(t,e);for(var n=-1,a=t.length,s=!1;++n<a;){var o=mA(t[n]);if(!(s=e!=null&&r(e,o)))break;e=e[o]}return s||++n!=a?s:(a=e==null?0:e.length,!!a&&hA(a)&&fA(o,a)&&(dA(e)||uA(e)))}var vA=pA,xA=lA,yA=vA;function gA(e,t){return e!=null&&yA(e,t,xA)}var bA=gA,jA=eu,wA=cp,_A=bA,NA=Cc,OA=ev,SA=tv,AA=Ds,PA=1,$A=2;function TA(e,t){return NA(e)&&OA(t)?SA(AA(e),t):function(r){var n=wA(r,e);return n===void 0&&n===t?_A(r,e):jA(t,n,PA|$A)}}var EA=TA;function kA(e){return e}var Xn=kA;function CA(e){return function(t){return t?.[e]}}var MA=CA,IA=qc;function DA(e){return function(t){return IA(t,e)}}var RA=DA,LA=MA,BA=RA,qA=Cc,FA=Ds;function zA(e){return qA(e)?LA(FA(e)):BA(e)}var UA=zA,WA=sA,HA=EA,KA=Xn,GA=Ze,VA=UA;function XA(e){return typeof e=="function"?e:e==null?KA:typeof e=="object"?GA(e)?HA(e[0],e[1]):WA(e):VA(e)}var It=XA;function YA(e,t,r,n){for(var a=e.length,s=r+(n?1:-1);n?s--:++s<a;)if(t(e[s],s,e))return s;return-1}var rv=YA;function ZA(e){return e!==e}var JA=ZA;function QA(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var eP=QA,tP=rv,rP=JA,nP=eP;function iP(e,t,r){return t===t?nP(e,t,r):tP(e,rP,r)}var aP=iP,sP=aP;function oP(e,t){var r=e==null?0:e.length;return!!r&&sP(e,t,0)>-1}var lP=oP;function cP(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var uP=cP;function dP(){}var fP=dP,Co=Zp,hP=fP,mP=Yc,pP=1/0,vP=Co&&1/mP(new Co([,-0]))[1]==pP?function(e){return new Co(e)}:hP,xP=vP,yP=Fp,gP=lP,bP=uP,jP=Up,wP=xP,_P=Yc,NP=200;function OP(e,t,r){var n=-1,a=gP,s=e.length,o=!0,l=[],c=l;if(r)o=!1,a=bP;else if(s>=NP){var u=t?null:wP(e);if(u)return _P(u);o=!1,a=jP,c=new yP}else c=t?[]:l;e:for(;++n<s;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var SP=OP,AP=It,PP=SP;function $P(e,t){return e&&e.length?PP(e,AP(t)):[]}var TP=$P;const kd=me(TP);function nv(e,t,r){return t===!0?kd(e,r):J(t)?kd(e,t):e}function vn(e){"@babel/helpers - typeof";return vn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vn(e)}var EP=["ref"];function Cd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cd(Object(r),!0).forEach(function(n){Js(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cd(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Md(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,av(n.key),n)}}function CP(e,t,r){return t&&Md(e.prototype,t),r&&Md(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function MP(e,t,r){return t=qa(t),IP(e,iv()?Reflect.construct(t,r||[],qa(e).constructor):t.apply(e,r))}function IP(e,t){if(t&&(vn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DP(e)}function DP(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iv=function(){return!!e})()}function qa(e){return qa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qa(e)}function RP(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_l(e,t)}function _l(e,t){return _l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_l(e,t)}function Js(e,t,r){return t=av(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function av(e){var t=LP(e,"string");return vn(t)=="symbol"?t:t+""}function LP(e,t){if(vn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function BP(e,t){if(e==null)return{};var r=qP(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qP(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function FP(e){return e.value}function zP(e,t){if(O.isValidElement(e))return O.cloneElement(e,t);if(typeof e=="function")return O.createElement(e,t);t.ref;var r=BP(t,EP);return O.createElement(Xc,r)}var Id=1,ln=function(e){function t(){var r;kP(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=MP(this,t,[].concat(a)),Js(r,"lastBoundingBox",{width:-1,height:-1}),r}return RP(t,e),CP(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>Id||Math.abs(a.height-this.lastBoundingBox.height)>Id)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Lt({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Lt(Lt({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Lt(Lt({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return O.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},zP(s,Lt(Lt({},this.props),{},{payload:nv(d,u,FP)})))}}],[{key:"getWithHeight",value:function(n,a){var s=Lt(Lt({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&B(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(I.PureComponent);Js(ln,"displayName","Legend");Js(ln,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Dd=ea,UP=Zc,WP=Ze,Rd=Dd?Dd.isConcatSpreadable:void 0;function HP(e){return WP(e)||UP(e)||!!(Rd&&e&&e[Rd])}var KP=HP,GP=Hp,VP=KP;function sv(e,t,r,n,a){var s=-1,o=e.length;for(r||(r=VP),a||(a=[]);++s<o;){var l=e[s];t>0&&r(l)?t>1?sv(l,t-1,r,n,a):GP(a,l):n||(a[a.length]=l)}return a}var ov=sv;function XP(e){return function(t,r,n){for(var a=-1,s=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(s[c],c,s)===!1)break}return t}}var YP=XP,ZP=YP,JP=ZP(),QP=JP,e2=QP,t2=Zs;function r2(e,t){return e&&e2(e,t,t2)}var lv=r2,n2=ta;function i2(e,t){return function(r,n){if(r==null)return r;if(!n2(r))return e(r,n);for(var a=r.length,s=t?a:-1,o=Object(r);(t?s--:++s<a)&&n(o[s],s,o)!==!1;);return r}}var a2=i2,s2=lv,o2=a2,l2=o2(s2),tu=l2,c2=tu,u2=ta;function d2(e,t){var r=-1,n=u2(e)?Array(e.length):[];return c2(e,function(a,s,o){n[++r]=t(a,s,o)}),n}var cv=d2;function f2(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var h2=f2,Ld=Fn;function m2(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,s=Ld(e),o=t!==void 0,l=t===null,c=t===t,u=Ld(t);if(!l&&!u&&!s&&e>t||s&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!s&&!u&&e<t||u&&r&&a&&!n&&!s||l&&r&&a||!o&&a||!c)return-1}return 0}var p2=m2,v2=p2;function x2(e,t,r){for(var n=-1,a=e.criteria,s=t.criteria,o=a.length,l=r.length;++n<o;){var c=v2(a[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var y2=x2,Mo=Bc,g2=qc,b2=It,j2=cv,w2=h2,_2=Vp,N2=y2,O2=Xn,S2=Ze;function A2(e,t,r){t.length?t=Mo(t,function(s){return S2(s)?function(o){return g2(o,s.length===1?s[0]:s)}:s}):t=[O2];var n=-1;t=Mo(t,_2(b2));var a=j2(e,function(s,o,l){var c=Mo(t,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return w2(a,function(s,o){return N2(s,o,r)})}var P2=A2;function $2(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var T2=$2,E2=T2,Bd=Math.max;function k2(e,t,r){return t=Bd(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,s=Bd(n.length-t,0),o=Array(s);++a<s;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),E2(e,this,l)}}var C2=k2;function M2(e){return function(){return e}}var I2=M2,D2=Wr,R2=function(){try{var e=D2(Object,"defineProperty");return e({},"",{}),e}catch{}}(),uv=R2,L2=I2,qd=uv,B2=Xn,q2=qd?function(e,t){return qd(e,"toString",{configurable:!0,enumerable:!1,value:L2(t),writable:!0})}:B2,F2=q2,z2=800,U2=16,W2=Date.now;function H2(e){var t=0,r=0;return function(){var n=W2(),a=U2-(n-r);if(r=n,a>0){if(++t>=z2)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var K2=H2,G2=F2,V2=K2,X2=V2(G2),Y2=X2,Z2=Xn,J2=C2,Q2=Y2;function e$(e,t){return Q2(J2(e,t,Z2),e+"")}var t$=e$,r$=Ic,n$=ta,i$=Jc,a$=fr;function s$(e,t,r){if(!a$(r))return!1;var n=typeof t;return(n=="number"?n$(r)&&i$(t,r.length):n=="string"&&t in r)?r$(r[t],e):!1}var Qs=s$,o$=ov,l$=P2,c$=t$,Fd=Qs,u$=c$(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Fd(e,t[0],t[1])?t=[]:r>2&&Fd(t[0],t[1],t[2])&&(t=[t[0]]),l$(e,o$(t,1),[])}),d$=u$;const ru=me(d$);function ji(e){"@babel/helpers - typeof";return ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ji(e)}function Nl(){return Nl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nl.apply(this,arguments)}function f$(e,t){return v$(e)||p$(e,t)||m$(e,t)||h$()}function h$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m$(e,t){if(e){if(typeof e=="string")return zd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zd(e,t)}}function zd(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p$(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function v$(e){if(Array.isArray(e))return e}function Ud(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Io(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ud(Object(r),!0).forEach(function(n){x$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ud(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x$(e,t,r){return t=y$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y$(e){var t=g$(e,"string");return ji(t)=="symbol"?t:t+""}function g$(e,t){if(ji(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ji(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b$(e){return Array.isArray(e)&&De(e[0])&&De(e[1])?e.join(" ~ "):e}var j$=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,s=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,v=t.labelClassName,p=t.label,x=t.labelFormatter,j=t.accessibilityLayer,g=j===void 0?!1:j,w=function(){if(d&&d.length){var $={padding:0,margin:0},k=(h?ru(d,h):d).map(function(M,C){if(M.type==="none")return null;var D=Io({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},l),R=M.formatter||f||b$,q=M.value,z=M.name,Y=q,Q=z;if(R&&Y!=null&&Q!=null){var G=R(q,z,M,C,d);if(Array.isArray(G)){var ee=f$(G,2);Y=ee[0],Q=ee[1]}else Y=G}return O.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:D},De(Q)?O.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,De(Q)?O.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,O.createElement("span",{className:"recharts-tooltip-item-value"},Y),O.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return O.createElement("ul",{className:"recharts-tooltip-item-list",style:$},k)}return null},_=Io({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),y=Io({margin:0},u),b=!te(p),N=b?p:"",S=re("recharts-default-tooltip",m),A=re("recharts-tooltip-label",v);b&&x&&d!==void 0&&d!==null&&(N=x(p,d));var T=g?{role:"status","aria-live":"assertive"}:{};return O.createElement("div",Nl({className:S,style:_},T),O.createElement("p",{className:A,style:y},O.isValidElement(N)?N:"".concat(N)),w())};function wi(e){"@babel/helpers - typeof";return wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wi(e)}function ha(e,t,r){return t=w$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w$(e){var t=_$(e,"string");return wi(t)=="symbol"?t:t+""}function _$(e,t){if(wi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ti="recharts-tooltip-wrapper",N$={visibility:"hidden"};function O$(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return re(ti,ha(ha(ha(ha({},"".concat(ti,"-right"),B(r)&&t&&B(t.x)&&r>=t.x),"".concat(ti,"-left"),B(r)&&t&&B(t.x)&&r<t.x),"".concat(ti,"-bottom"),B(n)&&t&&B(t.y)&&n>=t.y),"".concat(ti,"-top"),B(n)&&t&&B(t.y)&&n<t.y))}function Wd(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&B(s[n]))return s[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var v=f+l,p=c[n]+u;return v>p?Math.max(d,c[n]):Math.max(f,c[n])}function S$(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function A$(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,s=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=Wd({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=Wd({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=S$({translateX:d,translateY:f,useTranslate3d:l})):u=N$,{cssProperties:u,cssClasses:O$({translateX:d,translateY:f,coordinate:r})}}function xn(e){"@babel/helpers - typeof";return xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xn(e)}function Hd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hd(Object(r),!0).forEach(function(n){Sl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hd(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fv(n.key),n)}}function T$(e,t,r){return t&&$$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function E$(e,t,r){return t=Fa(t),k$(e,dv()?Reflect.construct(t,r||[],Fa(e).constructor):t.apply(e,r))}function k$(e,t){if(t&&(xn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C$(e)}function C$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dv=function(){return!!e})()}function Fa(e){return Fa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fa(e)}function M$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ol(e,t)}function Ol(e,t){return Ol=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ol(e,t)}function Sl(e,t,r){return t=fv(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fv(e){var t=I$(e,"string");return xn(t)=="symbol"?t:t+""}function I$(e,t){if(xn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Gd=1,D$=function(e){function t(){var r;P$(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=E$(this,t,[].concat(a)),Sl(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Sl(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return M$(t,e),T$(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Gd||Math.abs(n.height-this.state.lastBoundingBox.height)>Gd)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,m=a.offset,v=a.position,p=a.reverseDirection,x=a.useTranslate3d,j=a.viewBox,g=a.wrapperStyle,w=A$({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:v,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:j}),_=w.cssClasses,y=w.cssProperties,b=Kd(Kd({transition:h&&s?"transform ".concat(l,"ms ").concat(c):void 0},y),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},g);return O.createElement("div",{tabIndex:-1,className:_,style:b,ref:function(S){n.wrapperNode=S}},u)}}])}(I.PureComponent),R$=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},hr={isSsr:R$()};function yn(e){"@babel/helpers - typeof";return yn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yn(e)}function Vd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vd(Object(r),!0).forEach(function(n){nu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vd(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mv(n.key),n)}}function q$(e,t,r){return t&&B$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function F$(e,t,r){return t=za(t),z$(e,hv()?Reflect.construct(t,r||[],za(e).constructor):t.apply(e,r))}function z$(e,t){if(t&&(yn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U$(e)}function U$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hv=function(){return!!e})()}function za(e){return za=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},za(e)}function W$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Al(e,t)}function Al(e,t){return Al=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Al(e,t)}function nu(e,t,r){return t=mv(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mv(e){var t=H$(e,"string");return yn(t)=="symbol"?t:t+""}function H$(e,t){if(yn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function K$(e){return e.dataKey}function G$(e,t){return O.isValidElement(e)?O.cloneElement(e,t):typeof e=="function"?O.createElement(e,t):O.createElement(j$,t)}var ze=function(e){function t(){return L$(this,t),F$(this,t,arguments)}return W$(t,e),q$(t,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,m=a.offset,v=a.payload,p=a.payloadUniqBy,x=a.position,j=a.reverseDirection,g=a.useTranslate3d,w=a.viewBox,_=a.wrapperStyle,y=v??[];f&&y.length&&(y=nv(v.filter(function(N){return N.value!=null&&(N.hide!==!0||n.props.includeHidden)}),p,K$));var b=y.length>0;return O.createElement(D$,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:s,coordinate:d,hasPayload:b,offset:m,position:x,reverseDirection:j,useTranslate3d:g,viewBox:w,wrapperStyle:_},G$(u,Xd(Xd({},this.props),{},{payload:y})))}}])}(I.PureComponent);nu(ze,"displayName","Tooltip");nu(ze,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!hr.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var V$=Mt,X$=function(){return V$.Date.now()},Y$=X$,Z$=/\s/;function J$(e){for(var t=e.length;t--&&Z$.test(e.charAt(t)););return t}var Q$=J$,eT=Q$,tT=/^\s+/;function rT(e){return e&&e.slice(0,eT(e)+1).replace(tT,"")}var nT=rT,iT=nT,Yd=fr,aT=Fn,Zd=NaN,sT=/^[-+]0x[0-9a-f]+$/i,oT=/^0b[01]+$/i,lT=/^0o[0-7]+$/i,cT=parseInt;function uT(e){if(typeof e=="number")return e;if(aT(e))return Zd;if(Yd(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Yd(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=iT(e);var r=oT.test(e);return r||lT.test(e)?cT(e.slice(2),r?2:8):sT.test(e)?Zd:+e}var pv=uT,dT=fr,Do=Y$,Jd=pv,fT="Expected a function",hT=Math.max,mT=Math.min;function pT(e,t,r){var n,a,s,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(fT);t=Jd(t)||0,dT(r)&&(d=!!r.leading,f="maxWait"in r,s=f?hT(Jd(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h);function m(b){var N=n,S=a;return n=a=void 0,u=b,o=e.apply(S,N),o}function v(b){return u=b,l=setTimeout(j,t),d?m(b):o}function p(b){var N=b-c,S=b-u,A=t-N;return f?mT(A,s-S):A}function x(b){var N=b-c,S=b-u;return c===void 0||N>=t||N<0||f&&S>=s}function j(){var b=Do();if(x(b))return g(b);l=setTimeout(j,p(b))}function g(b){return l=void 0,h&&n?m(b):(n=a=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function _(){return l===void 0?o:g(Do())}function y(){var b=Do(),N=x(b);if(n=arguments,a=this,c=b,N){if(l===void 0)return v(c);if(f)return clearTimeout(l),l=setTimeout(j,t),m(c)}return l===void 0&&(l=setTimeout(j,t)),o}return y.cancel=w,y.flush=_,y}var vT=pT,xT=vT,yT=fr,gT="Expected a function";function bT(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(gT);return yT(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),xT(e,t,{leading:n,maxWait:t,trailing:a})}var jT=bT;const vv=me(jT);function _i(e){"@babel/helpers - typeof";return _i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_i(e)}function Qd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ma(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qd(Object(r),!0).forEach(function(n){wT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qd(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wT(e,t,r){return t=_T(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _T(e){var t=NT(e,"string");return _i(t)=="symbol"?t:t+""}function NT(e,t){if(_i(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_i(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OT(e,t){return $T(e)||PT(e,t)||AT(e,t)||ST()}function ST(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AT(e,t){if(e){if(typeof e=="string")return ef(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ef(e,t)}}function ef(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function PT(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function $T(e){if(Array.isArray(e))return e}var or=I.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=e.width,o=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,v=e.debounce,p=v===void 0?0:v,x=e.id,j=e.className,g=e.onResize,w=e.style,_=w===void 0?{}:w,y=I.useRef(null),b=I.useRef();b.current=g,I.useImperativeHandle(t,function(){return Object.defineProperty(y.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),y.current},configurable:!0})});var N=I.useState({containerWidth:a.width,containerHeight:a.height}),S=OT(N,2),A=S[0],T=S[1],P=I.useCallback(function(k,M){T(function(C){var D=Math.round(k),R=Math.round(M);return C.containerWidth===D&&C.containerHeight===R?C:{containerWidth:D,containerHeight:R}})},[]);I.useEffect(function(){var k=function(z){var Y,Q=z[0].contentRect,G=Q.width,ee=Q.height;P(G,ee),(Y=b.current)===null||Y===void 0||Y.call(b,G,ee)};p>0&&(k=vv(k,p,{trailing:!0,leading:!1}));var M=new ResizeObserver(k),C=y.current.getBoundingClientRect(),D=C.width,R=C.height;return P(D,R),M.observe(y.current),function(){M.disconnect()}},[P,p]);var $=I.useMemo(function(){var k=A.containerWidth,M=A.containerHeight;if(k<0||M<0)return null;jt(Ar(o)||Ar(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),jt(!r||r>0,"The aspect(%s) must be greater than zero.",r);var C=Ar(o)?k:o,D=Ar(c)?M:c;r&&r>0&&(C?D=C/r:D&&(C=D*r),h&&D>h&&(D=h)),jt(C>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,C,D,o,c,d,f,r);var R=!Array.isArray(m)&&Ut(m.type).endsWith("Chart");return O.Children.map(m,function(q){return O.isValidElement(q)?I.cloneElement(q,ma({width:C,height:D},R?{style:ma({height:"100%",width:"100%",maxHeight:D,maxWidth:C},q.props.style)}:{})):q})},[r,m,c,h,f,d,A,o]);return O.createElement("div",{id:x?"".concat(x):void 0,className:re("recharts-responsive-container",j),style:ma(ma({},_),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:y},$)}),ra=function(t){return null};ra.displayName="Cell";function Ni(e){"@babel/helpers - typeof";return Ni=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ni(e)}function tf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tf(Object(r),!0).forEach(function(n){TT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tf(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TT(e,t,r){return t=ET(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ET(e){var t=kT(e,"string");return Ni(t)=="symbol"?t:t+""}function kT(e,t){if(Ni(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ni(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yr={widthCache:{},cacheCount:0},CT=2e3,MT={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},rf="recharts_measurement_span";function IT(e){var t=Pl({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var fi=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||hr.isSsr)return{width:0,height:0};var n=IT(r),a=JSON.stringify({text:t,copyStyle:n});if(Yr.widthCache[a])return Yr.widthCache[a];try{var s=document.getElementById(rf);s||(s=document.createElement("span"),s.setAttribute("id",rf),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=Pl(Pl({},MT),n);Object.assign(s.style,o),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return Yr.widthCache[a]=c,++Yr.cacheCount>CT&&(Yr.cacheCount=0,Yr.widthCache={}),c}catch{return{width:0,height:0}}},DT=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Oi(e){"@babel/helpers - typeof";return Oi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oi(e)}function Ua(e,t){return qT(e)||BT(e,t)||LT(e,t)||RT()}function RT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LT(e,t){if(e){if(typeof e=="string")return nf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nf(e,t)}}function nf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BT(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function qT(e){if(Array.isArray(e))return e}function FT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function af(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UT(n.key),n)}}function zT(e,t,r){return t&&af(e.prototype,t),r&&af(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function UT(e){var t=WT(e,"string");return Oi(t)=="symbol"?t:t+""}function WT(e,t){if(Oi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Oi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sf=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,of=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,HT=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,KT=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,xv={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},GT=Object.keys(xv),en="NaN";function VT(e,t){return e*xv[t]}var pa=function(){function e(t,r){FT(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!HT.test(r)&&(this.num=NaN,this.unit=""),GT.includes(r)&&(this.num=VT(t,r),this.unit="px")}return zT(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=KT.exec(r))!==null&&n!==void 0?n:[],s=Ua(a,3),o=s[1],l=s[2];return new e(parseFloat(o),l??"")}}])}();function yv(e){if(e.includes(en))return en;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=sf.exec(t))!==null&&r!==void 0?r:[],a=Ua(n,4),s=a[1],o=a[2],l=a[3],c=pa.parse(s??""),u=pa.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return en;t=t.replace(sf,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=of.exec(t))!==null&&f!==void 0?f:[],m=Ua(h,4),v=m[1],p=m[2],x=m[3],j=pa.parse(v??""),g=pa.parse(x??""),w=p==="+"?j.add(g):j.subtract(g);if(w.isNaN())return en;t=t.replace(of,w.toString())}return t}var lf=/\(([^()]*)\)/;function XT(e){for(var t=e;t.includes("(");){var r=lf.exec(t),n=Ua(r,2),a=n[1];t=t.replace(lf,yv(a))}return t}function YT(e){var t=e.replace(/\s+/g,"");return t=XT(t),t=yv(t),t}function ZT(e){try{return YT(e)}catch{return en}}function Ro(e){var t=ZT(e.slice(5,-1));return t===en?"":t}var JT=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],QT=["dx","dy","angle","className","breakAll"];function $l(){return $l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$l.apply(this,arguments)}function cf(e,t){if(e==null)return{};var r=eE(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eE(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uf(e,t){return iE(e)||nE(e,t)||rE(e,t)||tE()}function tE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rE(e,t){if(e){if(typeof e=="string")return df(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return df(e,t)}}function df(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nE(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function iE(e){if(Array.isArray(e))return e}var gv=/[ \f\n\r\t\v\u2028\u2029]+/,bv=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var s=[];te(r)||(n?s=r.toString().split(""):s=r.toString().split(gv));var o=s.map(function(c){return{word:c,width:fi(c,a).width}}),l=n?0:fi(" ",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},aE=function(t,r,n,a,s){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=B(o),f=l,h=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return C.reduce(function(D,R){var q=R.word,z=R.width,Y=D[D.length-1];if(Y&&(a==null||s||Y.width+z+n<Number(a)))Y.words.push(q),Y.width+=z+n;else{var Q={words:[q],width:z};D.push(Q)}return D},[])},m=h(r),v=function(C){return C.reduce(function(D,R){return D.width>R.width?D:R})};if(!d)return m;for(var p="…",x=function(C){var D=f.slice(0,C),R=bv({breakAll:u,style:c,children:D+p}).wordsWithComputedWidth,q=h(R),z=q.length>o||v(q).width>Number(a);return[z,q]},j=0,g=f.length-1,w=0,_;j<=g&&w<=f.length-1;){var y=Math.floor((j+g)/2),b=y-1,N=x(b),S=uf(N,2),A=S[0],T=S[1],P=x(y),$=uf(P,1),k=$[0];if(!A&&!k&&(j=y+1),A&&k&&(g=y-1),!A&&k){_=T;break}w++}return _||m},ff=function(t){var r=te(t)?[]:t.toString().split(gv);return[{words:r}]},sE=function(t){var r=t.width,n=t.scaleToFit,a=t.children,s=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!hr.isSsr){var c,u,d=bv({breakAll:o,children:a,style:s});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return ff(a);return aE({breakAll:o,children:a,maxLines:l,style:s},c,u,r,n)}return ff(a)},hf="#808080",Rr=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,v=t.verticalAnchor,p=v===void 0?"end":v,x=t.fill,j=x===void 0?hf:x,g=cf(t,JT),w=I.useMemo(function(){return sE({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),_=g.dx,y=g.dy,b=g.angle,N=g.className,S=g.breakAll,A=cf(g,QT);if(!De(n)||!De(s))return null;var T=n+(B(_)?_:0),P=s+(B(y)?y:0),$;switch(p){case"start":$=Ro("calc(".concat(u,")"));break;case"middle":$=Ro("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:$=Ro("calc(".concat(w.length-1," * -").concat(l,")"));break}var k=[];if(f){var M=w[0].width,C=g.width;k.push("scale(".concat((B(C)?C/M:1)/M,")"))}return b&&k.push("rotate(".concat(b,", ").concat(T,", ").concat(P,")")),k.length&&(A.transform=k.join(" ")),O.createElement("text",$l({},X(A,!0),{x:T,y:P,className:re("recharts-text",N),textAnchor:m,fill:j.includes("url")?hf:j}),w.map(function(D,R){var q=D.words.join(S?"":" ");return O.createElement("tspan",{x:T,dy:R===0?$:l,key:"".concat(q,"-").concat(R)},q)}))};function lr(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function oE(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function iu(e){let t,r,n;e.length!==2?(t=lr,r=(l,c)=>lr(e(l),c),n=(l,c)=>e(l)-c):(t=e===lr||e===oE?e:lE,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:s}}function lE(){return 0}function jv(e){return e===null?NaN:+e}function*cE(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const uE=iu(lr),na=uE.right;iu(jv).center;class mf extends Map{constructor(t,r=hE){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(pf(this,t))}has(t){return super.has(pf(this,t))}set(t,r){return super.set(dE(this,t),r)}delete(t){return super.delete(fE(this,t))}}function pf({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function dE({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function fE({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function hE(e){return e!==null&&typeof e=="object"?e.valueOf():e}function mE(e=lr){if(e===lr)return wv;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function wv(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const pE=Math.sqrt(50),vE=Math.sqrt(10),xE=Math.sqrt(2);function Wa(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),o=s>=pE?10:s>=vE?5:s>=xE?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Wa(e,t,r*2):[l,c,u]}function Tl(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,o]=n?Wa(t,e,r):Wa(e,t,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function El(e,t,r){return t=+t,e=+e,r=+r,Wa(e,t,r)[2]}function kl(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?El(t,e,r):El(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function vf(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function xf(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function _v(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?wv:mE(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),v=Math.min(n,Math.floor(t+(c-u)*f/c+h));_v(e,t,m,v,a)}const s=e[t];let o=r,l=n;for(ri(e,r,t),a(e[n],s)>0&&ri(e,r,n);o<l;){for(ri(e,o,l),++o,--l;a(e[o],s)<0;)++o;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?ri(e,r,l):(++l,ri(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function ri(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function yE(e,t,r){if(e=Float64Array.from(cE(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return xf(e);if(t>=1)return vf(e);var n,a=(n-1)*t,s=Math.floor(a),o=vf(_v(e,s).subarray(0,s+1)),l=xf(e.subarray(s+1));return o+(l-o)*(a-s)}}function gE(e,t,r=jv){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),o=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return o+(l-o)*(a-s)}}function bE(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function pt(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Jt(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Cl=Symbol("implicit");function au(){var e=new mf,t=[],r=[],n=Cl;function a(s){let o=e.get(s);if(o===void 0){if(n!==Cl)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new mf;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return au(t,r).unknown(n)},pt.apply(a,arguments),a}function Si(){var e=au().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,v=m?a:n,p=m?n:a;s=(p-v)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),v+=(p-v-s*(h-c))*d,o=s*(1-c),l&&(v=Math.round(v),o=Math.round(o));var x=bE(h).map(function(j){return v+s*j});return r(m?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Si(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},pt.apply(f(),arguments)}function Nv(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Nv(t())},e}function hi(){return Nv(Si.apply(null,arguments).paddingInner(1))}function su(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Ov(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function ia(){}var Ai=.7,Ha=1/Ai,cn="\\s*([+-]?\\d+)\\s*",Pi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Tt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jE=/^#([0-9a-f]{3,8})$/,wE=new RegExp(`^rgb\\(${cn},${cn},${cn}\\)$`),_E=new RegExp(`^rgb\\(${Tt},${Tt},${Tt}\\)$`),NE=new RegExp(`^rgba\\(${cn},${cn},${cn},${Pi}\\)$`),OE=new RegExp(`^rgba\\(${Tt},${Tt},${Tt},${Pi}\\)$`),SE=new RegExp(`^hsl\\(${Pi},${Tt},${Tt}\\)$`),AE=new RegExp(`^hsla\\(${Pi},${Tt},${Tt},${Pi}\\)$`),yf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};su(ia,$i,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:gf,formatHex:gf,formatHex8:PE,formatHsl:$E,formatRgb:bf,toString:bf});function gf(){return this.rgb().formatHex()}function PE(){return this.rgb().formatHex8()}function $E(){return Sv(this).formatHsl()}function bf(){return this.rgb().formatRgb()}function $i(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=jE.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?jf(t):r===3?new Ye(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?va(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?va(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=wE.exec(e))?new Ye(t[1],t[2],t[3],1):(t=_E.exec(e))?new Ye(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=NE.exec(e))?va(t[1],t[2],t[3],t[4]):(t=OE.exec(e))?va(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=SE.exec(e))?Nf(t[1],t[2]/100,t[3]/100,1):(t=AE.exec(e))?Nf(t[1],t[2]/100,t[3]/100,t[4]):yf.hasOwnProperty(e)?jf(yf[e]):e==="transparent"?new Ye(NaN,NaN,NaN,0):null}function jf(e){return new Ye(e>>16&255,e>>8&255,e&255,1)}function va(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ye(e,t,r,n)}function TE(e){return e instanceof ia||(e=$i(e)),e?(e=e.rgb(),new Ye(e.r,e.g,e.b,e.opacity)):new Ye}function Ml(e,t,r,n){return arguments.length===1?TE(e):new Ye(e,t,r,n??1)}function Ye(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}su(Ye,Ml,Ov(ia,{brighter(e){return e=e==null?Ha:Math.pow(Ha,e),new Ye(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ai:Math.pow(Ai,e),new Ye(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ye(kr(this.r),kr(this.g),kr(this.b),Ka(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wf,formatHex:wf,formatHex8:EE,formatRgb:_f,toString:_f}));function wf(){return`#${Pr(this.r)}${Pr(this.g)}${Pr(this.b)}`}function EE(){return`#${Pr(this.r)}${Pr(this.g)}${Pr(this.b)}${Pr((isNaN(this.opacity)?1:this.opacity)*255)}`}function _f(){const e=Ka(this.opacity);return`${e===1?"rgb(":"rgba("}${kr(this.r)}, ${kr(this.g)}, ${kr(this.b)}${e===1?")":`, ${e})`}`}function Ka(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function kr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Pr(e){return e=kr(e),(e<16?"0":"")+e.toString(16)}function Nf(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new gt(e,t,r,n)}function Sv(e){if(e instanceof gt)return new gt(e.h,e.s,e.l,e.opacity);if(e instanceof ia||(e=$i(e)),!e)return new gt;if(e instanceof gt)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-a,c=(s+a)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?s+a:2-s-a,o*=60):l=c>0&&c<1?0:o,new gt(o,l,c,e.opacity)}function kE(e,t,r,n){return arguments.length===1?Sv(e):new gt(e,t,r,n??1)}function gt(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}su(gt,kE,Ov(ia,{brighter(e){return e=e==null?Ha:Math.pow(Ha,e),new gt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ai:Math.pow(Ai,e),new gt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Ye(Lo(e>=240?e-240:e+120,a,n),Lo(e,a,n),Lo(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new gt(Of(this.h),xa(this.s),xa(this.l),Ka(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ka(this.opacity);return`${e===1?"hsl(":"hsla("}${Of(this.h)}, ${xa(this.s)*100}%, ${xa(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Of(e){return e=(e||0)%360,e<0?e+360:e}function xa(e){return Math.max(0,Math.min(1,e||0))}function Lo(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const ou=e=>()=>e;function CE(e,t){return function(r){return e+r*t}}function ME(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function IE(e){return(e=+e)==1?Av:function(t,r){return r-t?ME(t,r,e):ou(isNaN(t)?r:t)}}function Av(e,t){var r=t-e;return r?CE(e,r):ou(isNaN(e)?t:e)}const Sf=function e(t){var r=IE(t);function n(a,s){var o=r((a=Ml(a)).r,(s=Ml(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=Av(a.opacity,s.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function DE(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function RE(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function LE(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)a[o]=Yn(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<n;++o)s[o]=a[o](l);return s}}function BE(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Ga(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function qE(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Yn(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var Il=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Bo=new RegExp(Il.source,"g");function FE(e){return function(){return e}}function zE(e){return function(t){return e(t)+""}}function UE(e,t){var r=Il.lastIndex=Bo.lastIndex=0,n,a,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Il.exec(e))&&(a=Bo.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:Ga(n,a)})),r=Bo.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?zE(c[0].x):FE(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Yn(e,t){var r=typeof t,n;return t==null||r==="boolean"?ou(t):(r==="number"?Ga:r==="string"?(n=$i(t))?(t=n,Sf):UE:t instanceof $i?Sf:t instanceof Date?BE:RE(t)?DE:Array.isArray(t)?LE:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?qE:Ga)(e,t)}function lu(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function WE(e,t){t===void 0&&(t=e,e=Yn);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function HE(e){return function(){return e}}function Va(e){return+e}var Af=[0,1];function Ge(e){return e}function Dl(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:HE(isNaN(t)?NaN:.5)}function KE(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function GE(e,t,r){var n=e[0],a=e[1],s=t[0],o=t[1];return a<n?(n=Dl(a,n),s=r(o,s)):(n=Dl(n,a),s=r(s,o)),function(l){return s(n(l))}}function VE(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=Dl(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var c=na(e,l,1,n)-1;return s[c](a[c](l))}}function aa(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function eo(){var e=Af,t=Af,r=Yn,n,a,s,o=Ge,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Ge&&(o=KE(e[0],e[h-1])),l=h>2?VE:GE,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),Ga)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Va),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=lu,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Ge,d()):o!==Ge},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,m){return n=h,a=m,d()}}function cu(){return eo()(Ge,Ge)}function XE(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Xa(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function gn(e){return e=Xa(Math.abs(e)),e?e[1]:NaN}function YE(e,t){return function(r,n){for(var a=r.length,s=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function ZE(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var JE=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ti(e){if(!(t=JE.exec(e)))throw new Error("invalid format: "+e);var t;return new uu({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ti.prototype=uu.prototype;function uu(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}uu.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function QE(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Pv;function ek(e,t){var r=Xa(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(Pv=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Xa(e,Math.max(0,t+s-1))[0]}function Pf(e,t){var r=Xa(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const $f={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:XE,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Pf(e*100,t),r:Pf,s:ek,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Tf(e){return e}var Ef=Array.prototype.map,kf=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function tk(e){var t=e.grouping===void 0||e.thousands===void 0?Tf:YE(Ef.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?Tf:ZE(Ef.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Ti(f);var h=f.fill,m=f.align,v=f.sign,p=f.symbol,x=f.zero,j=f.width,g=f.comma,w=f.precision,_=f.trim,y=f.type;y==="n"?(g=!0,y="g"):$f[y]||(w===void 0&&(w=12),_=!0,y="g"),(x||h==="0"&&m==="=")&&(x=!0,h="0",m="=");var b=p==="$"?r:p==="#"&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",N=p==="$"?n:/[%p]/.test(y)?o:"",S=$f[y],A=/[defgprs%]/.test(y);w=w===void 0?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function T(P){var $=b,k=N,M,C,D;if(y==="c")k=S(P)+k,P="";else{P=+P;var R=P<0||1/P<0;if(P=isNaN(P)?c:S(Math.abs(P),w),_&&(P=QE(P)),R&&+P==0&&v!=="+"&&(R=!1),$=(R?v==="("?v:l:v==="-"||v==="("?"":v)+$,k=(y==="s"?kf[8+Pv/3]:"")+k+(R&&v==="("?")":""),A){for(M=-1,C=P.length;++M<C;)if(D=P.charCodeAt(M),48>D||D>57){k=(D===46?a+P.slice(M+1):P.slice(M))+k,P=P.slice(0,M);break}}}g&&!x&&(P=t(P,1/0));var q=$.length+P.length+k.length,z=q<j?new Array(j-q+1).join(h):"";switch(g&&x&&(P=t(z+P,z.length?j-k.length:1/0),z=""),m){case"<":P=$+P+k+z;break;case"=":P=$+z+P+k;break;case"^":P=z.slice(0,q=z.length>>1)+$+P+k+z.slice(q);break;default:P=z+$+P+k;break}return s(P)}return T.toString=function(){return f+""},T}function d(f,h){var m=u((f=Ti(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(gn(h)/3)))*3,p=Math.pow(10,-v),x=kf[8+v/3];return function(j){return m(p*j)+x}}return{format:u,formatPrefix:d}}var ya,du,$v;rk({thousands:",",grouping:[3],currency:["$",""]});function rk(e){return ya=tk(e),du=ya.format,$v=ya.formatPrefix,ya}function nk(e){return Math.max(0,-gn(Math.abs(e)))}function ik(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gn(t)/3)))*3-gn(Math.abs(e)))}function ak(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,gn(t)-gn(e))+1}function Tv(e,t,r,n){var a=kl(e,t,r),s;switch(n=Ti(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=ik(a,o))&&(n.precision=s),$v(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=ak(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=nk(a))&&(n.precision=s-(n.type==="%")*2);break}}return du(n)}function mr(e){var t=e.domain;return e.ticks=function(r){var n=t();return Tl(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return Tv(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,o=n[a],l=n[s],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=El(o,l,r),u===c)return n[a]=o,n[s]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Ya(){var e=cu();return e.copy=function(){return aa(e,Ya())},pt.apply(e,arguments),mr(e)}function Ev(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Va),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return Ev(e).unknown(t)},e=arguments.length?Array.from(e,Va):[0,1],mr(r)}function kv(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],o;return s<a&&(o=r,r=n,n=o,o=a,a=s,s=o),e[r]=t.floor(a),e[n]=t.ceil(s),e}function Cf(e){return Math.log(e)}function Mf(e){return Math.exp(e)}function sk(e){return-Math.log(-e)}function ok(e){return-Math.exp(-e)}function lk(e){return isFinite(e)?+("1e"+e):e<0?0:e}function ck(e){return e===10?lk:e===Math.E?Math.exp:t=>Math.pow(e,t)}function uk(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function If(e){return(t,r)=>-e(-t,r)}function fu(e){const t=e(Cf,Mf),r=t.domain;let n=10,a,s;function o(){return a=uk(n),s=ck(n),r()[0]<0?(a=If(a),s=If(s),e(sk,ok)):e(Cf,Mf),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),v,p;const x=l==null?10:+l;let j=[];if(!(n%1)&&m-h<x){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(v=1;v<n;++v)if(p=h<0?v/s(-h):v*s(h),!(p<u)){if(p>d)break;j.push(p)}}else for(;h<=m;++h)for(v=n-1;v>=1;--v)if(p=h>0?v/s(-h):v*s(h),!(p<u)){if(p>d)break;j.push(p)}j.length*2<x&&(j=Tl(u,d,x))}else j=Tl(h,m,Math.min(m-h,x)).map(s);return f?j.reverse():j},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Ti(c)).precision==null&&(c.trim=!0),c=du(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(kv(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function Cv(){const e=fu(eo()).domain([1,10]);return e.copy=()=>aa(e,Cv()).base(e.base()),pt.apply(e,arguments),e}function Df(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Rf(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function hu(e){var t=1,r=e(Df(t),Rf(t));return r.constant=function(n){return arguments.length?e(Df(t=+n),Rf(t)):t},mr(r)}function Mv(){var e=hu(eo());return e.copy=function(){return aa(e,Mv()).constant(e.constant())},pt.apply(e,arguments)}function Lf(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function dk(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function fk(e){return e<0?-e*e:e*e}function mu(e){var t=e(Ge,Ge),r=1;function n(){return r===1?e(Ge,Ge):r===.5?e(dk,fk):e(Lf(r),Lf(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},mr(t)}function pu(){var e=mu(eo());return e.copy=function(){return aa(e,pu()).exponent(e.exponent())},pt.apply(e,arguments),e}function hk(){return pu.apply(null,arguments).exponent(.5)}function Bf(e){return Math.sign(e)*e*e}function mk(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Iv(){var e=cu(),t=[0,1],r=!1,n;function a(s){var o=mk(e(s));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(s){return e.invert(Bf(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,Va)).map(Bf)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return Iv(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},pt.apply(a,arguments),mr(a)}function Dv(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=gE(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:t[na(r,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(lr),a()},s.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return Dv().domain(e).range(t).unknown(n)},pt.apply(s,arguments)}function Rv(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function o(c){return c!=null&&c<=c?a[na(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return Rv().domain([e,t]).range(a).unknown(s)},pt.apply(mr(o),arguments)}function Lv(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[na(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return Lv().domain(e).range(t).unknown(r)},pt.apply(a,arguments)}const qo=new Date,Fo=new Date;function Re(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const o=a(s),l=a.ceil(s);return s-o<l-s?o:l},a.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),a.range=(s,o,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<o);return c},a.filter=s=>Re(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),r&&(a.count=(s,o)=>(qo.setTime(+s),Fo.setTime(+o),e(qo),e(Fo),Math.floor(r(qo,Fo))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?o=>n(o)%s===0:o=>a.count(0,o)%s===0):a)),a}const Za=Re(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Za.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Re(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Za);Za.range;const qt=1e3,dt=qt*60,Ft=dt*60,Gt=Ft*24,vu=Gt*7,qf=Gt*30,zo=Gt*365,$r=Re(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*qt)},(e,t)=>(t-e)/qt,e=>e.getUTCSeconds());$r.range;const xu=Re(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*qt)},(e,t)=>{e.setTime(+e+t*dt)},(e,t)=>(t-e)/dt,e=>e.getMinutes());xu.range;const yu=Re(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*dt)},(e,t)=>(t-e)/dt,e=>e.getUTCMinutes());yu.range;const gu=Re(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*qt-e.getMinutes()*dt)},(e,t)=>{e.setTime(+e+t*Ft)},(e,t)=>(t-e)/Ft,e=>e.getHours());gu.range;const bu=Re(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ft)},(e,t)=>(t-e)/Ft,e=>e.getUTCHours());bu.range;const sa=Re(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*dt)/Gt,e=>e.getDate()-1);sa.range;const to=Re(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Gt,e=>e.getUTCDate()-1);to.range;const Bv=Re(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Gt,e=>Math.floor(e/Gt));Bv.range;function Kr(e){return Re(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*dt)/vu)}const ro=Kr(0),Ja=Kr(1),pk=Kr(2),vk=Kr(3),bn=Kr(4),xk=Kr(5),yk=Kr(6);ro.range;Ja.range;pk.range;vk.range;bn.range;xk.range;yk.range;function Gr(e){return Re(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/vu)}const no=Gr(0),Qa=Gr(1),gk=Gr(2),bk=Gr(3),jn=Gr(4),jk=Gr(5),wk=Gr(6);no.range;Qa.range;gk.range;bk.range;jn.range;jk.range;wk.range;const ju=Re(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ju.range;const wu=Re(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());wu.range;const Vt=Re(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Vt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Re(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Vt.range;const Xt=Re(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Xt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Re(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Xt.range;function qv(e,t,r,n,a,s){const o=[[$r,1,qt],[$r,5,5*qt],[$r,15,15*qt],[$r,30,30*qt],[s,1,dt],[s,5,5*dt],[s,15,15*dt],[s,30,30*dt],[a,1,Ft],[a,3,3*Ft],[a,6,6*Ft],[a,12,12*Ft],[n,1,Gt],[n,2,2*Gt],[r,1,vu],[t,1,qf],[t,3,3*qf],[e,1,zo]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),v=m?m.range(u,+d+1):[];return h?v.reverse():v}function c(u,d,f){const h=Math.abs(d-u)/f,m=iu(([,,x])=>x).right(o,h);if(m===o.length)return e.every(kl(u/zo,d/zo,f));if(m===0)return Za.every(Math.max(kl(u,d,f),1));const[v,p]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return v.every(p)}return[l,c]}const[_k,Nk]=qv(Xt,wu,no,Bv,bu,yu),[Ok,Sk]=qv(Vt,ju,ro,sa,gu,xu);function Uo(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Wo(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ni(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Ak(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=ii(a),d=ai(a),f=ii(s),h=ai(s),m=ii(o),v=ai(o),p=ii(l),x=ai(l),j=ii(c),g=ai(c),w={a:R,A:q,b:z,B:Y,c:null,d:Kf,e:Kf,f:Yk,g:sC,G:lC,H:Gk,I:Vk,j:Xk,L:Fv,m:Zk,M:Jk,p:Q,q:G,Q:Xf,s:Yf,S:Qk,u:eC,U:tC,V:rC,w:nC,W:iC,x:null,X:null,y:aC,Y:oC,Z:cC,"%":Vf},_={a:ee,A:ge,b:Pe,B:Je,c:null,d:Gf,e:Gf,f:hC,g:_C,G:OC,H:uC,I:dC,j:fC,L:Uv,m:mC,M:pC,p:xr,q:Ve,Q:Xf,s:Yf,S:vC,u:xC,U:yC,V:gC,w:bC,W:jC,x:null,X:null,y:wC,Y:NC,Z:SC,"%":Vf},y={a:T,A:P,b:$,B:k,c:M,d:Wf,e:Wf,f:Uk,g:Uf,G:zf,H:Hf,I:Hf,j:Bk,L:zk,m:Lk,M:qk,p:A,q:Rk,Q:Hk,s:Kk,S:Fk,u:kk,U:Ck,V:Mk,w:Ek,W:Ik,x:C,X:D,y:Uf,Y:zf,Z:Dk,"%":Wk};w.x=b(r,w),w.X=b(n,w),w.c=b(t,w),_.x=b(r,_),_.X=b(n,_),_.c=b(t,_);function b(K,ne){return function(ae){var L=[],Ne=-1,le=0,Ee=K.length,ke,Xe,Qt;for(ae instanceof Date||(ae=new Date(+ae));++Ne<Ee;)K.charCodeAt(Ne)===37&&(L.push(K.slice(le,Ne)),(Xe=Ff[ke=K.charAt(++Ne)])!=null?ke=K.charAt(++Ne):Xe=ke==="e"?" ":"0",(Qt=ne[ke])&&(ke=Qt(ae,Xe)),L.push(ke),le=Ne+1);return L.push(K.slice(le,Ne)),L.join("")}}function N(K,ne){return function(ae){var L=ni(1900,void 0,1),Ne=S(L,K,ae+="",0),le,Ee;if(Ne!=ae.length)return null;if("Q"in L)return new Date(L.Q);if("s"in L)return new Date(L.s*1e3+("L"in L?L.L:0));if(ne&&!("Z"in L)&&(L.Z=0),"p"in L&&(L.H=L.H%12+L.p*12),L.m===void 0&&(L.m="q"in L?L.q:0),"V"in L){if(L.V<1||L.V>53)return null;"w"in L||(L.w=1),"Z"in L?(le=Wo(ni(L.y,0,1)),Ee=le.getUTCDay(),le=Ee>4||Ee===0?Qa.ceil(le):Qa(le),le=to.offset(le,(L.V-1)*7),L.y=le.getUTCFullYear(),L.m=le.getUTCMonth(),L.d=le.getUTCDate()+(L.w+6)%7):(le=Uo(ni(L.y,0,1)),Ee=le.getDay(),le=Ee>4||Ee===0?Ja.ceil(le):Ja(le),le=sa.offset(le,(L.V-1)*7),L.y=le.getFullYear(),L.m=le.getMonth(),L.d=le.getDate()+(L.w+6)%7)}else("W"in L||"U"in L)&&("w"in L||(L.w="u"in L?L.u%7:"W"in L?1:0),Ee="Z"in L?Wo(ni(L.y,0,1)).getUTCDay():Uo(ni(L.y,0,1)).getDay(),L.m=0,L.d="W"in L?(L.w+6)%7+L.W*7-(Ee+5)%7:L.w+L.U*7-(Ee+6)%7);return"Z"in L?(L.H+=L.Z/100|0,L.M+=L.Z%100,Wo(L)):Uo(L)}}function S(K,ne,ae,L){for(var Ne=0,le=ne.length,Ee=ae.length,ke,Xe;Ne<le;){if(L>=Ee)return-1;if(ke=ne.charCodeAt(Ne++),ke===37){if(ke=ne.charAt(Ne++),Xe=y[ke in Ff?ne.charAt(Ne++):ke],!Xe||(L=Xe(K,ae,L))<0)return-1}else if(ke!=ae.charCodeAt(L++))return-1}return L}function A(K,ne,ae){var L=u.exec(ne.slice(ae));return L?(K.p=d.get(L[0].toLowerCase()),ae+L[0].length):-1}function T(K,ne,ae){var L=m.exec(ne.slice(ae));return L?(K.w=v.get(L[0].toLowerCase()),ae+L[0].length):-1}function P(K,ne,ae){var L=f.exec(ne.slice(ae));return L?(K.w=h.get(L[0].toLowerCase()),ae+L[0].length):-1}function $(K,ne,ae){var L=j.exec(ne.slice(ae));return L?(K.m=g.get(L[0].toLowerCase()),ae+L[0].length):-1}function k(K,ne,ae){var L=p.exec(ne.slice(ae));return L?(K.m=x.get(L[0].toLowerCase()),ae+L[0].length):-1}function M(K,ne,ae){return S(K,t,ne,ae)}function C(K,ne,ae){return S(K,r,ne,ae)}function D(K,ne,ae){return S(K,n,ne,ae)}function R(K){return o[K.getDay()]}function q(K){return s[K.getDay()]}function z(K){return c[K.getMonth()]}function Y(K){return l[K.getMonth()]}function Q(K){return a[+(K.getHours()>=12)]}function G(K){return 1+~~(K.getMonth()/3)}function ee(K){return o[K.getUTCDay()]}function ge(K){return s[K.getUTCDay()]}function Pe(K){return c[K.getUTCMonth()]}function Je(K){return l[K.getUTCMonth()]}function xr(K){return a[+(K.getUTCHours()>=12)]}function Ve(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var ne=b(K+="",w);return ne.toString=function(){return K},ne},parse:function(K){var ne=N(K+="",!1);return ne.toString=function(){return K},ne},utcFormat:function(K){var ne=b(K+="",_);return ne.toString=function(){return K},ne},utcParse:function(K){var ne=N(K+="",!0);return ne.toString=function(){return K},ne}}}var Ff={"-":"",_:" ",0:"0"},qe=/^\s*\d+/,Pk=/^%/,$k=/[\\^$*+?|[\]().{}]/g;function ce(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function Tk(e){return e.replace($k,"\\$&")}function ii(e){return new RegExp("^(?:"+e.map(Tk).join("|")+")","i")}function ai(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Ek(e,t,r){var n=qe.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function kk(e,t,r){var n=qe.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Ck(e,t,r){var n=qe.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Mk(e,t,r){var n=qe.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Ik(e,t,r){var n=qe.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function zf(e,t,r){var n=qe.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Uf(e,t,r){var n=qe.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Dk(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Rk(e,t,r){var n=qe.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Lk(e,t,r){var n=qe.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Wf(e,t,r){var n=qe.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Bk(e,t,r){var n=qe.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Hf(e,t,r){var n=qe.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function qk(e,t,r){var n=qe.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Fk(e,t,r){var n=qe.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function zk(e,t,r){var n=qe.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Uk(e,t,r){var n=qe.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Wk(e,t,r){var n=Pk.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Hk(e,t,r){var n=qe.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Kk(e,t,r){var n=qe.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Kf(e,t){return ce(e.getDate(),t,2)}function Gk(e,t){return ce(e.getHours(),t,2)}function Vk(e,t){return ce(e.getHours()%12||12,t,2)}function Xk(e,t){return ce(1+sa.count(Vt(e),e),t,3)}function Fv(e,t){return ce(e.getMilliseconds(),t,3)}function Yk(e,t){return Fv(e,t)+"000"}function Zk(e,t){return ce(e.getMonth()+1,t,2)}function Jk(e,t){return ce(e.getMinutes(),t,2)}function Qk(e,t){return ce(e.getSeconds(),t,2)}function eC(e){var t=e.getDay();return t===0?7:t}function tC(e,t){return ce(ro.count(Vt(e)-1,e),t,2)}function zv(e){var t=e.getDay();return t>=4||t===0?bn(e):bn.ceil(e)}function rC(e,t){return e=zv(e),ce(bn.count(Vt(e),e)+(Vt(e).getDay()===4),t,2)}function nC(e){return e.getDay()}function iC(e,t){return ce(Ja.count(Vt(e)-1,e),t,2)}function aC(e,t){return ce(e.getFullYear()%100,t,2)}function sC(e,t){return e=zv(e),ce(e.getFullYear()%100,t,2)}function oC(e,t){return ce(e.getFullYear()%1e4,t,4)}function lC(e,t){var r=e.getDay();return e=r>=4||r===0?bn(e):bn.ceil(e),ce(e.getFullYear()%1e4,t,4)}function cC(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ce(t/60|0,"0",2)+ce(t%60,"0",2)}function Gf(e,t){return ce(e.getUTCDate(),t,2)}function uC(e,t){return ce(e.getUTCHours(),t,2)}function dC(e,t){return ce(e.getUTCHours()%12||12,t,2)}function fC(e,t){return ce(1+to.count(Xt(e),e),t,3)}function Uv(e,t){return ce(e.getUTCMilliseconds(),t,3)}function hC(e,t){return Uv(e,t)+"000"}function mC(e,t){return ce(e.getUTCMonth()+1,t,2)}function pC(e,t){return ce(e.getUTCMinutes(),t,2)}function vC(e,t){return ce(e.getUTCSeconds(),t,2)}function xC(e){var t=e.getUTCDay();return t===0?7:t}function yC(e,t){return ce(no.count(Xt(e)-1,e),t,2)}function Wv(e){var t=e.getUTCDay();return t>=4||t===0?jn(e):jn.ceil(e)}function gC(e,t){return e=Wv(e),ce(jn.count(Xt(e),e)+(Xt(e).getUTCDay()===4),t,2)}function bC(e){return e.getUTCDay()}function jC(e,t){return ce(Qa.count(Xt(e)-1,e),t,2)}function wC(e,t){return ce(e.getUTCFullYear()%100,t,2)}function _C(e,t){return e=Wv(e),ce(e.getUTCFullYear()%100,t,2)}function NC(e,t){return ce(e.getUTCFullYear()%1e4,t,4)}function OC(e,t){var r=e.getUTCDay();return e=r>=4||r===0?jn(e):jn.ceil(e),ce(e.getUTCFullYear()%1e4,t,4)}function SC(){return"+0000"}function Vf(){return"%"}function Xf(e){return+e}function Yf(e){return Math.floor(+e/1e3)}var Zr,Hv,Kv;AC({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function AC(e){return Zr=Ak(e),Hv=Zr.format,Zr.parse,Kv=Zr.utcFormat,Zr.utcParse,Zr}function PC(e){return new Date(e)}function $C(e){return e instanceof Date?+e:+new Date(+e)}function _u(e,t,r,n,a,s,o,l,c,u){var d=cu(),f=d.invert,h=d.domain,m=u(".%L"),v=u(":%S"),p=u("%I:%M"),x=u("%I %p"),j=u("%a %d"),g=u("%b %d"),w=u("%B"),_=u("%Y");function y(b){return(c(b)<b?m:l(b)<b?v:o(b)<b?p:s(b)<b?x:n(b)<b?a(b)<b?j:g:r(b)<b?w:_)(b)}return d.invert=function(b){return new Date(f(b))},d.domain=function(b){return arguments.length?h(Array.from(b,$C)):h().map(PC)},d.ticks=function(b){var N=h();return e(N[0],N[N.length-1],b??10)},d.tickFormat=function(b,N){return N==null?y:u(N)},d.nice=function(b){var N=h();return(!b||typeof b.range!="function")&&(b=t(N[0],N[N.length-1],b??10)),b?h(kv(N,b)):d},d.copy=function(){return aa(d,_u(e,t,r,n,a,s,o,l,c,u))},d}function TC(){return pt.apply(_u(Ok,Sk,Vt,ju,ro,sa,gu,xu,$r,Hv).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function EC(){return pt.apply(_u(_k,Nk,Xt,wu,no,to,bu,yu,$r,Kv).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function io(){var e=0,t=1,r,n,a,s,o=Ge,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,v;return arguments.length?([m,v]=h,o=f(m,v),u):[o(0),o(1)]}}return u.range=d(Yn),u.rangeRound=d(lu),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function pr(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Gv(){var e=mr(io()(Ge));return e.copy=function(){return pr(e,Gv())},Jt.apply(e,arguments)}function Vv(){var e=fu(io()).domain([1,10]);return e.copy=function(){return pr(e,Vv()).base(e.base())},Jt.apply(e,arguments)}function Xv(){var e=hu(io());return e.copy=function(){return pr(e,Xv()).constant(e.constant())},Jt.apply(e,arguments)}function Nu(){var e=mu(io());return e.copy=function(){return pr(e,Nu()).exponent(e.exponent())},Jt.apply(e,arguments)}function kC(){return Nu.apply(null,arguments).exponent(.5)}function Yv(){var e=[],t=Ge;function r(n){if(n!=null&&!isNaN(n=+n))return t((na(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(lr),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>yE(e,s/n))},r.copy=function(){return Yv(t).domain(e)},Jt.apply(r,arguments)}function ao(){var e=0,t=.5,r=1,n=1,a,s,o,l,c,u=Ge,d,f=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+d(p))-s)*(n*p<n*s?l:c),u(f?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,a=d(e=+e),s=d(t=+t),o=d(r=+r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(f=!!p,m):f},m.interpolator=function(p){return arguments.length?(u=p,m):u};function v(p){return function(x){var j,g,w;return arguments.length?([j,g,w]=x,u=WE(p,[j,g,w]),m):[u(0),u(.5),u(1)]}}return m.range=v(Yn),m.rangeRound=v(lu),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return d=p,a=p(e),s=p(t),o=p(r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,m}}function Zv(){var e=mr(ao()(Ge));return e.copy=function(){return pr(e,Zv())},Jt.apply(e,arguments)}function Jv(){var e=fu(ao()).domain([.1,1,10]);return e.copy=function(){return pr(e,Jv()).base(e.base())},Jt.apply(e,arguments)}function Qv(){var e=hu(ao());return e.copy=function(){return pr(e,Qv()).constant(e.constant())},Jt.apply(e,arguments)}function Ou(){var e=mu(ao());return e.copy=function(){return pr(e,Ou()).exponent(e.exponent())},Jt.apply(e,arguments)}function CC(){return Ou.apply(null,arguments).exponent(.5)}const Zf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Si,scaleDiverging:Zv,scaleDivergingLog:Jv,scaleDivergingPow:Ou,scaleDivergingSqrt:CC,scaleDivergingSymlog:Qv,scaleIdentity:Ev,scaleImplicit:Cl,scaleLinear:Ya,scaleLog:Cv,scaleOrdinal:au,scalePoint:hi,scalePow:pu,scaleQuantile:Dv,scaleQuantize:Rv,scaleRadial:Iv,scaleSequential:Gv,scaleSequentialLog:Vv,scaleSequentialPow:Nu,scaleSequentialQuantile:Yv,scaleSequentialSqrt:kC,scaleSequentialSymlog:Xv,scaleSqrt:hk,scaleSymlog:Mv,scaleThreshold:Lv,scaleTime:TC,scaleUtc:EC,tickFormat:Tv},Symbol.toStringTag,{value:"Module"}));var MC=Fn;function IC(e,t,r){for(var n=-1,a=e.length;++n<a;){var s=e[n],o=t(s);if(o!=null&&(l===void 0?o===o&&!MC(o):r(o,l)))var l=o,c=s}return c}var so=IC;function DC(e,t){return e>t}var ex=DC,RC=so,LC=ex,BC=Xn;function qC(e){return e&&e.length?RC(e,BC,LC):void 0}var FC=qC;const ir=me(FC);function zC(e,t){return e<t}var tx=zC,UC=so,WC=tx,HC=Xn;function KC(e){return e&&e.length?UC(e,HC,WC):void 0}var GC=KC;const oo=me(GC);var VC=Bc,XC=It,YC=cv,ZC=Ze;function JC(e,t){var r=ZC(e)?VC:YC;return r(e,XC(t))}var QC=JC,eM=ov,tM=QC;function rM(e,t){return eM(tM(e,t),1)}var nM=rM;const iM=me(nM);var aM=eu;function sM(e,t){return aM(e,t)}var oM=sM;const Lr=me(oM);var Zn=1e9,lM={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Au,_e=!0,ht="[DecimalError] ",Cr=ht+"Invalid argument: ",Su=ht+"Exponent out of range: ",Jn=Math.floor,Or=Math.pow,cM=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,rt,Le=1e7,we=7,rx=9007199254740991,es=Jn(rx/we),V={};V.absoluteValue=V.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};V.comparedTo=V.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};V.decimalPlaces=V.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*we;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};V.dividedBy=V.div=function(e){return Wt(this,new this.constructor(e))};V.dividedToIntegerBy=V.idiv=function(e){var t=this,r=t.constructor;return pe(Wt(t,new r(e),0,1),r.precision)};V.equals=V.eq=function(e){return!this.cmp(e)};V.exponent=function(){return Te(this)};V.greaterThan=V.gt=function(e){return this.cmp(e)>0};V.greaterThanOrEqualTo=V.gte=function(e){return this.cmp(e)>=0};V.isInteger=V.isint=function(){return this.e>this.d.length-2};V.isNegative=V.isneg=function(){return this.s<0};V.isPositive=V.ispos=function(){return this.s>0};V.isZero=function(){return this.s===0};V.lessThan=V.lt=function(e){return this.cmp(e)<0};V.lessThanOrEqualTo=V.lte=function(e){return this.cmp(e)<1};V.logarithm=V.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(rt))throw Error(ht+"NaN");if(r.s<1)throw Error(ht+(r.s?"NaN":"-Infinity"));return r.eq(rt)?new n(0):(_e=!1,t=Wt(Ei(r,s),Ei(e,s),s),_e=!0,pe(t,a))};V.minus=V.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ax(t,e):nx(t,(e.s=-e.s,e))};V.modulo=V.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(ht+"NaN");return r.s?(_e=!1,t=Wt(r,e,0,1).times(e),_e=!0,r.minus(t)):pe(new n(r),a)};V.naturalExponential=V.exp=function(){return ix(this)};V.naturalLogarithm=V.ln=function(){return Ei(this)};V.negated=V.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};V.plus=V.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?nx(t,e):ax(t,(e.s=-e.s,e))};V.precision=V.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Cr+e);if(t=Te(a)+1,n=a.d.length-1,r=n*we+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};V.squareRoot=V.sqrt=function(){var e,t,r,n,a,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ht+"NaN")}for(e=Te(l),_e=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Pt(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Jn((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(s=n,n=s.plus(Wt(l,s,o+2)).times(.5),Pt(s.d).slice(0,o)===(t=Pt(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(pe(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;o+=4}return _e=!0,pe(n,r)};V.times=V.mul=function(e){var t,r,n,a,s,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=s[a]+m[n]*h[a-n-1]+t,s[a--]=l%Le|0,t=l/Le|0;s[a]=(s[a]+t)%Le|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,_e?pe(e,f.precision):e};V.toDecimalPlaces=V.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ct(e,0,Zn),t===void 0?t=n.rounding:Ct(t,0,8),pe(r,e+Te(r)+1,t))};V.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Br(n,!0):(Ct(e,0,Zn),t===void 0?t=a.rounding:Ct(t,0,8),n=pe(new a(n),e+1,t),r=Br(n,!0,e+1)),r};V.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?Br(a):(Ct(e,0,Zn),t===void 0?t=s.rounding:Ct(t,0,8),n=pe(new s(a),e+Te(a)+1,t),r=Br(n.abs(),!1,e+Te(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};V.toInteger=V.toint=function(){var e=this,t=e.constructor;return pe(new t(e),Te(e)+1,t.rounding)};V.toNumber=function(){return+this};V.toPower=V.pow=function(e){var t,r,n,a,s,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(rt);if(l=new c(l),!l.s){if(e.s<1)throw Error(ht+"Infinity");return l}if(l.eq(rt))return l;if(n=c.precision,e.eq(rt))return pe(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=l.s,o){if((r=d<0?-d:d)<=rx){for(a=new c(rt),t=Math.ceil(n/we+4),_e=!1;r%2&&(a=a.times(l),Qf(a.d,t)),r=Jn(r/2),r!==0;)l=l.times(l),Qf(l.d,t);return _e=!0,e.s<0?new c(rt).div(a):pe(a,n)}}else if(s<0)throw Error(ht+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,_e=!1,a=e.times(Ei(l,n+u)),_e=!0,a=ix(a),a.s=s,a};V.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=Te(a),n=Br(a,r<=s.toExpNeg||r>=s.toExpPos)):(Ct(e,1,Zn),t===void 0?t=s.rounding:Ct(t,0,8),a=pe(new s(a),e,t),r=Te(a),n=Br(a,e<=r||r<=s.toExpNeg,e)),n};V.toSignificantDigits=V.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ct(e,1,Zn),t===void 0?t=n.rounding:Ct(t,0,8)),pe(new n(r),e,t)};V.toString=V.valueOf=V.val=V.toJSON=V[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Te(e),r=e.constructor;return Br(e,t<=r.toExpNeg||t>=r.toExpPos)};function nx(e,t){var r,n,a,s,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),_e?pe(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),s=o-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/we),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/Le|0,c[s]%=Le;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,_e?pe(t,f):t}function Ct(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Cr+e)}function Pt(e){var t,r,n,a=e.length-1,s="",o=e[0];if(a>0){for(s+=o,t=1;t<a;t++)n=e[t]+"",r=we-n.length,r&&(s+=tr(r)),s+=n;o=e[t],n=o+"",r=we-n.length,r&&(s+=tr(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Wt=function(){function e(n,a){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+o,n[l]=s%Le|0,o=s/Le|0;return o&&n.unshift(o),n}function t(n,a,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var o=0;s--;)n[s]-=o,o=n[s]<a[s]?1:0,n[s]=o*Le+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,o){var l,c,u,d,f,h,m,v,p,x,j,g,w,_,y,b,N,S,A=n.constructor,T=n.s==a.s?1:-1,P=n.d,$=a.d;if(!n.s)return new A(n);if(!a.s)throw Error(ht+"Division by zero");for(c=n.e-a.e,N=$.length,y=P.length,m=new A(T),v=m.d=[],u=0;$[u]==(P[u]||0);)++u;if($[u]>(P[u]||0)&&--c,s==null?g=s=A.precision:o?g=s+(Te(n)-Te(a))+1:g=s,g<0)return new A(0);if(g=g/we+2|0,u=0,N==1)for(d=0,$=$[0],g++;(u<y||d)&&g--;u++)w=d*Le+(P[u]||0),v[u]=w/$|0,d=w%$|0;else{for(d=Le/($[0]+1)|0,d>1&&($=e($,d),P=e(P,d),N=$.length,y=P.length),_=N,p=P.slice(0,N),x=p.length;x<N;)p[x++]=0;S=$.slice(),S.unshift(0),b=$[0],$[1]>=Le/2&&++b;do d=0,l=t($,p,N,x),l<0?(j=p[0],N!=x&&(j=j*Le+(p[1]||0)),d=j/b|0,d>1?(d>=Le&&(d=Le-1),f=e($,d),h=f.length,x=p.length,l=t(f,p,h,x),l==1&&(d--,r(f,N<h?S:$,h))):(d==0&&(l=d=1),f=$.slice()),h=f.length,h<x&&f.unshift(0),r(p,f,x),l==-1&&(x=p.length,l=t($,p,N,x),l<1&&(d++,r(p,N<x?S:$,x))),x=p.length):l===0&&(d++,p=[0]),v[u++]=d,l&&p[0]?p[x++]=P[_]||0:(p=[P[_]],x=1);while((_++<y||p[0]!==void 0)&&g--)}return v[0]||v.shift(),m.e=c,pe(m,o?s+Te(m)+1:s)}}();function ix(e,t){var r,n,a,s,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Te(e)>16)throw Error(Su+Te(e));if(!e.s)return new d(rt);for(_e=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Or(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(rt),d.precision=l;;){if(a=pe(a.times(e),l),r=r.times(++c),o=s.plus(Wt(a,r,l)),Pt(o.d).slice(0,l)===Pt(s.d).slice(0,l)){for(;u--;)s=pe(s.times(s),l);return d.precision=f,t==null?(_e=!0,pe(s,f)):s}s=o}}function Te(e){for(var t=e.e*we,r=e.d[0];r>=10;r/=10)t++;return t}function Ho(e,t,r){if(t>e.LN10.sd())throw _e=!0,r&&(e.precision=r),Error(ht+"LN10 precision limit exceeded");return pe(new e(e.LN10),t)}function tr(e){for(var t="";e--;)t+="0";return t}function Ei(e,t){var r,n,a,s,o,l,c,u,d,f=1,h=10,m=e,v=m.d,p=m.constructor,x=p.precision;if(m.s<1)throw Error(ht+(m.s?"NaN":"-Infinity"));if(m.eq(rt))return new p(0);if(t==null?(_e=!1,u=x):u=t,m.eq(10))return t==null&&(_e=!0),Ho(p,u);if(u+=h,p.precision=u,r=Pt(v),n=r.charAt(0),s=Te(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Pt(m.d),n=r.charAt(0),f++;s=Te(m),n>1?(m=new p("0."+r),s++):m=new p(n+"."+r.slice(1))}else return c=Ho(p,u+2,x).times(s+""),m=Ei(new p(n+"."+r.slice(1)),u-h).plus(c),p.precision=x,t==null?(_e=!0,pe(m,x)):m;for(l=o=m=Wt(m.minus(rt),m.plus(rt),u),d=pe(m.times(m),u),a=3;;){if(o=pe(o.times(d),u),c=l.plus(Wt(o,new p(a),u)),Pt(c.d).slice(0,u)===Pt(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(Ho(p,u+2,x).times(s+""))),l=Wt(l,new p(f),u),p.precision=x,t==null?(_e=!0,pe(l,x)):l;l=c,a+=2}}function Jf(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Jn(r/we),e.d=[],n=(r+1)%we,r<0&&(n+=we),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=we;n<a;)e.d.push(+t.slice(n,n+=we));t=t.slice(n),n=we-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),_e&&(e.e>es||e.e<-es))throw Error(Su+r)}else e.s=0,e.e=0,e.d=[0];return e}function pe(e,t,r){var n,a,s,o,l,c,u,d,f=e.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=we,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/we),s=f.length,d>=s)return e;for(u=s=f[d],o=1;s>=10;s/=10)o++;n%=we,a=n-we+o}if(r!==void 0&&(s=Or(10,o-a-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Or(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=Te(e),f.length=1,t=t-s-1,f[0]=Or(10,(we-t%we)%we),e.e=Jn(-t/we)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=Or(10,we-n),f[d]=a>0?(u/Or(10,o-a)%Or(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==Le&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=Le)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(_e&&(e.e>es||e.e<-es))throw Error(Su+Te(e));return e}function ax(e,t){var r,n,a,s,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),_e?pe(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/we),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=Le-1;--c[s],c[a]+=Le}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,_e?pe(t,m):t):new h(0)}function Br(e,t,r){var n,a=Te(e),s=Pt(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+tr(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+tr(-a-1)+s,r&&(n=r-o)>0&&(s+=tr(n))):a>=o?(s+=tr(a+1-o),r&&(n=r-a-1)>0&&(s=s+"."+tr(n))):((n=a+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(s+="."),s+=tr(n))),e.s<0?"-"+s:s}function Qf(e,t){if(e.length>t)return e.length=t,!0}function sx(e){var t,r,n;function a(s){var o=this;if(!(o instanceof a))return new a(s);if(o.constructor=a,s instanceof a){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Cr+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return Jf(o,s.toString())}else if(typeof s!="string")throw Error(Cr+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,cM.test(s))Jf(o,s);else throw Error(Cr+s)}if(a.prototype=V,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=sx,a.config=a.set=uM,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function uM(e){if(!e||typeof e!="object")throw Error(ht+"Object expected");var t,r,n,a=["precision",1,Zn,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Jn(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Cr+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Cr+r+": "+n);return this}var Au=sx(lM);rt=new Au(1);const he=Au;function dM(e){return pM(e)||mM(e)||hM(e)||fM()}function fM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hM(e,t){if(e){if(typeof e=="string")return Rl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rl(e,t)}}function mM(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function pM(e){if(Array.isArray(e))return Rl(e)}function Rl(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var vM=function(t){return t},ox={},lx=function(t){return t===ox},eh=function(t){return function r(){return arguments.length===0||arguments.length===1&&lx(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},xM=function e(t,r){return t===1?r:eh(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var o=a.filter(function(l){return l!==ox}).length;return o>=t?r.apply(void 0,a):e(t-o,eh(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return lx(f)?c.shift():f});return r.apply(void 0,dM(d).concat(c))}))})},lo=function(t){return xM(t.length,t)},Ll=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},yM=lo(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),gM=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return vM;var a=r.reverse(),s=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},Bl=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},cx=function(t){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function bM(e){var t;return e===0?t=1:t=Math.floor(new he(e).abs().log(10).toNumber())+1,t}function jM(e,t,r){for(var n=new he(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var wM=lo(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),_M=lo(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),NM=lo(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const co={rangeStep:jM,getDigitCount:bM,interpolateNumber:wM,uninterpolateNumber:_M,uninterpolateTruncation:NM};function ql(e){return AM(e)||SM(e)||ux(e)||OM()}function OM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SM(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function AM(e){if(Array.isArray(e))return Fl(e)}function ki(e,t){return TM(e)||$M(e,t)||ux(e,t)||PM()}function PM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ux(e,t){if(e){if(typeof e=="string")return Fl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fl(e,t)}}function Fl(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $M(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,s=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw s}}return r}}function TM(e){if(Array.isArray(e))return e}function dx(e){var t=ki(e,2),r=t[0],n=t[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function fx(e,t,r){if(e.lte(0))return new he(0);var n=co.getDigitCount(e.toNumber()),a=new he(10).pow(n),s=e.div(a),o=n!==1?.05:.1,l=new he(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new he(Math.ceil(c))}function EM(e,t,r){var n=1,a=new he(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new he(10).pow(co.getDigitCount(e)-1),a=new he(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new he(Math.floor(e)))}else e===0?a=new he(Math.floor((t-1)/2)):r||(a=new he(Math.floor(e)));var o=Math.floor((t-1)/2),l=gM(yM(function(c){return a.add(new he(c-o).mul(n)).toNumber()}),Ll);return l(0,t)}function hx(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new he(0),tickMin:new he(0),tickMax:new he(0)};var s=fx(new he(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new he(0):(o=new he(e).add(t).div(2),o=o.sub(new he(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new he(t).sub(o).div(s).toNumber()),u=l+c+1;return u>r?hx(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:s,tickMin:o.sub(new he(l).mul(s)),tickMax:o.add(new he(c).mul(s))})}function kM(e){var t=ki(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=dx([r,n]),c=ki(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(ql(Ll(0,a-1).map(function(){return 1/0}))):[].concat(ql(Ll(0,a-1).map(function(){return-1/0})),[d]);return r>n?Bl(f):f}if(u===d)return EM(u,a,s);var h=hx(u,d,o,s),m=h.step,v=h.tickMin,p=h.tickMax,x=co.rangeStep(v,p.add(new he(.1).mul(m)),m);return r>n?Bl(x):x}function CM(e,t){var r=ki(e,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=dx([n,a]),l=ki(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=fx(new he(u).sub(c).div(d-1),s,0),h=[].concat(ql(co.rangeStep(new he(c),new he(u).sub(new he(.99).mul(f)),f)),[u]);return n>a?Bl(h):h}var MM=cx(kM),IM=cx(CM),DM="Invariant failed";function qr(e,t){throw new Error(DM)}var RM=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function wn(e){"@babel/helpers - typeof";return wn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wn(e)}function ts(){return ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ts.apply(this,arguments)}function LM(e,t){return zM(e)||FM(e,t)||qM(e,t)||BM()}function BM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qM(e,t){if(e){if(typeof e=="string")return th(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return th(e,t)}}function th(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function FM(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function zM(e){if(Array.isArray(e))return e}function UM(e,t){if(e==null)return{};var r=WM(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function WM(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function HM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vx(n.key),n)}}function GM(e,t,r){return t&&KM(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function VM(e,t,r){return t=rs(t),XM(e,mx()?Reflect.construct(t,r||[],rs(e).constructor):t.apply(e,r))}function XM(e,t){if(t&&(wn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YM(e)}function YM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mx=function(){return!!e})()}function rs(e){return rs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rs(e)}function ZM(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zl(e,t)}function zl(e,t){return zl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zl(e,t)}function px(e,t,r){return t=vx(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vx(e){var t=JM(e,"string");return wn(t)=="symbol"?t:t+""}function JM(e,t){if(wn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var oa=function(e){function t(){return HM(this,t),VM(this,t,arguments)}return ZM(t,e),GM(t,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=UM(n,RM),m=X(h,!1);this.props.direction==="x"&&d.type!=="number"&&qr();var v=c.map(function(p){var x=u(p,l),j=x.x,g=x.y,w=x.value,_=x.errorVal;if(!_)return null;var y=[],b,N;if(Array.isArray(_)){var S=LM(_,2);b=S[0],N=S[1]}else b=N=_;if(s==="vertical"){var A=d.scale,T=g+a,P=T+o,$=T-o,k=A(w-b),M=A(w+N);y.push({x1:M,y1:P,x2:M,y2:$}),y.push({x1:k,y1:T,x2:M,y2:T}),y.push({x1:k,y1:P,x2:k,y2:$})}else if(s==="horizontal"){var C=f.scale,D=j+a,R=D-o,q=D+o,z=C(w-b),Y=C(w+N);y.push({x1:R,y1:Y,x2:q,y2:Y}),y.push({x1:D,y1:z,x2:D,y2:Y}),y.push({x1:R,y1:z,x2:q,y2:z})}return O.createElement(se,ts({className:"recharts-errorBar",key:"bar-".concat(y.map(function(Q){return"".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))},m),y.map(function(Q){return O.createElement("line",ts({},Q,{key:"line-".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))}))});return O.createElement(se,{className:"recharts-errorBars"},v)}}])}(O.Component);px(oa,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});px(oa,"displayName","ErrorBar");function Ci(e){"@babel/helpers - typeof";return Ci=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ci(e)}function rh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rh(Object(r),!0).forEach(function(n){QM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QM(e,t,r){return t=eI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eI(e){var t=tI(e,"string");return Ci(t)=="symbol"?t:t+""}function tI(e,t){if(Ci(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ci(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xx=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,s=t.legendContent,o=tt(r,ln);if(!o)return null;var l=ln.defaultProps,c=l!==void 0?br(br({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,v=m.sectors||m.data||[];return d.concat(v.map(function(p){return{type:o.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?br(br({},h),f.props):{},v=m.dataKey,p=m.name,x=m.legendType,j=m.hide;return{inactive:j,dataKey:v,type:c.iconType||x||"square",color:Pu(f),value:p||v,payload:m}}),br(br(br({},c),ln.getWithHeight(o,a)),{},{payload:u,item:o})};function Mi(e){"@babel/helpers - typeof";return Mi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mi(e)}function nh(e){return aI(e)||iI(e)||nI(e)||rI()}function rI(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nI(e,t){if(e){if(typeof e=="string")return Ul(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ul(e,t)}}function iI(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aI(e){if(Array.isArray(e))return Ul(e)}function Ul(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ih(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ih(Object(r),!0).forEach(function(n){un(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ih(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function un(e,t,r){return t=sI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sI(e){var t=oI(e,"string");return Mi(t)=="symbol"?t:t+""}function oI(e,t){if(Mi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ae(e,t,r){return te(e)||te(t)?r:De(t)?nt(e,t,r):J(t)?t(e):r}function mi(e,t,r,n){var a=iM(e,function(l){return Ae(l,t)});if(r==="number"){var s=a.filter(function(l){return B(l)||parseFloat(l)});return s.length?[oo(s),ir(s)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!te(l)}):a;return o.map(function(l){return De(l)||l instanceof Date?l:""})}var lI=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n?.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(He(f-d)!==He(h-f)){var v=[];if(He(h-f)===He(c[1]-c[0])){m=h;var p=f+c[1]-c[0];v[0]=Math.min(p,(p+d)/2),v[1]=Math.max(p,(p+d)/2)}else{m=d;var x=h+c[1]-c[0];v[0]=Math.min(f,(x+f)/2),v[1]=Math.max(f,(x+f)/2)}var j=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>j[0]&&t<=j[1]||t>=v[0]&&t<=v[1]){o=a[u].index;break}}else{var g=Math.min(d,h),w=Math.max(d,h);if(t>(g+f)/2&&t<=(w+f)/2){o=a[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}return o},Pu=function(t){var r,n=t,a=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Oe(Oe({},t.type.defaultProps),t.props):t.props,o=s.stroke,l=s.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},cI=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var v=d[f[h]],p=v.items,x=v.cateAxisId,j=p.filter(function(N){return Ut(N.type).indexOf("Bar")>=0});if(j&&j.length){var g=j[0].type.defaultProps,w=g!==void 0?Oe(Oe({},g),j[0].props):j[0].props,_=w.barSize,y=w[x];o[y]||(o[y]=[]);var b=te(_)?r:_;o[y].push({item:j[0],stackList:j.slice(1),barSize:te(b)?void 0:Ke(b,n,0)})}}return o},uI=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,s=t.sizeList,o=s===void 0?[]:s,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Ke(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=a/c,v=o.reduce(function(_,y){return _+y.barSize||0},0);v+=(c-1)*u,v>=a&&(v-=(c-1)*u,u=0),v>=a&&m>0&&(h=!0,m*=.9,v=c*m);var p=(a-v)/2>>0,x={offset:p-u,size:0};d=o.reduce(function(_,y){var b={item:y.item,position:{offset:x.offset+x.size+u,size:h?m:y.barSize}},N=[].concat(nh(_),[b]);return x=N[N.length-1].position,y.stackList&&y.stackList.length&&y.stackList.forEach(function(S){N.push({item:S,position:x})}),N},f)}else{var j=Ke(n,a,0,!0);a-2*j-(c-1)*u<=0&&(u=0);var g=(a-2*j-(c-1)*u)/c;g>1&&(g>>=0);var w=l===+l?Math.min(g,l):g;d=o.reduce(function(_,y,b){var N=[].concat(nh(_),[{item:y.item,position:{offset:j+(g+u)*b+(g-w)/2,size:w}}]);return y.stackList&&y.stackList.length&&y.stackList.forEach(function(S){N.push({item:S,position:N[N.length-1].position})}),N},f)}return d},dI=function(t,r,n,a){var s=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=xx({children:s,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,m=u.align,v=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&v==="middle")&&m!=="center"&&B(t[m]))return Oe(Oe({},t),{},un({},m,t[m]+(f||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&v!=="middle"&&B(t[v]))return Oe(Oe({},t),{},un({},v,t[v]+(h||0)))}return t},fI=function(t,r,n){return te(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},yx=function(t,r,n,a,s){var o=r.props.children,l=it(o,oa).filter(function(u){return fI(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Ae(d,n);if(te(f))return u;var h=Array.isArray(f)?[oo(f),ir(f)]:[f,f],m=c.reduce(function(v,p){var x=Ae(d,p,0),j=h[0]-Math.abs(Array.isArray(x)?x[0]:x),g=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(j,v[0]),Math.max(g,v[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},hI=function(t,r,n,a,s){var o=r.map(function(l){return yx(t,l,n,s,a)}).filter(function(l){return!te(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},gx=function(t,r,n,a,s){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&yx(t,c,u,a)||mi(t,u,n,s)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},bx=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},jx=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var s,o,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(n),l},zt=function(t,r,n){if(!t)return null;var a=t.scale,s=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&l?.length>=2?He(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!Kn(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:s?s[f]:f,index:h,offset:u}})},Ko=new WeakMap,ga=function(t,r){if(typeof r!="function")return t;Ko.has(t)||Ko.set(t,new WeakMap);var n=Ko.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},wx=function(t,r,n){var a=t.scale,s=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Si(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Ya(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:hi(),realScaleType:"point"}:s==="category"?{scale:Si(),realScaleType:"band"}:{scale:Ya(),realScaleType:"linear"};if(Ir(a)){var c="scale".concat(Gs(a));return{scale:(Zf[c]||hi)(),realScaleType:Zf[c]?c:"point"}}return J(a)?{scale:a}:{scale:hi(),realScaleType:"point"}},ah=1e-4,_x=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),s=Math.min(a[0],a[1])-ah,o=Math.max(a[0],a[1])+ah,l=t(r[0]),c=t(r[n-1]);(l<s||l>o||c<s||c>o)&&t.domain([r[0],r[n-1]])}},mI=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},pI=function(t,r){if(!r||r.length!==2||!B(r[0])||!B(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!B(t[0])||t[0]<n)&&(s[0]=n),(!B(t[1])||t[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},vI=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0,l=0;l<r;++l){var c=Kn(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},xI=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0;o<r;++o){var l=Kn(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},yI={sign:vI,expand:R1,none:mn,silhouette:L1,wiggle:B1,positive:xI},gI=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),s=yI[n],o=D1().keys(a).value(function(l,c){return+Ae(l,c,0)}).order(ml).offset(s);return o(t)},bI=function(t,r,n,a,s,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var m,v=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Oe(Oe({},h.type.defaultProps),h.props):h.props,p=v.stackId,x=v.hide;if(x)return f;var j=v[n],g=f[j]||{hasStack:!1,stackGroups:{}};if(De(p)){var w=g.stackGroups[p]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(h),g.hasStack=!0,g.stackGroups[p]=w}else g.stackGroups[Hr("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Oe(Oe({},f),{},un({},j,g))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var v={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,x){var j=m.stackGroups[x];return Oe(Oe({},p),{},un({},x,{numericAxisId:n,cateAxisId:a,items:j.items,stackedData:gI(t,j.items,s)}))},v)}return Oe(Oe({},f),{},un({},h,m))},d)},Nx=function(t,r){var n=r.realScaleType,a=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=MM(u,s,l);return t.domain([oo(d),ir(d)]),{niceTicks:d}}if(s&&a==="number"){var f=t.domain(),h=IM(f,s,l);return{niceTicks:h}}return null};function ns(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,s=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!te(a[t.dataKey])){var l=$a(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=Ae(a,te(o)?t.dataKey:o);return te(c)?null:t.scale(c)}var sh=function(t){var r=t.axis,n=t.ticks,a=t.offset,s=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Ae(o,r.dataKey,r.domain[l]);return te(c)?null:r.scale(c)-s/2+a},jI=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},wI=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Oe(Oe({},t.type.defaultProps),t.props):t.props,s=a.stackId;if(De(s)){var o=r[s];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},_I=function(t){return t.reduce(function(r,n){return[oo(n.concat([r[0]]).filter(B)),ir(n.concat([r[1]]).filter(B))]},[1/0,-1/0])},Ox=function(t,r,n){return Object.keys(t).reduce(function(a,s){var o=t[s],l=o.stackedData,c=l.reduce(function(u,d){var f=_I(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},oh=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,lh=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Wl=function(t,r,n){if(J(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(B(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(oh.test(t[0])){var s=+oh.exec(t[0])[1];a[0]=r[0]-s}else J(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(B(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(lh.test(t[1])){var o=+lh.exec(t[1])[1];a[1]=r[1]+o}else J(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},is=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var s=ru(r,function(f){return f.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},ch=function(t,r,n){return!t||!t.length||Lr(t,nt(n,"type.defaultProps.domain"))?r:t},Sx=function(t,r){var n=t.type.defaultProps?Oe(Oe({},t.type.defaultProps),t.props):t.props,a=n.dataKey,s=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Oe(Oe({},X(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:s||a,color:Pu(t),value:Ae(r,a),type:c,payload:r,chartType:u,hide:d})};function Ii(e){"@babel/helpers - typeof";return Ii=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ii(e)}function uh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uh(Object(r),!0).forEach(function(n){Ax(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ax(e,t,r){return t=NI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NI(e){var t=OI(e,"string");return Ii(t)=="symbol"?t:t+""}function OI(e,t){if(Ii(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ii(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SI(e,t){return TI(e)||$I(e,t)||PI(e,t)||AI()}function AI(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PI(e,t){if(e){if(typeof e=="string")return dh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dh(e,t)}}function dh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $I(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function TI(e){if(Array.isArray(e))return e}var as=Math.PI/180,EI=function(t){return t*180/Math.PI},ye=function(t,r,n,a){return{x:t+Math.cos(-as*a)*n,y:r+Math.sin(-as*a)*n}},Px=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},kI=function(t,r,n,a,s){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Ke(t.cx,o,o/2),f=Ke(t.cy,l,l/2),h=Px(o,l,n),m=Ke(t.innerRadius,h,0),v=Ke(t.outerRadius,h,h*.8),p=Object.keys(r);return p.reduce(function(x,j){var g=r[j],w=g.domain,_=g.reversed,y;if(te(g.range))a==="angleAxis"?y=[c,u]:a==="radiusAxis"&&(y=[m,v]),_&&(y=[y[1],y[0]]);else{y=g.range;var b=y,N=SI(b,2);c=N[0],u=N[1]}var S=wx(g,s),A=S.realScaleType,T=S.scale;T.domain(w).range(y),_x(T);var P=Nx(T,Bt(Bt({},g),{},{realScaleType:A})),$=Bt(Bt(Bt({},g),P),{},{range:y,radius:v,realScaleType:A,scale:T,cx:d,cy:f,innerRadius:m,outerRadius:v,startAngle:c,endAngle:u});return Bt(Bt({},x),{},Ax({},j,$))},{})},CI=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-o,2))},MI=function(t,r){var n=t.x,a=t.y,s=r.cx,o=r.cy,l=CI({x:n,y:a},{x:s,y:o});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:EI(u),angleInRadian:u}},II=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(a,s);return{startAngle:r-o*360,endAngle:n-o*360}},DI=function(t,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(s,o);return t+l*360},fh=function(t,r){var n=t.x,a=t.y,s=MI({x:n,y:a},r),o=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=II(r),f=d.startAngle,h=d.endAngle,m=l,v;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;v=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;v=m>=h&&m<=f}return v?Bt(Bt({},r),{},{radius:o,angle:DI(m,r)}):null},$x=function(t){return!I.isValidElement(t)&&!J(t)&&typeof t!="boolean"?t.className:""};function Di(e){"@babel/helpers - typeof";return Di=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Di(e)}var RI=["offset"];function LI(e){return zI(e)||FI(e)||qI(e)||BI()}function BI(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qI(e,t){if(e){if(typeof e=="string")return Hl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hl(e,t)}}function FI(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zI(e){if(Array.isArray(e))return Hl(e)}function Hl(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function UI(e,t){if(e==null)return{};var r=WI(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function WI(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Me(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hh(Object(r),!0).forEach(function(n){HI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HI(e,t,r){return t=KI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KI(e){var t=GI(e,"string");return Di(t)=="symbol"?t:t+""}function GI(e,t){if(Di(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Di(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ri(){return Ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ri.apply(this,arguments)}var VI=function(t){var r=t.value,n=t.formatter,a=te(t.children)?r:t.children;return J(n)?n(a):a},XI=function(t,r){var n=He(r-t),a=Math.min(Math.abs(r-t),360);return n*a},YI=function(t,r,n){var a=t.position,s=t.viewBox,o=t.offset,l=t.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,v=c.endAngle,p=c.clockWise,x=(f+h)/2,j=XI(m,v),g=j>=0?1:-1,w,_;a==="insideStart"?(w=m+g*o,_=p):a==="insideEnd"?(w=v-g*o,_=!p):a==="end"&&(w=v+g*o,_=p),_=j<=0?_:!_;var y=ye(u,d,x,w),b=ye(u,d,x,w+(_?1:-1)*359),N="M".concat(y.x,",").concat(y.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(_?0:1,`,
    `).concat(b.x,",").concat(b.y),S=te(t.id)?Hr("recharts-radial-line-"):t.id;return O.createElement("text",Ri({},n,{dominantBaseline:"central",className:re("recharts-radial-bar-label",l)}),O.createElement("defs",null,O.createElement("path",{id:S,d:N})),O.createElement("textPath",{xlinkHref:"#".concat(S)},r))},ZI=function(t){var r=t.viewBox,n=t.offset,a=t.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,h=(d+f)/2;if(a==="outside"){var m=ye(o,l,u+n,h),v=m.x,p=m.y;return{x:v,y:p,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,j=ye(o,l,x,h),g=j.x,w=j.y;return{x:g,y:w,textAnchor:"middle",verticalAnchor:"middle"}},JI=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,s=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,m=f>0?"end":"start",v=f>0?"start":"end",p=u>=0?1:-1,x=p*a,j=p>0?"end":"start",g=p>0?"start":"end";if(s==="top"){var w={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:m};return Me(Me({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:v};return Me(Me({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var y={x:l-x,y:c+d/2,textAnchor:j,verticalAnchor:"middle"};return Me(Me({},y),n?{width:Math.max(y.x-n.x,0),height:d}:{})}if(s==="right"){var b={x:l+u+x,y:c+d/2,textAnchor:g,verticalAnchor:"middle"};return Me(Me({},b),n?{width:Math.max(n.x+n.width-b.x,0),height:d}:{})}var N=n?{width:u,height:d}:{};return s==="insideLeft"?Me({x:l+x,y:c+d/2,textAnchor:g,verticalAnchor:"middle"},N):s==="insideRight"?Me({x:l+u-x,y:c+d/2,textAnchor:j,verticalAnchor:"middle"},N):s==="insideTop"?Me({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:v},N):s==="insideBottom"?Me({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},N):s==="insideTopLeft"?Me({x:l+x,y:c+h,textAnchor:g,verticalAnchor:v},N):s==="insideTopRight"?Me({x:l+u-x,y:c+h,textAnchor:j,verticalAnchor:v},N):s==="insideBottomLeft"?Me({x:l+x,y:c+d-h,textAnchor:g,verticalAnchor:m},N):s==="insideBottomRight"?Me({x:l+u-x,y:c+d-h,textAnchor:j,verticalAnchor:m},N):zn(s)&&(B(s.x)||Ar(s.x))&&(B(s.y)||Ar(s.y))?Me({x:l+Ke(s.x,u),y:c+Ke(s.y,d),textAnchor:"end",verticalAnchor:"end"},N):Me({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},QI=function(t){return"cx"in t&&B(t.cx)};function Be(e){var t=e.offset,r=t===void 0?5:t,n=UI(e,RI),a=Me({offset:r},n),s=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!s||te(l)&&te(c)&&!I.isValidElement(u)&&!J(u))return null;if(I.isValidElement(u))return I.cloneElement(u,a);var m;if(J(u)){if(m=I.createElement(u,a),I.isValidElement(m))return m}else m=VI(a);var v=QI(s),p=X(a,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return YI(a,m,p);var x=v?ZI(a):JI(a);return O.createElement(Rr,Ri({className:re("recharts-label",f)},p,x,{breakAll:h}),m)}Be.displayName="Label";var Tx=function(t){var r=t.cx,n=t.cy,a=t.angle,s=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,v=t.left,p=t.width,x=t.height,j=t.clockWise,g=t.labelViewBox;if(g)return g;if(B(p)&&B(x)){if(B(f)&&B(h))return{x:f,y:h,width:p,height:x};if(B(m)&&B(v))return{x:m,y:v,width:p,height:x}}return B(f)&&B(h)?{x:f,y:h,width:0,height:0}:B(r)&&B(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:j}:t.viewBox?t.viewBox:{}},eD=function(t,r){return t?t===!0?O.createElement(Be,{key:"label-implicit",viewBox:r}):De(t)?O.createElement(Be,{key:"label-implicit",viewBox:r,value:t}):I.isValidElement(t)?t.type===Be?I.cloneElement(t,{key:"label-implicit",viewBox:r}):O.createElement(Be,{key:"label-implicit",content:t,viewBox:r}):J(t)?O.createElement(Be,{key:"label-implicit",content:t,viewBox:r}):zn(t)?O.createElement(Be,Ri({viewBox:r},t,{key:"label-implicit"})):null:null},tD=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,s=Tx(t),o=it(a,Be).map(function(c,u){return I.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return o;var l=eD(t.label,r||s);return[l].concat(LI(o))};Be.parseViewBox=Tx;Be.renderCallByParent=tD;function rD(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var nD=rD;const iD=me(nD);function Li(e){"@babel/helpers - typeof";return Li=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Li(e)}var aD=["valueAccessor"],sD=["data","dataKey","clockWise","id","textBreakAll"];function oD(e){return dD(e)||uD(e)||cD(e)||lD()}function lD(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cD(e,t){if(e){if(typeof e=="string")return Kl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kl(e,t)}}function uD(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dD(e){if(Array.isArray(e))return Kl(e)}function Kl(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ss(){return ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ss.apply(this,arguments)}function mh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ph(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mh(Object(r),!0).forEach(function(n){fD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fD(e,t,r){return t=hD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hD(e){var t=mD(e,"string");return Li(t)=="symbol"?t:t+""}function mD(e,t){if(Li(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Li(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vh(e,t){if(e==null)return{};var r=pD(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pD(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var vD=function(t){return Array.isArray(t.value)?iD(t.value):t.value};function Et(e){var t=e.valueAccessor,r=t===void 0?vD:t,n=vh(e,aD),a=n.data,s=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=vh(n,sD);return!a||!a.length?null:O.createElement(se,{className:"recharts-label-list"},a.map(function(d,f){var h=te(s)?r(d,f):Ae(d&&d.payload,s),m=te(l)?{}:{id:"".concat(l,"-").concat(f)};return O.createElement(Be,ss({},X(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Be.parseViewBox(te(o)?d:ph(ph({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Et.displayName="LabelList";function xD(e,t){return e?e===!0?O.createElement(Et,{key:"labelList-implicit",data:t}):O.isValidElement(e)||J(e)?O.createElement(Et,{key:"labelList-implicit",data:t,content:e}):zn(e)?O.createElement(Et,ss({data:t},e,{key:"labelList-implicit"})):null:null}function yD(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=it(n,Et).map(function(o,l){return I.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var s=xD(e.label,t);return[s].concat(oD(a))}Et.renderCallByParent=yD;function Bi(e){"@babel/helpers - typeof";return Bi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bi(e)}function Gl(){return Gl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gl.apply(this,arguments)}function xh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xh(Object(r),!0).forEach(function(n){gD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gD(e,t,r){return t=bD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bD(e){var t=jD(e,"string");return Bi(t)=="symbol"?t:t+""}function jD(e,t){if(Bi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wD=function(t,r){var n=He(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},ba=function(t){var r=t.cx,n=t.cy,a=t.radius,s=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/as,h=u?s:s+o*f,m=ye(r,n,d,h),v=ye(r,n,a,h),p=u?s-o*f:s,x=ye(r,n,d*Math.cos(f*as),p);return{center:m,circleTangency:v,lineTangency:x,theta:f}},Ex=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.startAngle,l=t.endAngle,c=wD(o,l),u=o+c,d=ye(r,n,s,o),f=ye(r,n,s,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var m=ye(r,n,a,o),v=ye(r,n,a,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},_D=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=He(d-u),h=ba({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,v=h.lineTangency,p=h.theta,x=ba({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),j=x.circleTangency,g=x.lineTangency,w=x.theta,_=c?Math.abs(u-d):Math.abs(u-d)-p-w;if(_<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Ex({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d});var y="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
  `);if(a>0){var b=ba({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),N=b.circleTangency,S=b.lineTangency,A=b.theta,T=ba({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=T.circleTangency,$=T.lineTangency,k=T.theta,M=c?Math.abs(u-d):Math.abs(u-d)-A-k;if(M<0&&o===0)return"".concat(y,"L").concat(r,",").concat(n,"Z");y+="L".concat($.x,",").concat($.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(M>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,"Z")}else y+="L".concat(r,",").concat(n,"Z");return y},ND={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},kx=function(t){var r=yh(yh({},ND),t),n=r.cx,a=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<s||d===f)return null;var m=re("recharts-sector",h),v=o-s,p=Ke(l,v,0,!0),x;return p>0&&Math.abs(d-f)<360?x=_D({cx:n,cy:a,innerRadius:s,outerRadius:o,cornerRadius:Math.min(p,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):x=Ex({cx:n,cy:a,innerRadius:s,outerRadius:o,startAngle:d,endAngle:f}),O.createElement("path",Gl({},X(r,!0),{className:m,d:x,role:"img"}))};function qi(e){"@babel/helpers - typeof";return qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qi(e)}function Vl(){return Vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vl.apply(this,arguments)}function gh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gh(Object(r),!0).forEach(function(n){OD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OD(e,t,r){return t=SD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SD(e){var t=AD(e,"string");return qi(t)=="symbol"?t:t+""}function AD(e,t){if(qi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jh={curveBasisClosed:O1,curveBasisOpen:S1,curveBasis:N1,curveBumpX:u1,curveBumpY:d1,curveLinearClosed:A1,curveLinear:Xs,curveMonotoneX:P1,curveMonotoneY:$1,curveNatural:T1,curveStep:E1,curveStepAfter:C1,curveStepBefore:k1},ja=function(t){return t.x===+t.x&&t.y===+t.y},si=function(t){return t.x},oi=function(t){return t.y},PD=function(t,r){if(J(t))return t;var n="curve".concat(Gs(t));return(n==="curveMonotone"||n==="curveBump")&&r?jh["".concat(n).concat(r==="vertical"?"Y":"X")]:jh[n]||Xs},$D=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,s=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=PD(n,l),f=u?s.filter(function(p){return ja(p)}):s,h;if(Array.isArray(o)){var m=u?o.filter(function(p){return ja(p)}):o,v=f.map(function(p,x){return bh(bh({},p),{},{base:m[x]})});return l==="vertical"?h=da().y(oi).x1(si).x0(function(p){return p.base.x}):h=da().x(si).y1(oi).y0(function(p){return p.base.y}),h.defined(ja).curve(d),h(v)}return l==="vertical"&&B(o)?h=da().y(oi).x1(si).x0(o):B(o)?h=da().x(si).y1(oi).y0(o):h=Sp().x(si).y(oi),h.defined(ja).curve(d),h(f)},Mr=function(t){var r=t.className,n=t.points,a=t.path,s=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?$D(t):a;return I.createElement("path",Vl({},X(t,!1),Ta(t),{className:re("recharts-curve",r),d:o,ref:s}))},Cx={exports:{}},TD="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ED=TD,kD=ED;function Mx(){}function Ix(){}Ix.resetWarningCache=Mx;var CD=function(){function e(n,a,s,o,l,c){if(c!==kD){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Ix,resetWarningCache:Mx};return r.PropTypes=r,r};Cx.exports=CD();var MD=Cx.exports;const de=me(MD);var ID=Object.getOwnPropertyNames,DD=Object.getOwnPropertySymbols,RD=Object.prototype.hasOwnProperty;function wh(e,t){return function(n,a,s){return e(n,a,s)&&t(n,a,s)}}function wa(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var s=a.cache,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);var c=e(r,n,a);return s.delete(r),s.delete(n),c}}function _h(e){return ID(e).concat(DD(e))}var LD=Object.hasOwn||function(e,t){return RD.call(e,t)};function Vr(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var BD="__v",qD="__o",FD="_owner",Nh=Object.getOwnPropertyDescriptor,Oh=Object.keys;function zD(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function UD(e,t){return Vr(e.getTime(),t.getTime())}function WD(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function HD(e,t){return e===t}function Sh(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.entries(),o,l,c=0;(o=s.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var h=o.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var KD=Vr;function GD(e,t,r){var n=Oh(e),a=n.length;if(Oh(t).length!==a)return!1;for(;a-- >0;)if(!Dx(e,t,r,n[a]))return!1;return!0}function li(e,t,r){var n=_h(e),a=n.length;if(_h(t).length!==a)return!1;for(var s,o,l;a-- >0;)if(s=n[a],!Dx(e,t,r,s)||(o=Nh(e,s),l=Nh(t,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function VD(e,t){return Vr(e.valueOf(),t.valueOf())}function XD(e,t){return e.source===t.source&&e.flags===t.flags}function Ah(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.values(),o,l;(o=s.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function YD(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function ZD(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Dx(e,t,r,n){return(n===FD||n===qD||n===BD)&&(e.$$typeof||t.$$typeof)?!0:LD(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var JD="[object Arguments]",QD="[object Boolean]",eR="[object Date]",tR="[object Error]",rR="[object Map]",nR="[object Number]",iR="[object Object]",aR="[object RegExp]",sR="[object Set]",oR="[object String]",lR="[object URL]",cR=Array.isArray,Ph=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,$h=Object.assign,uR=Object.prototype.toString.call.bind(Object.prototype.toString);function dR(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,s=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(v,p,x){if(v===p)return!0;if(v==null||p==null)return!1;var j=typeof v;if(j!==typeof p)return!1;if(j!=="object")return j==="number"?o(v,p,x):j==="function"?a(v,p,x):!1;var g=v.constructor;if(g!==p.constructor)return!1;if(g===Object)return l(v,p,x);if(cR(v))return t(v,p,x);if(Ph!=null&&Ph(v))return f(v,p,x);if(g===Date)return r(v,p,x);if(g===RegExp)return u(v,p,x);if(g===Map)return s(v,p,x);if(g===Set)return d(v,p,x);var w=uR(v);return w===eR?r(v,p,x):w===aR?u(v,p,x):w===rR?s(v,p,x):w===sR?d(v,p,x):w===iR?typeof v.then!="function"&&typeof p.then!="function"&&l(v,p,x):w===lR?h(v,p,x):w===tR?n(v,p,x):w===JD?l(v,p,x):w===QD||w===nR||w===oR?c(v,p,x):!1}}function fR(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?li:zD,areDatesEqual:UD,areErrorsEqual:WD,areFunctionsEqual:HD,areMapsEqual:n?wh(Sh,li):Sh,areNumbersEqual:KD,areObjectsEqual:n?li:GD,arePrimitiveWrappersEqual:VD,areRegExpsEqual:XD,areSetsEqual:n?wh(Ah,li):Ah,areTypedArraysEqual:n?li:YD,areUrlsEqual:ZD};if(r&&(a=$h({},a,r(a))),t){var s=wa(a.areArraysEqual),o=wa(a.areMapsEqual),l=wa(a.areObjectsEqual),c=wa(a.areSetsEqual);a=$h({},a,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function hR(e){return function(t,r,n,a,s,o,l){return e(t,r,l)}}function mR(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,s=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return r(c,u,{cache:h,equals:a,meta:m,strict:s})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var o={cache:void 0,equals:a,meta:void 0,strict:s};return function(c,u){return r(c,u,o)}}var pR=vr();vr({strict:!0});vr({circular:!0});vr({circular:!0,strict:!0});vr({createInternalComparator:function(){return Vr}});vr({strict:!0,createInternalComparator:function(){return Vr}});vr({circular:!0,createInternalComparator:function(){return Vr}});vr({circular:!0,createInternalComparator:function(){return Vr},strict:!0});function vr(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,s=e.strict,o=s===void 0?!1:s,l=fR(e),c=dR(l),u=n?n(c):hR(c);return mR({circular:r,comparator:c,createState:a,equals:u,strict:o})}function vR(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Th(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>t?(e(s),r=-1):vR(a)};requestAnimationFrame(n)}function Xl(e){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xl(e)}function xR(e){return jR(e)||bR(e)||gR(e)||yR()}function yR(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gR(e,t){if(e){if(typeof e=="string")return Eh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Eh(e,t)}}function Eh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bR(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jR(e){if(Array.isArray(e))return e}function wR(){var e={},t=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=xR(o),c=l[0],u=l.slice(1);if(typeof c=="number"){Th(a.bind(null,u),c);return}a(c),Th(a.bind(null,u));return}Xl(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function Fi(e){"@babel/helpers - typeof";return Fi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fi(e)}function kh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ch(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kh(Object(r),!0).forEach(function(n){Rx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rx(e,t,r){return t=_R(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _R(e){var t=NR(e,"string");return Fi(t)==="symbol"?t:String(t)}function NR(e,t){if(Fi(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fi(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OR=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},SR=function(t){return t},AR=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},pi=function(t,r){return Object.keys(r).reduce(function(n,a){return Ch(Ch({},n),{},Rx({},a,t(a,r[a])))},{})},Mh=function(t,r,n){return t.map(function(a){return"".concat(AR(a)," ").concat(r,"ms ").concat(n)}).join(",")};function PR(e,t){return ER(e)||TR(e,t)||Lx(e,t)||$R()}function $R(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TR(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function ER(e){if(Array.isArray(e))return e}function kR(e){return IR(e)||MR(e)||Lx(e)||CR()}function CR(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lx(e,t){if(e){if(typeof e=="string")return Yl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yl(e,t)}}function MR(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function IR(e){if(Array.isArray(e))return Yl(e)}function Yl(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var os=1e-4,Bx=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},qx=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},Ih=function(t,r){return function(n){var a=Bx(t,r);return qx(a,n)}},DR=function(t,r){return function(n){var a=Bx(t,r),s=[].concat(kR(a.map(function(o,l){return o*l}).slice(1)),[0]);return qx(s,n)}},Dh=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,o=1,l=1;break;case"ease":a=.25,s=.1,o=.25,l=1;break;case"ease-in":a=.42,s=0,o=1,l=1;break;case"ease-out":a=.42,s=0,o=.58,l=1;break;case"ease-in-out":a=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=PR(u,4);a=d[0],s=d[1],o=d[2],l=d[3]}}}var f=Ih(a,o),h=Ih(s,l),m=DR(a,o),v=function(j){return j>1?1:j<0?0:j},p=function(j){for(var g=j>1?1:j,w=g,_=0;_<8;++_){var y=f(w)-g,b=m(w);if(Math.abs(y-g)<os||b<os)return h(w);w=v(w-y/b)}return h(w)};return p.isStepper=!1,p},RR=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,s=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*n,v=h*s,p=h+(m-v)*l/1e3,x=h*l/1e3+d;return Math.abs(x-f)<os&&Math.abs(p)<os?[f,0]:[x,p]};return c.isStepper=!0,c.dt=l,c},LR=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Dh(a);case"spring":return RR();default:if(a.split("(")[0]==="cubic-bezier")return Dh(a)}return typeof a=="function"?a:null};function zi(e){"@babel/helpers - typeof";return zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zi(e)}function Rh(e){return FR(e)||qR(e)||Fx(e)||BR()}function BR(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qR(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function FR(e){if(Array.isArray(e))return Jl(e)}function Lh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lh(Object(r),!0).forEach(function(n){Zl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zl(e,t,r){return t=zR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zR(e){var t=UR(e,"string");return zi(t)==="symbol"?t:String(t)}function UR(e,t){if(zi(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zi(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WR(e,t){return GR(e)||KR(e,t)||Fx(e,t)||HR()}function HR(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fx(e,t){if(e){if(typeof e=="string")return Jl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jl(e,t)}}function Jl(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KR(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function GR(e){if(Array.isArray(e))return e}var ls=function(t,r,n){return t+(r-t)*n},Ql=function(t){var r=t.from,n=t.to;return r!==n},VR=function e(t,r,n){var a=pi(function(s,o){if(Ql(o)){var l=t(o.from,o.to,o.velocity),c=WR(l,2),u=c[0],d=c[1];return Fe(Fe({},o),{},{from:u,velocity:d})}return o},r);return n<1?pi(function(s,o){return Ql(o)?Fe(Fe({},o),{},{velocity:ls(o.velocity,a[s].velocity,n),from:ls(o.from,a[s].from,n)}):o},r):e(t,a,n-1)};const XR=function(e,t,r,n,a){var s=OR(e,t),o=s.reduce(function(x,j){return Fe(Fe({},x),{},Zl({},j,[e[j],t[j]]))},{}),l=s.reduce(function(x,j){return Fe(Fe({},x),{},Zl({},j,{from:e[j],velocity:0,to:t[j]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return pi(function(j,g){return g.from},l)},m=function(){return!Object.values(l).filter(Ql).length},v=function(j){u||(u=j);var g=j-u,w=g/r.dt;l=VR(r,l,w),a(Fe(Fe(Fe({},e),t),h())),u=j,m()||(c=requestAnimationFrame(f))},p=function(j){d||(d=j);var g=(j-d)/n,w=pi(function(y,b){return ls.apply(void 0,Rh(b).concat([r(g)]))},o);if(a(Fe(Fe(Fe({},e),t),w)),g<1)c=requestAnimationFrame(f);else{var _=pi(function(y,b){return ls.apply(void 0,Rh(b).concat([r(1)]))},o);a(Fe(Fe(Fe({},e),t),_))}};return f=r.isStepper?v:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function _n(e){"@babel/helpers - typeof";return _n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_n(e)}var YR=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function ZR(e,t){if(e==null)return{};var r=JR(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JR(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Go(e){return r4(e)||t4(e)||e4(e)||QR()}function QR(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e4(e,t){if(e){if(typeof e=="string")return ec(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ec(e,t)}}function t4(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function r4(e){if(Array.isArray(e))return ec(e)}function ec(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bh(Object(r),!0).forEach(function(n){di(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function di(e,t,r){return t=zx(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zx(n.key),n)}}function a4(e,t,r){return t&&i4(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zx(e){var t=s4(e,"string");return _n(t)==="symbol"?t:String(t)}function s4(e,t){if(_n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_n(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o4(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tc(e,t)}function tc(e,t){return tc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tc(e,t)}function l4(e){var t=c4();return function(){var n=cs(e),a;if(t){var s=cs(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return rc(this,a)}}function rc(e,t){if(t&&(_n(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nc(e)}function nc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c4(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cs(e){return cs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cs(e)}var _t=function(e){o4(r,e);var t=l4(r);function r(n,a){var s;n4(this,r),s=t.call(this,n,a);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(nc(s)),s.changeStyle=s.changeStyle.bind(nc(s)),!l||m<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),rc(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof h=="function")return s.state={style:u},rc(s);s.state={style:c?di({},c,u):u}}else s.state={style:{}};return s}return a4(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,o=a.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,h=this.state.style;if(l){if(!o){var m={style:c?di({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(pR(a.to,d)&&a.canBegin&&a.isActive)){var v=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=v||u?f:a.to;if(this.state&&h){var x={style:c?di({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(x)}this.runAnimation(vt(vt({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,m=XR(o,l,LR(u),c,this.changeStyle),v=function(){s.stopJSAnimation=m()};this.manager.start([h,d,v,c,f])}},{key:"runStepAnimation",value:function(a){var s=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(p,x,j){if(j===0)return p;var g=x.duration,w=x.easing,_=w===void 0?"ease":w,y=x.style,b=x.properties,N=x.onAnimationEnd,S=j>0?o[j-1]:x,A=b||Object.keys(y);if(typeof _=="function"||_==="spring")return[].concat(Go(p),[s.runJSAnimation.bind(s,{from:S.style,to:y,duration:g,easing:_}),g]);var T=Mh(A,g,_),P=vt(vt(vt({},S.style),y),{},{transition:T});return[].concat(Go(p),[P,g,N]).filter(SR)};return this.manager.start([c].concat(Go(o.reduce(m,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=wR());var s=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,m=a.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var p=l?di({},l,c):c,x=Mh(Object.keys(p),o,u);v.start([d,s,vt(vt({},p),{},{transition:x}),o,f])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=ZR(a,YR),u=I.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||o<=0)return s;var f=function(m){var v=m.props,p=v.style,x=p===void 0?{}:p,j=v.className,g=I.cloneElement(m,vt(vt({},c),{},{style:vt(vt({},x),d),className:j}));return g};return u===1?f(I.Children.only(s)):O.createElement("div",null,I.Children.map(s,function(h){return f(h)}))}}]),r}(I.PureComponent);_t.displayName="Animate";_t.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};_t.propTypes={from:de.oneOfType([de.object,de.string]),to:de.oneOfType([de.object,de.string]),attributeName:de.string,duration:de.number,begin:de.number,easing:de.oneOfType([de.string,de.func]),steps:de.arrayOf(de.shape({duration:de.number.isRequired,style:de.object.isRequired,easing:de.oneOfType([de.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),de.func]),properties:de.arrayOf("string"),onAnimationEnd:de.func})),children:de.oneOfType([de.node,de.func]),isActive:de.bool,canBegin:de.bool,onAnimationEnd:de.func,shouldReAnimate:de.bool,onAnimationStart:de.func,onAnimationReStart:de.func};function Ui(e){"@babel/helpers - typeof";return Ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ui(e)}function us(){return us=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},us.apply(this,arguments)}function u4(e,t){return m4(e)||h4(e,t)||f4(e,t)||d4()}function d4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f4(e,t){if(e){if(typeof e=="string")return qh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qh(e,t)}}function qh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h4(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function m4(e){if(Array.isArray(e))return e}function Fh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fh(Object(r),!0).forEach(function(n){p4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p4(e,t,r){return t=v4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v4(e){var t=x4(e,"string");return Ui(t)=="symbol"?t:t+""}function x4(e,t){if(Ui(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ui(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uh=function(t,r,n,a,s){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=s[h]>o?o:s[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var v=Math.min(o,s);d="M ".concat(t,",").concat(r+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+c*v,",").concat(r,`
            L `).concat(t+n-c*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*v,`
            L `).concat(t+n,",").concat(r+a-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n-c*v,",").concat(r+a,`
            L `).concat(t+c*v,",").concat(r+a,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*v," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},y4=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},g4={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$u=function(t){var r=zh(zh({},g4),t),n=I.useRef(),a=I.useState(-1),s=u4(a,2),o=s[0],l=s[1];I.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,v=r.animationEasing,p=r.animationDuration,x=r.animationBegin,j=r.isAnimationActive,g=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=re("recharts-rectangle",m);return g?O.createElement(_t,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:p,animationEasing:v,isActive:g},function(_){var y=_.width,b=_.height,N=_.x,S=_.y;return O.createElement(_t,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:p,isActive:j,easing:v},O.createElement("path",us({},X(r,!0),{className:w,d:Uh(N,S,y,b,h),ref:n})))}):O.createElement("path",us({},X(r,!0),{className:w,d:Uh(c,u,d,f,h)}))},b4=["points","className","baseLinePoints","connectNulls"];function tn(){return tn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tn.apply(this,arguments)}function j4(e,t){if(e==null)return{};var r=w4(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function w4(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Wh(e){return S4(e)||O4(e)||N4(e)||_4()}function _4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N4(e,t){if(e){if(typeof e=="string")return ic(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ic(e,t)}}function O4(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function S4(e){if(Array.isArray(e))return ic(e)}function ic(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Hh=function(t){return t&&t.x===+t.x&&t.y===+t.y},A4=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){Hh(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),Hh(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},vi=function(t,r){var n=A4(t);r&&(n=[n.reduce(function(s,o){return[].concat(Wh(s),Wh(o))},[])]);var a=n.map(function(s){return s.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},P4=function(t,r,n){var a=vi(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(vi(r.reverse(),n).slice(1))},$4=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,s=t.connectNulls,o=j4(t,b4);if(!r||!r.length)return null;var l=re("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=P4(r,a,s);return O.createElement("g",{className:l},O.createElement("path",tn({},X(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?O.createElement("path",tn({},X(o,!0),{fill:"none",d:vi(r,s)})):null,c?O.createElement("path",tn({},X(o,!0),{fill:"none",d:vi(a,s)})):null)}var d=vi(r,s);return O.createElement("path",tn({},X(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function ac(){return ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ac.apply(this,arguments)}var la=function(t){var r=t.cx,n=t.cy,a=t.r,s=t.className,o=re("recharts-dot",s);return r===+r&&n===+n&&a===+a?I.createElement("circle",ac({},X(t,!1),Ta(t),{className:o,cx:r,cy:n,r:a})):null};function Wi(e){"@babel/helpers - typeof";return Wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wi(e)}var T4=["x","y","top","left","width","height","className"];function sc(){return sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sc.apply(this,arguments)}function Kh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function E4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kh(Object(r),!0).forEach(function(n){k4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k4(e,t,r){return t=C4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C4(e){var t=M4(e,"string");return Wi(t)=="symbol"?t:t+""}function M4(e,t){if(Wi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I4(e,t){if(e==null)return{};var r=D4(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function D4(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var R4=function(t,r,n,a,s,o){return"M".concat(t,",").concat(s,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},L4=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,v=t.className,p=I4(t,T4),x=E4({x:n,y:s,top:l,left:u,width:f,height:m},p);return!B(n)||!B(s)||!B(f)||!B(m)||!B(l)||!B(u)?null:O.createElement("path",sc({},X(x,!0),{className:re("recharts-cross",v),d:R4(n,s,f,m,l,u)}))},B4=so,q4=ex,F4=It;function z4(e,t){return e&&e.length?B4(e,F4(t),q4):void 0}var U4=z4;const W4=me(U4);var H4=so,K4=It,G4=tx;function V4(e,t){return e&&e.length?H4(e,K4(t),G4):void 0}var X4=V4;const Y4=me(X4);var Z4=["cx","cy","angle","ticks","axisLine"],J4=["ticks","tick","angle","tickFormatter","stroke"];function Nn(e){"@babel/helpers - typeof";return Nn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nn(e)}function xi(){return xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xi.apply(this,arguments)}function Gh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gh(Object(r),!0).forEach(function(n){uo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vh(e,t){if(e==null)return{};var r=Q4(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Q4(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function eL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Wx(n.key),n)}}function tL(e,t,r){return t&&Xh(e.prototype,t),r&&Xh(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rL(e,t,r){return t=ds(t),nL(e,Ux()?Reflect.construct(t,r||[],ds(e).constructor):t.apply(e,r))}function nL(e,t){if(t&&(Nn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iL(e)}function iL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ux(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ux=function(){return!!e})()}function ds(e){return ds=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ds(e)}function aL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oc(e,t)}function oc(e,t){return oc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},oc(e,t)}function uo(e,t,r){return t=Wx(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wx(e){var t=sL(e,"string");return Nn(t)=="symbol"?t:t+""}function sL(e,t){if(Nn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fo=function(e){function t(){return eL(this,t),rL(this,t,arguments)}return aL(t,e),tL(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,s=this.props,o=s.angle,l=s.cx,c=s.cy;return ye(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=W4(l,function(d){return d.coordinate||0}),u=Y4(l,function(d){return d.coordinate||0});return{cx:a,cy:s,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=Vh(n,Z4),d=l.reduce(function(v,p){return[Math.min(v[0],p.coordinate),Math.max(v[1],p.coordinate)]},[1/0,-1/0]),f=ye(a,s,d[0],o),h=ye(a,s,d[1],o),m=jr(jr(jr({},X(u,!1)),{},{fill:"none"},X(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return O.createElement("line",xi({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=Vh(a,J4),f=this.getTickTextAnchor(),h=X(d,!1),m=X(o,!1),v=s.map(function(p,x){var j=n.getTickValueCoord(p),g=jr(jr(jr(jr({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(j.x,", ").concat(j.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:x},j),{},{payload:p});return O.createElement(se,xi({className:re("recharts-polar-radius-axis-tick",$x(o)),key:"tick-".concat(p.coordinate)},Dr(n.props,p,x)),t.renderTickItem(o,g,c?c(p.value,x):p.value))});return O.createElement(se,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.axisLine,o=n.tick;return!a||!a.length?null:O.createElement(se,{className:re("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),Be.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,s){var o;return O.isValidElement(n)?o=O.cloneElement(n,a):J(n)?o=n(a):o=O.createElement(Rr,xi({},a,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])}(I.PureComponent);uo(fo,"displayName","PolarRadiusAxis");uo(fo,"axisType","radiusAxis");uo(fo,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function On(e){"@babel/helpers - typeof";return On=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},On(e)}function Sr(){return Sr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sr.apply(this,arguments)}function Yh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yh(Object(r),!0).forEach(function(n){ho(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Kx(n.key),n)}}function lL(e,t,r){return t&&Zh(e.prototype,t),r&&Zh(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cL(e,t,r){return t=fs(t),uL(e,Hx()?Reflect.construct(t,r||[],fs(e).constructor):t.apply(e,r))}function uL(e,t){if(t&&(On(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dL(e)}function dL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hx=function(){return!!e})()}function fs(e){return fs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fs(e)}function fL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lc(e,t)}function lc(e,t){return lc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lc(e,t)}function ho(e,t,r){return t=Kx(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kx(e){var t=hL(e,"string");return On(t)=="symbol"?t:t+""}function hL(e,t){if(On(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(On(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var mL=Math.PI/180,Jh=1e-5,mo=function(e){function t(){return oL(this,t),cL(this,t,arguments)}return fL(t,e),lL(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=ye(s,o,l,n.coordinate),h=ye(s,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,s=Math.cos(-n.coordinate*mL),o;return s>Jh?o=a==="outer"?"start":"end":s<-Jh?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=wr(wr({},X(this.props,!1)),{},{fill:"none"},X(l,!1));if(c==="circle")return O.createElement(la,Sr({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:s,r:o}));var d=this.props.ticks,f=d.map(function(h){return ye(a,s,o,h.coordinate)});return O.createElement($4,Sr({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=X(this.props,!1),f=X(o,!1),h=wr(wr({},d),{},{fill:"none"},X(l,!1)),m=s.map(function(v,p){var x=n.getTickLineCoord(v),j=n.getTickTextAnchor(v),g=wr(wr(wr({textAnchor:j},d),{},{stroke:"none",fill:u},f),{},{index:p,payload:v,x:x.x2,y:x.y2});return O.createElement(se,Sr({className:re("recharts-polar-angle-axis-tick",$x(o)),key:"tick-".concat(v.coordinate)},Dr(n.props,v,p)),l&&O.createElement("line",Sr({className:"recharts-polar-angle-axis-tick-line"},h,x)),o&&t.renderTickItem(o,g,c?c(v.value,p):v.value))});return O.createElement(se,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.radius,o=n.axisLine;return s<=0||!a||!a.length?null:O.createElement(se,{className:re("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,s){var o;return O.isValidElement(n)?o=O.cloneElement(n,a):J(n)?o=n(a):o=O.createElement(Rr,Sr({},a,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])}(I.PureComponent);ho(mo,"displayName","PolarAngleAxis");ho(mo,"axisType","angleAxis");ho(mo,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var pL=Yp,vL=pL(Object.getPrototypeOf,Object),xL=vL,yL=Yt,gL=xL,bL=Zt,jL="[object Object]",wL=Function.prototype,_L=Object.prototype,Gx=wL.toString,NL=_L.hasOwnProperty,OL=Gx.call(Object);function SL(e){if(!bL(e)||yL(e)!=jL)return!1;var t=gL(e);if(t===null)return!0;var r=NL.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Gx.call(r)==OL}var AL=SL;const PL=me(AL);var $L=Yt,TL=Zt,EL="[object Boolean]";function kL(e){return e===!0||e===!1||TL(e)&&$L(e)==EL}var CL=kL;const ML=me(CL);function Hi(e){"@babel/helpers - typeof";return Hi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hi(e)}function hs(){return hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hs.apply(this,arguments)}function IL(e,t){return BL(e)||LL(e,t)||RL(e,t)||DL()}function DL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RL(e,t){if(e){if(typeof e=="string")return Qh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qh(e,t)}}function Qh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function LL(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function BL(e){if(Array.isArray(e))return e}function em(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?em(Object(r),!0).forEach(function(n){qL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):em(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qL(e,t,r){return t=FL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FL(e){var t=zL(e,"string");return Hi(t)=="symbol"?t:t+""}function zL(e,t){if(Hi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rm=function(t,r,n,a,s){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+s),l+="L ".concat(t+n-o/2-a,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},UL={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},WL=function(t){var r=tm(tm({},UL),t),n=I.useRef(),a=I.useState(-1),s=IL(a,2),o=s[0],l=s[1];I.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,v=r.animationEasing,p=r.animationDuration,x=r.animationBegin,j=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var g=re("recharts-trapezoid",m);return j?O.createElement(_t,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:p,animationEasing:v,isActive:j},function(w){var _=w.upperWidth,y=w.lowerWidth,b=w.height,N=w.x,S=w.y;return O.createElement(_t,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:p,easing:v},O.createElement("path",hs({},X(r,!0),{className:g,d:rm(N,S,_,y,b),ref:n})))}):O.createElement("g",null,O.createElement("path",hs({},X(r,!0),{className:g,d:rm(c,u,d,f,h)})))},HL=["option","shapeType","propTransformer","activeClassName","isActive"];function Ki(e){"@babel/helpers - typeof";return Ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ki(e)}function KL(e,t){if(e==null)return{};var r=GL(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GL(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ms(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nm(Object(r),!0).forEach(function(n){VL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VL(e,t,r){return t=XL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XL(e){var t=YL(e,"string");return Ki(t)=="symbol"?t:t+""}function YL(e,t){if(Ki(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ki(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZL(e,t){return ms(ms({},t),e)}function JL(e,t){return e==="symbols"}function im(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return O.createElement($u,r);case"trapezoid":return O.createElement(WL,r);case"sector":return O.createElement(kx,r);case"symbols":if(JL(t))return O.createElement(Vc,r);break;default:return null}}function QL(e){return I.isValidElement(e)?e.props:e}function Vx(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?ZL:n,s=e.activeClassName,o=s===void 0?"recharts-active-shape":s,l=e.isActive,c=KL(e,HL),u;if(I.isValidElement(t))u=I.cloneElement(t,ms(ms({},c),QL(t)));else if(J(t))u=t(c);else if(PL(t)&&!ML(t)){var d=a(t,c);u=O.createElement(im,{shapeType:r,elementProps:d})}else{var f=c;u=O.createElement(im,{shapeType:r,elementProps:f})}return l?O.createElement(se,{className:o},u):u}function po(e,t){return t!=null&&"trapezoids"in e.props}function vo(e,t){return t!=null&&"sectors"in e.props}function Gi(e,t){return t!=null&&"points"in e.props}function e5(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&s}function t5(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function r5(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function n5(e,t){var r;return po(e,t)?r=e5:vo(e,t)?r=t5:Gi(e,t)&&(r=r5),r}function i5(e,t){var r;return po(e,t)?r="trapezoids":vo(e,t)?r="sectors":Gi(e,t)&&(r="points"),r}function a5(e,t){if(po(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(vo(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Gi(e,t)?t.payload:{}}function s5(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=i5(r,t),s=a5(r,t),o=n.filter(function(c,u){var d=Lr(s,c),f=r.props[a].filter(function(v){var p=n5(r,t);return p(v,t)}),h=r.props[a].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var Aa;function Sn(e){"@babel/helpers - typeof";return Sn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sn(e)}function rn(){return rn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rn.apply(this,arguments)}function am(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ve(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?am(Object(r),!0).forEach(function(n){ut(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):am(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sm(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Yx(n.key),n)}}function l5(e,t,r){return t&&sm(e.prototype,t),r&&sm(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c5(e,t,r){return t=ps(t),u5(e,Xx()?Reflect.construct(t,r||[],ps(e).constructor):t.apply(e,r))}function u5(e,t){if(t&&(Sn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d5(e)}function d5(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xx=function(){return!!e})()}function ps(e){return ps=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ps(e)}function f5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cc(e,t)}function cc(e,t){return cc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cc(e,t)}function ut(e,t,r){return t=Yx(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yx(e){var t=h5(e,"string");return Sn(t)=="symbol"?t:t+""}function h5(e,t){if(Sn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Dt=function(e){function t(r){var n;return o5(this,t),n=c5(this,t,[r]),ut(n,"pieRef",null),ut(n,"sectorRefs",[]),ut(n,"id",Hr("recharts-pie-")),ut(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),J(a)&&a()}),ut(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),J(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return f5(t,e),l5(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,d=X(this.props,!1),f=X(o,!1),h=X(l,!1),m=o&&o.offsetRadius||20,v=n.map(function(p,x){var j=(p.startAngle+p.endAngle)/2,g=ye(p.cx,p.cy,p.outerRadius+m,j),w=ve(ve(ve(ve({},d),p),{},{stroke:"none"},f),{},{index:x,textAnchor:t.getTextAnchor(g.x,p.cx)},g),_=ve(ve(ve(ve({},d),p),{},{fill:"none",stroke:p.fill},h),{},{index:x,points:[ye(p.cx,p.cy,p.outerRadius,j),g]}),y=c;return te(c)&&te(u)?y="value":te(c)&&(y=u),O.createElement(se,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(x)},l&&t.renderLabelLineItem(l,_,"line"),t.renderLabelItem(o,w,Ae(p,y)))});return O.createElement(se,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var a=this,s=this.props,o=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,d){if(u?.startAngle===0&&u?.endAngle===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,m=f?o:h,v=ve(ve({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return O.createElement(se,rn({ref:function(x){x&&!a.sectorRefs.includes(x)&&a.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},Dr(a.props,u,d),{key:"sector-".concat(u?.startAngle,"-").concat(u?.endAngle,"-").concat(u.midAngle,"-").concat(d)}),O.createElement(Vx,rn({option:m,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,s=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return O.createElement(_t,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var p=v.t,x=[],j=s&&s[0],g=j.startAngle;return s.forEach(function(w,_){var y=h&&h[_],b=_>0?nt(w,"paddingAngle",0):0;if(y){var N=Ie(y.endAngle-y.startAngle,w.endAngle-w.startAngle),S=ve(ve({},w),{},{startAngle:g+b,endAngle:g+N(p)+b});x.push(S),g=S.endAngle}else{var A=w.endAngle,T=w.startAngle,P=Ie(0,A-T),$=P(p),k=ve(ve({},w),{},{startAngle:g+b,endAngle:g+$+b});x.push(k),g=k.endAngle}}),O.createElement(se,null,n.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,s=n.isAnimationActive,o=this.state.prevSectors;return s&&a&&a.length&&(!o||!Lr(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,s=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,m=a.isAnimationActive,v=this.state.isAnimationFinished;if(s||!o||!o.length||!B(u)||!B(d)||!B(f)||!B(h))return null;var p=re("recharts-pie",l);return O.createElement(se,{tabIndex:this.props.rootTabIndex,className:p,ref:function(j){n.pieRef=j}},this.renderSectors(),c&&this.renderLabels(o),Be.renderCallByParent(this.props,null,!1),(!m||v)&&Et.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,s){if(O.isValidElement(n))return O.cloneElement(n,a);if(J(n))return n(a);var o=re("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return O.createElement(Mr,rn({},a,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,s){if(O.isValidElement(n))return O.cloneElement(n,a);var o=s;if(J(n)&&(o=n(a),O.isValidElement(o)))return o;var l=re("recharts-pie-label-text",typeof n!="boolean"&&!J(n)?n.className:"");return O.createElement(Rr,rn({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(I.PureComponent);Aa=Dt;ut(Dt,"displayName","Pie");ut(Dt,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!hr.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ut(Dt,"parseDeltaAngle",function(e,t){var r=He(t-e),n=Math.min(Math.abs(t-e),360);return r*n});ut(Dt,"getRealPieData",function(e){var t=e.data,r=e.children,n=X(e,!1),a=it(r,ra);return t&&t.length?t.map(function(s,o){return ve(ve(ve({payload:s},n),s),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(s){return ve(ve({},n),s.props)}):[]});ut(Dt,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,s=t.height,o=Px(a,s),l=n+Ke(e.cx,a,a/2),c=r+Ke(e.cy,s,s/2),u=Ke(e.innerRadius,o,0),d=Ke(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});ut(Dt,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?ve(ve({},t.type.defaultProps),t.props):t.props,a=Aa.getRealPieData(n);if(!a||!a.length)return null;var s=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),v=Aa.parseCoordinateOfPie(n,r),p=Aa.parseDeltaAngle(o,l),x=Math.abs(p),j=u;te(u)&&te(f)?(jt(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j="value"):te(u)&&(jt(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j=f);var g=a.filter(function(S){return Ae(S,j,0)!==0}).length,w=(x>=360?g:g-1)*c,_=x-g*m-w,y=a.reduce(function(S,A){var T=Ae(A,j,0);return S+(B(T)?T:0)},0),b;if(y>0){var N;b=a.map(function(S,A){var T=Ae(S,j,0),P=Ae(S,d,A),$=(B(T)?T:0)/y,k;A?k=N.endAngle+He(p)*c*(T!==0?1:0):k=o;var M=k+He(p)*((T!==0?m:0)+$*_),C=(k+M)/2,D=(v.innerRadius+v.outerRadius)/2,R=[{name:P,value:T,payload:S,dataKey:j,type:h}],q=ye(v.cx,v.cy,D,C);return N=ve(ve(ve({percent:$,cornerRadius:s,name:P,tooltipPayload:R,midAngle:C,middleRadius:D,tooltipPosition:q},S),v),{},{value:Ae(S,j),startAngle:k,endAngle:M,payload:S,paddingAngle:He(p)*c}),N})}return ve(ve({},v),{},{sectors:b,data:a})});var m5=Math.ceil,p5=Math.max;function v5(e,t,r,n){for(var a=-1,s=p5(m5((t-e)/(r||1)),0),o=Array(s);s--;)o[n?s:++a]=e,e+=r;return o}var x5=v5,y5=pv,om=1/0,g5=17976931348623157e292;function b5(e){if(!e)return e===0?e:0;if(e=y5(e),e===om||e===-om){var t=e<0?-1:1;return t*g5}return e===e?e:0}var Zx=b5,j5=x5,w5=Qs,Vo=Zx;function _5(e){return function(t,r,n){return n&&typeof n!="number"&&w5(t,r,n)&&(r=n=void 0),t=Vo(t),r===void 0?(r=t,t=0):r=Vo(r),n=n===void 0?t<r?1:-1:Vo(n),j5(t,r,n,e)}}var N5=_5,O5=N5,S5=O5(),A5=S5;const vs=me(A5);function Vi(e){"@babel/helpers - typeof";return Vi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vi(e)}function lm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lm(Object(r),!0).forEach(function(n){Jx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jx(e,t,r){return t=P5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P5(e){var t=$5(e,"string");return Vi(t)=="symbol"?t:t+""}function $5(e,t){if(Vi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T5=["Webkit","Moz","O","ms"],E5=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),a=T5.reduce(function(s,o){return cm(cm({},s),{},Jx({},o+n,r))},{});return a[t]=r,a};function An(e){"@babel/helpers - typeof";return An=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},An(e)}function xs(){return xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xs.apply(this,arguments)}function um(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?um(Object(r),!0).forEach(function(n){et(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):um(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dm(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ey(n.key),n)}}function C5(e,t,r){return t&&dm(e.prototype,t),r&&dm(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function M5(e,t,r){return t=ys(t),I5(e,Qx()?Reflect.construct(t,r||[],ys(e).constructor):t.apply(e,r))}function I5(e,t){if(t&&(An(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D5(e)}function D5(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qx=function(){return!!e})()}function ys(e){return ys=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ys(e)}function R5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uc(e,t)}function uc(e,t){return uc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uc(e,t)}function et(e,t,r){return t=ey(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ey(e){var t=L5(e,"string");return An(t)=="symbol"?t:t+""}function L5(e,t){if(An(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(An(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var B5=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,s=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=hi().domain(vs(0,c)).range([s,s+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},fm=function(t){return t.changedTouches&&!!t.changedTouches.length},Pn=function(e){function t(r){var n;return k5(this,t),n=M5(this,t,[r]),et(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),et(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),et(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,o=a.onDragEnd,l=a.startIndex;o?.({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),et(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),et(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),et(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),et(n,"handleSlideDragStart",function(a){var s=fm(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return R5(t,e),C5(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,s),h=Math.max(a,s),m=t.getIndexInRange(o,f),v=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:v===d?d:v-v%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,o=a.tickFormatter,l=a.dataKey,c=Ae(s[n],l,n);return J(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,v=c.onChange,p=n.pageX-s;p>0?p=Math.min(p,u+d-f-l,u+d-f-o):p<0&&(p=Math.max(p,u-o,u-l));var x=this.getIndex({startX:o+p,endX:l+p});(x.startIndex!==h||x.endIndex!==m)&&v&&v(x),this.setState({startX:o+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=fm(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,v=d.onChange,p=d.gap,x=d.data,j={startX:this.state.startX,endX:this.state.endX},g=n.pageX-s;g>0?g=Math.min(g,f+h-m-u):g<0&&(g=Math.max(g,f-u)),j[o]=u+g;var w=this.getIndex(j),_=w.startIndex,y=w.endIndex,b=function(){var S=x.length-1;return o==="startX"&&(l>c?_%p===0:y%p===0)||l<c&&y===S||o==="endX"&&(l>c?y%p===0:_%p===0)||l>c&&y===S};this.setState(et(et({},o,u+g),"brushMoveStartX",n.pageX),function(){v&&b()&&v(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(et({},a,m),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return O.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=I.Children.only(u);return f?O.cloneElement(f,{x:a,y:s,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,v=c.data,p=c.startIndex,x=c.endIndex,j=Math.max(n,this.props.x),g=Xo(Xo({},X(this.props,!1)),{},{x:j,y:u,width:d,height:f}),w=m||"Min value: ".concat((s=v[p])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=v[x])===null||o===void 0?void 0:o.name);return O.createElement(se,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(y){["ArrowLeft","ArrowRight"].includes(y.key)&&(y.preventDefault(),y.stopPropagation(),l.handleTravellerMoveKeyboard(y.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,g))}},{key:"renderSlide",value:function(n,a){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return O.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,v={pointerEvents:"none",fill:u};return O.createElement(se,{className:"recharts-brush-texts"},O.createElement(Rr,xs({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+l/2},v),this.getTextOfTick(a)),O.createElement(Rr,xs({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+l/2},v),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,v=h.endX,p=h.isTextActive,x=h.isSlideMoving,j=h.isTravellerMoving,g=h.isTravellerFocused;if(!a||!a.length||!B(l)||!B(c)||!B(u)||!B(d)||u<=0||d<=0)return null;var w=re("recharts-brush",s),_=O.Children.count(o)===1,y=E5("userSelect","none");return O.createElement(se,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:y},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(m,v),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(v,"endX"),(p||x||j||g||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return O.createElement(O.Fragment,null,O.createElement("rect",{x:a,y:s,width:o,height:l,fill:c,stroke:"none"}),O.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),O.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return O.isValidElement(n)?s=O.cloneElement(n,a):J(n)?s=n(a):s=t.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return Xo({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?B5({data:s,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(I.PureComponent);et(Pn,"displayName","Brush");et(Pn,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var q5=tu;function F5(e,t){var r;return q5(e,function(n,a,s){return r=t(n,a,s),!r}),!!r}var z5=F5,U5=zp,W5=It,H5=z5,K5=Ze,G5=Qs;function V5(e,t,r){var n=K5(e)?U5:H5;return r&&G5(e,t,r)&&(t=void 0),n(e,W5(t))}var X5=V5;const Y5=me(X5);var kt=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},hm=uv;function Z5(e,t,r){t=="__proto__"&&hm?hm(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var J5=Z5,Q5=J5,e3=lv,t3=It;function r3(e,t){var r={};return t=t3(t),e3(e,function(n,a,s){Q5(r,a,t(n,a,s))}),r}var n3=r3;const i3=me(n3);function a3(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var s3=a3,o3=tu;function l3(e,t){var r=!0;return o3(e,function(n,a,s){return r=!!t(n,a,s),r}),r}var c3=l3,u3=s3,d3=c3,f3=It,h3=Ze,m3=Qs;function p3(e,t,r){var n=h3(e)?u3:d3;return r&&m3(e,t,r)&&(t=void 0),n(e,f3(t))}var v3=p3;const ty=me(v3);var x3=["x","y"];function Xi(e){"@babel/helpers - typeof";return Xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xi(e)}function dc(){return dc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dc.apply(this,arguments)}function mm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ci(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mm(Object(r),!0).forEach(function(n){y3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y3(e,t,r){return t=g3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g3(e){var t=b3(e,"string");return Xi(t)=="symbol"?t:t+""}function b3(e,t){if(Xi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j3(e,t){if(e==null)return{};var r=w3(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function w3(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _3(e,t){var r=e.x,n=e.y,a=j3(e,x3),s="".concat(r),o=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return ci(ci(ci(ci(ci({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function pm(e){return O.createElement(Vx,dc({shapeType:"rectangle",propTransformer:_3,activeClassName:"recharts-active-bar"},e))}var N3=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var s=B(n)||Yj(n);return s?t(n,a):(s||qr(),r)}},O3=["value","background"],ry;function $n(e){"@babel/helpers - typeof";return $n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$n(e)}function S3(e,t){if(e==null)return{};var r=A3(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function A3(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gs(){return gs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gs.apply(this,arguments)}function vm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vm(Object(r),!0).forEach(function(n){ar(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xm(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iy(n.key),n)}}function $3(e,t,r){return t&&xm(e.prototype,t),r&&xm(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function T3(e,t,r){return t=bs(t),E3(e,ny()?Reflect.construct(t,r||[],bs(e).constructor):t.apply(e,r))}function E3(e,t){if(t&&($n(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k3(e)}function k3(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ny(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ny=function(){return!!e})()}function bs(e){return bs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bs(e)}function C3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fc(e,t)}function fc(e,t){return fc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fc(e,t)}function ar(e,t,r){return t=iy(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iy(e){var t=M3(e,"string");return $n(t)=="symbol"?t:t+""}function M3(e,t){if($n(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($n(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ht=function(e){function t(){var r;P3(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=T3(this,t,[].concat(a)),ar(r,"state",{isAnimationFinished:!1}),ar(r,"id",Hr("recharts-bar-")),ar(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),ar(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return C3(t,e),$3(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=X(this.props,!1);return n&&n.map(function(f,h){var m=h===c,v=m?u:o,p=$e($e($e({},d),f),{},{isActive:m,option:v,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return O.createElement(se,gs({className:"recharts-bar-rectangle"},Dr(a.props,f,h),{key:"rectangle-".concat(f?.x,"-").concat(f?.y,"-").concat(f?.value,"-").concat(h)}),O.createElement(pm,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return O.createElement(_t,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var v=m.t,p=s.map(function(x,j){var g=h&&h[j];if(g){var w=Ie(g.x,x.x),_=Ie(g.y,x.y),y=Ie(g.width,x.width),b=Ie(g.height,x.height);return $e($e({},x),{},{x:w(v),y:_(v),width:y(v),height:b(v)})}if(o==="horizontal"){var N=Ie(0,x.height),S=N(v);return $e($e({},x),{},{y:x.y+x.height-S,height:S})}var A=Ie(0,x.width),T=A(v);return $e($e({},x),{},{width:T})});return O.createElement(se,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&a&&a.length&&(!o||!Lr(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,o=a.dataKey,l=a.activeIndex,c=X(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,h=S3(u,O3);if(!f)return null;var m=$e($e($e($e($e({},h),{},{fill:"#eee"},f),c),Dr(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return O.createElement(pm,gs({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=it(d,oa);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(x,j){var g=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:g,errorVal:Ae(x,j)}},v={clipPath:n?"url(#clipPath-".concat(a,")"):null};return O.createElement(se,v,f.map(function(p){return O.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,v=n.background,p=n.id;if(a||!s||!s.length)return null;var x=this.state.isAnimationFinished,j=re("recharts-bar",o),g=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,_=g||w,y=te(p)?this.id:p;return O.createElement(se,{className:j},g||w?O.createElement("defs",null,O.createElement("clipPath",{id:"clipPath-".concat(y)},O.createElement("rect",{x:g?u:u-f/2,y:w?d:d-h/2,width:g?f:f*2,height:w?h:h*2}))):null,O.createElement(se,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(y,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,y),(!m||x)&&Et.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(I.PureComponent);ry=Ht;ar(Ht,"displayName","Bar");ar(Ht,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!hr.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ar(Ht,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,s=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=mI(n,r);if(!m)return null;var v=t.layout,p=r.type.defaultProps,x=p!==void 0?$e($e({},p),r.props):r.props,j=x.dataKey,g=x.children,w=x.minPointSize,_=v==="horizontal"?o:s,y=u?_.scale.domain():null,b=jI({numericAxis:_}),N=it(g,ra),S=f.map(function(A,T){var P,$,k,M,C,D;u?P=pI(u[d+T],y):(P=Ae(A,j),Array.isArray(P)||(P=[b,P]));var R=N3(w,ry.defaultProps.minPointSize)(P[1],T);if(v==="horizontal"){var q,z=[o.scale(P[0]),o.scale(P[1])],Y=z[0],Q=z[1];$=sh({axis:s,ticks:l,bandSize:a,offset:m.offset,entry:A,index:T}),k=(q=Q??Y)!==null&&q!==void 0?q:void 0,M=m.size;var G=Y-Q;if(C=Number.isNaN(G)?0:G,D={x:$,y:o.y,width:M,height:o.height},Math.abs(R)>0&&Math.abs(C)<Math.abs(R)){var ee=He(C||R)*(Math.abs(R)-Math.abs(C));k-=ee,C+=ee}}else{var ge=[s.scale(P[0]),s.scale(P[1])],Pe=ge[0],Je=ge[1];if($=Pe,k=sh({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:A,index:T}),M=Je-Pe,C=m.size,D={x:s.x,y:k,width:s.width,height:C},Math.abs(R)>0&&Math.abs(M)<Math.abs(R)){var xr=He(M||R)*(Math.abs(R)-Math.abs(M));M+=xr}}return $e($e($e({},A),{},{x:$,y:k,width:M,height:C,value:u?P:P[1],payload:A,background:D},N&&N[T]&&N[T].props),{},{tooltipPayload:[Sx(r,A)],tooltipPosition:{x:$+M/2,y:k+C/2}})});return $e({data:S,layout:v},h)});function Yi(e){"@babel/helpers - typeof";return Yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yi(e)}function I3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ym(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ay(n.key),n)}}function D3(e,t,r){return t&&ym(e.prototype,t),r&&ym(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gm(Object(r),!0).forEach(function(n){xo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xo(e,t,r){return t=ay(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ay(e){var t=R3(e,"string");return Yi(t)=="symbol"?t:t+""}function R3(e,t){if(Yi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tu=function(t,r,n,a,s){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!tt(u,Ht);return d.reduce(function(m,v){var p=r[v],x=p.orientation,j=p.domain,g=p.padding,w=g===void 0?{}:g,_=p.mirror,y=p.reversed,b="".concat(x).concat(_?"Mirror":""),N,S,A,T,P;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var $=j[1]-j[0],k=1/0,M=p.categoricalDomain.sort(Qj);if(M.forEach(function(ge,Pe){Pe>0&&(k=Math.min((ge||0)-(M[Pe-1]||0),k))}),Number.isFinite(k)){var C=k/$,D=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(N=C*D/2),p.padding==="no-gap"){var R=Ke(t.barCategoryGap,C*D),q=C*D/2;N=q-R-(q-R)/D*R}}}a==="xAxis"?S=[n.left+(w.left||0)+(N||0),n.left+n.width-(w.right||0)-(N||0)]:a==="yAxis"?S=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(N||0),n.top+n.height-(w.bottom||0)-(N||0)]:S=p.range,y&&(S=[S[1],S[0]]);var z=wx(p,s,h),Y=z.scale,Q=z.realScaleType;Y.domain(j).range(S),_x(Y);var G=Nx(Y,xt(xt({},p),{},{realScaleType:Q}));a==="xAxis"?(P=x==="top"&&!_||x==="bottom"&&_,A=n.left,T=f[b]-P*p.height):a==="yAxis"&&(P=x==="left"&&!_||x==="right"&&_,A=f[b]-P*p.width,T=n.top);var ee=xt(xt(xt({},p),G),{},{realScaleType:Q,x:A,y:T,scale:Y,width:a==="xAxis"?n.width:p.width,height:a==="yAxis"?n.height:p.height});return ee.bandSize=is(ee,G),!p.hide&&a==="xAxis"?f[b]+=(P?-1:1)*ee.height:p.hide||(f[b]+=(P?-1:1)*ee.width),xt(xt({},m),{},xo({},v,ee))},{})},sy=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(a,o),width:Math.abs(s-n),height:Math.abs(o-a)}},L3=function(t){var r=t.x1,n=t.y1,a=t.x2,s=t.y2;return sy({x:r,y:n},{x:a,y:s})},oy=function(){function e(t){I3(this,e),this.scale=t}return D3(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();xo(oy,"EPS",1e-4);var Eu=function(t){var r=Object.keys(t).reduce(function(n,a){return xt(xt({},n),{},xo({},a,oy.create(t[a])))},{});return xt(xt({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return i3(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return ty(a,function(s,o){return r[o].isInRange(s)})}})};function B3(e){return(e%180+180)%180}var q3=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=B3(a),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},F3=It,z3=ta,U3=Zs;function W3(e){return function(t,r,n){var a=Object(t);if(!z3(t)){var s=F3(r);t=U3(t),r=function(l){return s(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[s?t[o]:o]:void 0}}var H3=W3,K3=Zx;function G3(e){var t=K3(e),r=t%1;return t===t?r?t-r:t:0}var V3=G3,X3=rv,Y3=It,Z3=V3,J3=Math.max;function Q3(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:Z3(r);return a<0&&(a=J3(n+a,0)),X3(e,Y3(t),a)}var e6=Q3,t6=H3,r6=e6,n6=t6(r6),i6=n6;const a6=me(i6);var s6=rj(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),ku=I.createContext(void 0),Cu=I.createContext(void 0),ly=I.createContext(void 0),cy=I.createContext({}),uy=I.createContext(void 0),dy=I.createContext(0),fy=I.createContext(0),bm=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=s6(s);return O.createElement(ku.Provider,{value:n},O.createElement(Cu.Provider,{value:a},O.createElement(cy.Provider,{value:s},O.createElement(ly.Provider,{value:d},O.createElement(uy.Provider,{value:o},O.createElement(dy.Provider,{value:u},O.createElement(fy.Provider,{value:c},l)))))))},o6=function(){return I.useContext(uy)},hy=function(t){var r=I.useContext(ku);r==null&&qr();var n=r[t];return n==null&&qr(),n},l6=function(){var t=I.useContext(ku);return rr(t)},c6=function(){var t=I.useContext(Cu),r=a6(t,function(n){return ty(n.domain,Number.isFinite)});return r||rr(t)},my=function(t){var r=I.useContext(Cu);r==null&&qr();var n=r[t];return n==null&&qr(),n},u6=function(){var t=I.useContext(ly);return t},d6=function(){return I.useContext(cy)},Mu=function(){return I.useContext(fy)},Iu=function(){return I.useContext(dy)};function Tn(e){"@babel/helpers - typeof";return Tn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tn(e)}function f6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vy(n.key),n)}}function m6(e,t,r){return t&&h6(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function p6(e,t,r){return t=js(t),v6(e,py()?Reflect.construct(t,r||[],js(e).constructor):t.apply(e,r))}function v6(e,t){if(t&&(Tn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x6(e)}function x6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function py(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(py=function(){return!!e})()}function js(e){return js=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},js(e)}function y6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hc(e,t)}function hc(e,t){return hc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hc(e,t)}function jm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jm(Object(r),!0).forEach(function(n){Du(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Du(e,t,r){return t=vy(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vy(e){var t=g6(e,"string");return Tn(t)=="symbol"?t:t+""}function g6(e,t){if(Tn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function b6(e,t){return N6(e)||_6(e,t)||w6(e,t)||j6()}function j6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w6(e,t){if(e){if(typeof e=="string")return _m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _m(e,t)}}function _m(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _6(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function N6(e){if(Array.isArray(e))return e}function mc(){return mc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mc.apply(this,arguments)}var O6=function(t,r){var n;return O.isValidElement(t)?n=O.cloneElement(t,r):J(t)?n=t(r):n=O.createElement("line",mc({},r,{className:"recharts-reference-line-line"})),n},S6=function(t,r,n,a,s,o,l,c,u){var d=s.x,f=s.y,h=s.width,m=s.height;if(n){var v=u.y,p=t.y.apply(v,{position:o});if(kt(u,"discard")&&!t.y.isInRange(p))return null;var x=[{x:d+h,y:p},{x:d,y:p}];return c==="left"?x.reverse():x}if(r){var j=u.x,g=t.x.apply(j,{position:o});if(kt(u,"discard")&&!t.x.isInRange(g))return null;var w=[{x:g,y:f+m},{x:g,y:f}];return l==="top"?w.reverse():w}if(a){var _=u.segment,y=_.map(function(b){return t.apply(b,{position:o})});return kt(u,"discard")&&Y5(y,function(b){return!t.isInRange(b)})?null:y}return null};function A6(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,s=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=o6(),d=hy(a),f=my(s),h=u6();if(!u||!h)return null;jt(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Eu({x:d.scale,y:f.scale}),v=De(t),p=De(r),x=n&&n.length===2,j=S6(m,v,p,x,h,e.position,d.orientation,f.orientation,e);if(!j)return null;var g=b6(j,2),w=g[0],_=w.x,y=w.y,b=g[1],N=b.x,S=b.y,A=kt(e,"hidden")?"url(#".concat(u,")"):void 0,T=wm(wm({clipPath:A},X(e,!0)),{},{x1:_,y1:y,x2:N,y2:S});return O.createElement(se,{className:re("recharts-reference-line",l)},O6(o,T),Be.renderCallByParent(e,L3({x1:_,y1:y,x2:N,y2:S})))}var Ru=function(e){function t(){return f6(this,t),p6(this,t,arguments)}return y6(t,e),m6(t,[{key:"render",value:function(){return O.createElement(A6,this.props)}}])}(O.Component);Du(Ru,"displayName","ReferenceLine");Du(Ru,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function pc(){return pc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pc.apply(this,arguments)}function En(e){"@babel/helpers - typeof";return En=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},En(e)}function Nm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Om(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nm(Object(r),!0).forEach(function(n){yo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yy(n.key),n)}}function T6(e,t,r){return t&&$6(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function E6(e,t,r){return t=ws(t),k6(e,xy()?Reflect.construct(t,r||[],ws(e).constructor):t.apply(e,r))}function k6(e,t){if(t&&(En(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C6(e)}function C6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xy=function(){return!!e})()}function ws(e){return ws=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ws(e)}function M6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vc(e,t)}function vc(e,t){return vc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vc(e,t)}function yo(e,t,r){return t=yy(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yy(e){var t=I6(e,"string");return En(t)=="symbol"?t:t+""}function I6(e,t){if(En(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(En(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var D6=function(t){var r=t.x,n=t.y,a=t.xAxis,s=t.yAxis,o=Eu({x:a.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return kt(t,"discard")&&!o.isInRange(l)?null:l},go=function(e){function t(){return P6(this,t),E6(this,t,arguments)}return M6(t,e),T6(t,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=De(a),d=De(s);if(jt(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=D6(this.props);if(!f)return null;var h=f.x,m=f.y,v=this.props,p=v.shape,x=v.className,j=kt(this.props,"hidden")?"url(#".concat(c,")"):void 0,g=Om(Om({clipPath:j},X(this.props,!0)),{},{cx:h,cy:m});return O.createElement(se,{className:re("recharts-reference-dot",x)},t.renderDot(p,g),Be.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(O.Component);yo(go,"displayName","ReferenceDot");yo(go,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});yo(go,"renderDot",function(e,t){var r;return O.isValidElement(e)?r=O.cloneElement(e,t):J(e)?r=e(t):r=O.createElement(la,pc({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function xc(){return xc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xc.apply(this,arguments)}function kn(e){"@babel/helpers - typeof";return kn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kn(e)}function Sm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Am(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sm(Object(r),!0).forEach(function(n){bo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,by(n.key),n)}}function B6(e,t,r){return t&&L6(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function q6(e,t,r){return t=_s(t),F6(e,gy()?Reflect.construct(t,r||[],_s(e).constructor):t.apply(e,r))}function F6(e,t){if(t&&(kn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z6(e)}function z6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gy=function(){return!!e})()}function _s(e){return _s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_s(e)}function U6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yc(e,t)}function yc(e,t){return yc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yc(e,t)}function bo(e,t,r){return t=by(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function by(e){var t=W6(e,"string");return kn(t)=="symbol"?t:t+""}function W6(e,t){if(kn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var H6=function(t,r,n,a,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var h=Eu({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},v={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return kt(s,"discard")&&(!h.isInRange(m)||!h.isInRange(v))?null:sy(m,v)},jo=function(e){function t(){return R6(this,t),q6(this,t,arguments)}return U6(t,e),B6(t,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;jt(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=De(a),h=De(s),m=De(o),v=De(l),p=this.props.shape;if(!f&&!h&&!m&&!v&&!p)return null;var x=H6(f,h,m,v,this.props);if(!x&&!p)return null;var j=kt(this.props,"hidden")?"url(#".concat(d,")"):void 0;return O.createElement(se,{className:re("recharts-reference-area",c)},t.renderRect(p,Am(Am({clipPath:j},X(this.props,!0)),x)),Be.renderCallByParent(this.props,x))}}])}(O.Component);bo(jo,"displayName","ReferenceArea");bo(jo,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});bo(jo,"renderRect",function(e,t){var r;return O.isValidElement(e)?r=O.cloneElement(e,t):J(e)?r=e(t):r=O.createElement($u,xc({},t,{className:"recharts-reference-area-rect"})),r});function jy(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function K6(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return q3(n,r)}function G6(e,t,r){var n=r==="width",a=e.x,s=e.y,o=e.width,l=e.height;return t===1?{start:n?a:s,end:n?a+o:s+l}:{start:n?a+o:s+l,end:n?a:s}}function Ns(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function V6(e,t){return jy(e,t+1)}function X6(e,t,r,n,a){for(var s=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var v=n?.[c];if(v===void 0)return{v:jy(n,u)};var p=c,x,j=function(){return x===void 0&&(x=r(v,p)),x},g=v.coordinate,w=c===0||Ns(e,g,j,d,l);w||(c=0,d=o,u+=1),w&&(d=g+e*(j()/2+a),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function Zi(e){"@babel/helpers - typeof";return Zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zi(e)}function Pm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pm(Object(r),!0).forEach(function(n){Y6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y6(e,t,r){return t=Z6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z6(e){var t=J6(e,"string");return Zi(t)=="symbol"?t:t+""}function J6(e,t){if(Zi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q6(e,t,r,n,a){for(var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end,u=function(h){var m=s[h],v,p=function(){return v===void 0&&(v=r(m,h)),v};if(h===o-1){var x=e*(m.coordinate+e*p()/2-c);s[h]=m=Ue(Ue({},m),{},{tickCoord:x>0?m.coordinate-x*e:m.coordinate})}else s[h]=m=Ue(Ue({},m),{},{tickCoord:m.coordinate});var j=Ns(e,m.tickCoord,p,l,c);j&&(c=m.tickCoord-e*(p()/2+a),s[h]=Ue(Ue({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return s}function eB(e,t,r,n,a,s){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(s){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=Ue(Ue({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=Ns(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+a),o[l-1]=Ue(Ue({},d),{},{isShow:!0}))}for(var v=s?l-1:l,p=function(g){var w=o[g],_,y=function(){return _===void 0&&(_=r(w,g)),_};if(g===0){var b=e*(w.coordinate-e*y()/2-c);o[g]=w=Ue(Ue({},w),{},{tickCoord:b<0?w.coordinate-b*e:w.coordinate})}else o[g]=w=Ue(Ue({},w),{},{tickCoord:w.coordinate});var N=Ns(e,w.tickCoord,y,c,u);N&&(c=w.tickCoord+e*(y()/2+a),o[g]=Ue(Ue({},w),{},{isShow:!0}))},x=0;x<v;x++)p(x);return o}function Lu(e,t,r){var n=e.tick,a=e.ticks,s=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(B(c)||hr.isSsr)return V6(a,typeof c=="number"&&B(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",v=d&&m==="width"?fi(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(w,_){var y=J(u)?u(w.value,_):w.value;return m==="width"?K6(fi(y,{fontSize:t,letterSpacing:r}),v,f):fi(y,{fontSize:t,letterSpacing:r})[m]},x=a.length>=2?He(a[1].coordinate-a[0].coordinate):1,j=G6(s,x,m);return c==="equidistantPreserveStart"?X6(x,j,p,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=eB(x,j,p,a,o,c==="preserveStartEnd"):h=Q6(x,j,p,a,o),h.filter(function(g){return g.isShow}))}var tB=["viewBox"],rB=["viewBox"],nB=["ticks"];function Cn(e){"@babel/helpers - typeof";return Cn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cn(e)}function nn(){return nn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nn.apply(this,arguments)}function $m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$m(Object(r),!0).forEach(function(n){Bu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$m(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yo(e,t){if(e==null)return{};var r=iB(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iB(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function aB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tm(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_y(n.key),n)}}function sB(e,t,r){return t&&Tm(e.prototype,t),r&&Tm(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function oB(e,t,r){return t=Os(t),lB(e,wy()?Reflect.construct(t,r||[],Os(e).constructor):t.apply(e,r))}function lB(e,t){if(t&&(Cn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cB(e)}function cB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wy=function(){return!!e})()}function Os(e){return Os=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Os(e)}function uB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gc(e,t)}function gc(e,t){return gc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gc(e,t)}function Bu(e,t,r){return t=_y(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _y(e){var t=dB(e,"string");return Cn(t)=="symbol"?t:t+""}function dB(e,t){if(Cn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Qn=function(e){function t(r){var n;return aB(this,t),n=oB(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return uB(t,e),sB(t,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,o=Yo(n,tB),l=this.props,c=l.viewBox,u=Yo(l,rB);return!on(s,c)||!on(o,u)||!on(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,m,v,p,x,j,g,w=f?-1:1,_=n.tickSize||d,y=B(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=v=n.coordinate,x=o+ +!f*c,p=x-w*_,g=p-w*h,j=y;break;case"left":p=x=n.coordinate,v=s+ +!f*l,m=v-w*_,j=m-w*h,g=y;break;case"right":p=x=n.coordinate,v=s+ +f*l,m=v+w*_,j=m+w*h,g=y;break;default:m=v=n.coordinate,x=o+ +f*c,p=x+w*_,g=p+w*h,j=y;break}return{line:{x1:m,y1:p,x2:v,y2:x},tick:{x:j,y:g}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o;switch(a){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Ce(Ce(Ce({},X(this.props,!1)),X(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Ce(Ce({},f),{},{x1:a,y1:s+h*l,x2:a+o,y2:s+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=Ce(Ce({},f),{},{x1:a+m*o,y1:s,x2:a+m*o,y2:s+l})}return O.createElement("line",nn({},f,{className:re("recharts-cartesian-axis-line",nt(d,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=Lu(Ce(Ce({},this.props),{},{ticks:n}),a,s),v=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),x=X(this.props,!1),j=X(d,!1),g=Ce(Ce({},x),{},{fill:"none"},X(c,!1)),w=m.map(function(_,y){var b=o.getTickLineCoord(_),N=b.line,S=b.tick,A=Ce(Ce(Ce(Ce({textAnchor:v,verticalAnchor:p},x),{},{stroke:"none",fill:u},j),S),{},{index:y,payload:_,visibleTicksCount:m.length,tickFormatter:f});return O.createElement(se,nn({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},Dr(o.props,_,y)),c&&O.createElement("line",nn({},g,N,{className:re("recharts-cartesian-axis-tick-line",nt(c,"className"))})),d&&t.renderTickItem(d,A,"".concat(J(f)?f(_.value,y):_.value).concat(h||"")))});return O.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,m=Yo(f,nB),v=h;return J(c)&&(v=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!v||!v.length?null:O.createElement(se,{className:re("recharts-cartesian-axis",u),ref:function(x){n.layerReference=x}},s&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Be.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var o,l=re(a.className,"recharts-cartesian-axis-tick-value");return O.isValidElement(n)?o=O.cloneElement(n,Ce(Ce({},a),{},{className:l})):J(n)?o=n(Ce(Ce({},a),{},{className:l})):o=O.createElement(Rr,nn({},a,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(I.Component);Bu(Qn,"displayName","CartesianAxis");Bu(Qn,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var fB=["x1","y1","x2","y2","key"],hB=["offset"];function Fr(e){"@babel/helpers - typeof";return Fr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fr(e)}function Em(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Em(Object(r),!0).forEach(function(n){mB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Em(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mB(e,t,r){return t=pB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pB(e){var t=vB(e,"string");return Fr(t)=="symbol"?t:t+""}function vB(e,t){if(Fr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tr(){return Tr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tr.apply(this,arguments)}function km(e,t){if(e==null)return{};var r=xB(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xB(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var yB=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.ry;return O.createElement("rect",{x:a,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Ny(e,t){var r;if(O.isValidElement(e))r=O.cloneElement(e,t);else if(J(e))r=e(t);else{var n=t.x1,a=t.y1,s=t.x2,o=t.y2,l=t.key,c=km(t,fB),u=X(c,!1);u.offset;var d=km(u,hB);r=O.createElement("line",Tr({},d,{x1:n,y1:a,x2:s,y2:o,fill:"none",key:l}))}return r}function gB(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,s=e.horizontalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=We(We({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return Ny(a,u)});return O.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function bB(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,s=e.verticalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=We(We({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return Ny(a,u)});return O.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function jB(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,s=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var v=!d[m+1],p=v?a+o-h:d[m+1]-h;if(p<=0)return null;var x=m%t.length;return O.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:p,width:s,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function wB(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,s=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,m){return h-m});s!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var v=!d[m+1],p=v?s+l-h:d[m+1]-h;if(p<=0)return null;var x=m%n.length;return O.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:p,height:c,stroke:"none",fill:n[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var _B=function(t,r){var n=t.xAxis,a=t.width,s=t.height,o=t.offset;return jx(Lu(We(We(We({},Qn.defaultProps),n),{},{ticks:zt(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.left,o.left+o.width,r)},NB=function(t,r){var n=t.yAxis,a=t.width,s=t.height,o=t.offset;return jx(Lu(We(We(We({},Qn.defaultProps),n),{},{ticks:zt(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.top,o.top+o.height,r)},Jr={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function zr(e){var t,r,n,a,s,o,l=Mu(),c=Iu(),u=d6(),d=We(We({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Jr.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Jr.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Jr.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Jr.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:Jr.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Jr.verticalFill,x:B(e.x)?e.x:u.left,y:B(e.y)?e.y:u.top,width:B(e.width)?e.width:u.width,height:B(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,v=d.height,p=d.syncWithTicks,x=d.horizontalValues,j=d.verticalValues,g=l6(),w=c6();if(!B(m)||m<=0||!B(v)||v<=0||!B(f)||f!==+f||!B(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||_B,y=d.horizontalCoordinatesGenerator||NB,b=d.horizontalPoints,N=d.verticalPoints;if((!b||!b.length)&&J(y)){var S=x&&x.length,A=y({yAxis:w?We(We({},w),{},{ticks:S?x:w.ticks}):void 0,width:l,height:c,offset:u},S?!0:p);jt(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Fr(A),"]")),Array.isArray(A)&&(b=A)}if((!N||!N.length)&&J(_)){var T=j&&j.length,P=_({xAxis:g?We(We({},g),{},{ticks:T?j:g.ticks}):void 0,width:l,height:c,offset:u},T?!0:p);jt(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Fr(P),"]")),Array.isArray(P)&&(N=P)}return O.createElement("g",{className:"recharts-cartesian-grid"},O.createElement(yB,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),O.createElement(gB,Tr({},d,{offset:u,horizontalPoints:b,xAxis:g,yAxis:w})),O.createElement(bB,Tr({},d,{offset:u,verticalPoints:N,xAxis:g,yAxis:w})),O.createElement(jB,Tr({},d,{horizontalPoints:b})),O.createElement(wB,Tr({},d,{verticalPoints:N})))}zr.displayName="CartesianGrid";var OB=["type","layout","connectNulls","ref"],SB=["key"];function Mn(e){"@babel/helpers - typeof";return Mn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mn(e)}function Cm(e,t){if(e==null)return{};var r=AB(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function AB(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yi(){return yi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yi.apply(this,arguments)}function Mm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mm(Object(r),!0).forEach(function(n){yt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qr(e){return EB(e)||TB(e)||$B(e)||PB()}function PB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $B(e,t){if(e){if(typeof e=="string")return bc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bc(e,t)}}function TB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function EB(e){if(Array.isArray(e))return bc(e)}function bc(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Im(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Sy(n.key),n)}}function CB(e,t,r){return t&&Im(e.prototype,t),r&&Im(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function MB(e,t,r){return t=Ss(t),IB(e,Oy()?Reflect.construct(t,r||[],Ss(e).constructor):t.apply(e,r))}function IB(e,t){if(t&&(Mn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DB(e)}function DB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Oy=function(){return!!e})()}function Ss(e){return Ss=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ss(e)}function RB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jc(e,t)}function jc(e,t){return jc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jc(e,t)}function yt(e,t,r){return t=Sy(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sy(e){var t=LB(e,"string");return Mn(t)=="symbol"?t:t+""}function LB(e,t){if(Mn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ur=function(e){function t(){var r;kB(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=MB(this,t,[].concat(a)),yt(r,"state",{isAnimationFinished:!0,totalLength:0}),yt(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),yt(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(j,g){return j+g});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,m=[],v=0,p=0;v<c.length;p+=c[v],++v)if(p+c[v]>f){m=[].concat(Qr(c.slice(0,v)),[f-p]);break}var x=m.length%2===0?[0,h]:[h];return[].concat(Qr(t.repeat(c,d)),Qr(m),x).map(function(j){return"".concat(j,"px")}).join(", ")}),yt(r,"id",Hr("recharts-line-")),yt(r,"pathRef",function(o){r.mainCurve=o}),yt(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),yt(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return RB(t,e),CB(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=it(d,oa);if(!f)return null;var h=function(p,x){return{x:p.x,y:p.y,value:p.value,errorVal:Ae(p.payload,x)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return O.createElement(se,m,f.map(function(v){return O.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=X(this.props,!1),h=X(c,!0),m=u.map(function(p,x){var j=Qe(Qe(Qe({key:"dot-".concat(x),r:3},f),h),{},{index:x,cx:p.x,cy:p.y,value:p.value,dataKey:d,payload:p.payload,points:u});return t.renderDotItem(c,j)}),v={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return O.createElement(se,yi({className:"recharts-line-dots",key:"dots"},v),m)}},{key:"renderCurveStatically",value:function(n,a,s,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=Cm(l,OB),h=Qe(Qe(Qe({},X(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return O.createElement(Mr,yi({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,v=o.animateNewValues,p=o.width,x=o.height,j=this.state,g=j.prevPoints,w=j.totalLength;return O.createElement(_t,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var y=_.t;if(g){var b=g.length/l.length,N=l.map(function($,k){var M=Math.floor(k*b);if(g[M]){var C=g[M],D=Ie(C.x,$.x),R=Ie(C.y,$.y);return Qe(Qe({},$),{},{x:D(y),y:R(y)})}if(v){var q=Ie(p*2,$.x),z=Ie(x/2,$.y);return Qe(Qe({},$),{},{x:q(y),y:z(y)})}return Qe(Qe({},$),{},{x:$.x,y:$.y})});return s.renderCurveStatically(N,n,a)}var S=Ie(0,w),A=S(y),T;if(c){var P="".concat(c).split(/[,\s]+/gim).map(function($){return parseFloat($)});T=s.getStrokeDasharray(A,w,P)}else T=s.generateSimpleStrokeDasharray(w,A);return s.renderCurveStatically(l,n,a,{strokeDasharray:T})})}},{key:"renderCurve",value:function(n,a){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!Lr(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,m=a.width,v=a.height,p=a.isAnimationActive,x=a.id;if(s||!l||!l.length)return null;var j=this.state.isAnimationFinished,g=l.length===1,w=re("recharts-line",c),_=u&&u.allowDataOverflow,y=d&&d.allowDataOverflow,b=_||y,N=te(x)?this.id:x,S=(n=X(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=S.r,T=A===void 0?3:A,P=S.strokeWidth,$=P===void 0?2:P,k=hp(o)?o:{},M=k.clipDot,C=M===void 0?!0:M,D=T*2+$;return O.createElement(se,{className:w},_||y?O.createElement("defs",null,O.createElement("clipPath",{id:"clipPath-".concat(N)},O.createElement("rect",{x:_?h:h-m/2,y:y?f:f-v/2,width:_?m:m*2,height:y?v:v*2})),!C&&O.createElement("clipPath",{id:"clipPath-dots-".concat(N)},O.createElement("rect",{x:h-D/2,y:f-D/2,width:m+D,height:v+D}))):null,!g&&this.renderCurve(b,N),this.renderErrorBar(b,N),(g||o)&&this.renderDots(b,C,N),(!p||j)&&Et.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var s=n.length%2!==0?[].concat(Qr(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(Qr(o),Qr(s));return o}},{key:"renderDotItem",value:function(n,a){var s;if(O.isValidElement(n))s=O.cloneElement(n,a);else if(J(n))s=n(a);else{var o=a.key,l=Cm(a,SB),c=re("recharts-line-dot",typeof n!="boolean"?n.className:"");s=O.createElement(la,yi({key:o},l,{className:c}))}return s}}])}(I.PureComponent);yt(Ur,"displayName","Line");yt(Ur,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!hr.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});yt(Ur,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,m){var v=Ae(h,o);return d==="horizontal"?{x:ns({axis:r,ticks:a,bandSize:l,entry:h,index:m}),y:te(v)?null:n.scale(v),value:v,payload:h}:{x:te(v)?null:r.scale(v),y:ns({axis:n,ticks:s,bandSize:l,entry:h,index:m}),value:v,payload:h}});return Qe({points:f,layout:d},u)});var BB=["layout","type","stroke","connectNulls","isRange","ref"],qB=["key"],Ay;function In(e){"@babel/helpers - typeof";return In=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},In(e)}function Py(e,t){if(e==null)return{};var r=FB(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FB(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Er(){return Er=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Er.apply(this,arguments)}function Dm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dm(Object(r),!0).forEach(function(n){$t(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rm(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ty(n.key),n)}}function UB(e,t,r){return t&&Rm(e.prototype,t),r&&Rm(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function WB(e,t,r){return t=As(t),HB(e,$y()?Reflect.construct(t,r||[],As(e).constructor):t.apply(e,r))}function HB(e,t){if(t&&(In(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KB(e)}function KB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($y=function(){return!!e})()}function As(e){return As=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},As(e)}function GB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wc(e,t)}function wc(e,t){return wc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wc(e,t)}function $t(e,t,r){return t=Ty(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ty(e){var t=VB(e,"string");return In(t)=="symbol"?t:t+""}function VB(e,t){if(In(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(In(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var at=function(e){function t(){var r;zB(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=WB(this,t,[].concat(a)),$t(r,"state",{isAnimationFinished:!0}),$t(r,"id",Hr("recharts-area-")),$t(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),J(o)&&o()}),$t(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),J(o)&&o()}),r}return GB(t,e),UB(t,[{key:"renderDots",value:function(n,a,s){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=X(this.props,!1),m=X(u,!0),v=d.map(function(x,j){var g=er(er(er({key:"dot-".concat(j),r:3},h),m),{},{index:j,cx:x.x,cy:x.y,dataKey:f,value:x.value,payload:x.payload,points:d});return t.renderDotItem(u,g)}),p={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return O.createElement(se,Er({className:"recharts-area-dots"},p),v)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,s=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=n*Math.abs(c-u),f=ir(o.map(function(h){return h.y||0}));return B(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(ir(s.map(function(h){return h.y||0})),f)),B(f)?O.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,s=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=n*Math.abs(c-u),f=ir(o.map(function(h){return h.x||0}));return B(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(ir(s.map(function(h){return h.x||0})),f)),B(f)?O.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,s,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var m=Py(l,BB);return O.createElement(se,{clipPath:s?"url(#clipPath-".concat(o,")"):null},O.createElement(Mr,Er({},X(m,!0),{points:n,connectNulls:f,type:u,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&O.createElement(Mr,Er({},X(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&O.createElement(Mr,Er({},X(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var s=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,v=this.state,p=v.prevPoints,x=v.prevBaseLine;return O.createElement(_t,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var g=j.t;if(p){var w=p.length/l.length,_=l.map(function(S,A){var T=Math.floor(A*w);if(p[T]){var P=p[T],$=Ie(P.x,S.x),k=Ie(P.y,S.y);return er(er({},S),{},{x:$(g),y:k(g)})}return S}),y;if(B(c)&&typeof c=="number"){var b=Ie(x,c);y=b(g)}else if(te(c)||Kn(c)){var N=Ie(x,0);y=N(g)}else y=c.map(function(S,A){var T=Math.floor(A*w);if(x[T]){var P=x[T],$=Ie(P.x,S.x),k=Ie(P.y,S.y);return er(er({},S),{},{x:$(g),y:k(g)})}return S});return s.renderAreaStatically(_,y,n,a)}return O.createElement(se,null,O.createElement("defs",null,O.createElement("clipPath",{id:"animationClipPath-".concat(a)},s.renderClipRect(g))),O.createElement(se,{clipPath:"url(#animationClipPath-".concat(a,")")},s.renderAreaStatically(l,c,n,a)))})}},{key:"renderArea",value:function(n,a){var s=this.props,o=s.points,l=s.baseLine,c=s.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&o&&o.length&&(!d&&h>0||!Lr(d,o)||!Lr(f,l))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(o,l,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,o=a.dot,l=a.points,c=a.className,u=a.top,d=a.left,f=a.xAxis,h=a.yAxis,m=a.width,v=a.height,p=a.isAnimationActive,x=a.id;if(s||!l||!l.length)return null;var j=this.state.isAnimationFinished,g=l.length===1,w=re("recharts-area",c),_=f&&f.allowDataOverflow,y=h&&h.allowDataOverflow,b=_||y,N=te(x)?this.id:x,S=(n=X(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=S.r,T=A===void 0?3:A,P=S.strokeWidth,$=P===void 0?2:P,k=hp(o)?o:{},M=k.clipDot,C=M===void 0?!0:M,D=T*2+$;return O.createElement(se,{className:w},_||y?O.createElement("defs",null,O.createElement("clipPath",{id:"clipPath-".concat(N)},O.createElement("rect",{x:_?d:d-m/2,y:y?u:u-v/2,width:_?m:m*2,height:y?v:v*2})),!C&&O.createElement("clipPath",{id:"clipPath-dots-".concat(N)},O.createElement("rect",{x:d-D/2,y:u-D/2,width:m+D,height:v+D}))):null,g?null:this.renderArea(b,N),(o||g)&&this.renderDots(b,C,N),(!p||j)&&Et.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(I.PureComponent);Ay=at;$t(at,"displayName","Area");$t(at,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!hr.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});$t(at,"getBaseValue",function(e,t,r,n){var a=e.layout,s=e.baseValue,o=t.props.baseValue,l=o??s;if(B(l)&&typeof l=="number")return l;var c=a==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});$t(at,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,s=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=t.layout,v=u&&u.length,p=Ay.getBaseValue(t,r,n,a),x=m==="horizontal",j=!1,g=f.map(function(_,y){var b;v?b=u[d+y]:(b=Ae(_,c),Array.isArray(b)?j=!0:b=[p,b]);var N=b[1]==null||v&&Ae(_,c)==null;return x?{x:ns({axis:n,ticks:s,bandSize:l,entry:_,index:y}),y:N?null:a.scale(b[1]),value:b,payload:_}:{x:N?null:n.scale(b[1]),y:ns({axis:a,ticks:o,bandSize:l,entry:_,index:y}),value:b,payload:_}}),w;return v||j?w=g.map(function(_){var y=Array.isArray(_.value)?_.value[0]:null;return x?{x:_.x,y:y!=null&&_.y!=null?a.scale(y):null}:{x:y!=null?n.scale(y):null,y:_.y}}):w=x?a.scale(p):n.scale(p),er({points:g,baseLine:w,layout:m,isRange:j},h)});$t(at,"renderDotItem",function(e,t){var r;if(O.isValidElement(e))r=O.cloneElement(e,t);else if(J(e))r=e(t);else{var n=re("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,s=Py(t,qB);r=O.createElement(la,Er({},s,{key:a,className:n}))}return r});function Dn(e){"@babel/helpers - typeof";return Dn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dn(e)}function XB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Cy(n.key),n)}}function ZB(e,t,r){return t&&YB(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function JB(e,t,r){return t=Ps(t),QB(e,Ey()?Reflect.construct(t,r||[],Ps(e).constructor):t.apply(e,r))}function QB(e,t){if(t&&(Dn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e8(e)}function e8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ey(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ey=function(){return!!e})()}function Ps(e){return Ps=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ps(e)}function t8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_c(e,t)}function _c(e,t){return _c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_c(e,t)}function ky(e,t,r){return t=Cy(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cy(e){var t=r8(e,"string");return Dn(t)=="symbol"?t:t+""}function r8(e,t){if(Dn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Nc(){return Nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nc.apply(this,arguments)}function n8(e){var t=e.xAxisId,r=Mu(),n=Iu(),a=hy(t);return a==null?null:I.createElement(Qn,Nc({},a,{className:re("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return zt(o,!0)}}))}var Nt=function(e){function t(){return XB(this,t),JB(this,t,arguments)}return t8(t,e),ZB(t,[{key:"render",value:function(){return I.createElement(n8,this.props)}}])}(I.Component);ky(Nt,"displayName","XAxis");ky(Nt,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Rn(e){"@babel/helpers - typeof";return Rn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rn(e)}function i8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Dy(n.key),n)}}function s8(e,t,r){return t&&a8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function o8(e,t,r){return t=$s(t),l8(e,My()?Reflect.construct(t,r||[],$s(e).constructor):t.apply(e,r))}function l8(e,t){if(t&&(Rn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c8(e)}function c8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function My(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(My=function(){return!!e})()}function $s(e){return $s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$s(e)}function u8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oc(e,t)}function Oc(e,t){return Oc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Oc(e,t)}function Iy(e,t,r){return t=Dy(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dy(e){var t=d8(e,"string");return Rn(t)=="symbol"?t:t+""}function d8(e,t){if(Rn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Sc(){return Sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sc.apply(this,arguments)}var f8=function(t){var r=t.yAxisId,n=Mu(),a=Iu(),s=my(r);return s==null?null:I.createElement(Qn,Sc({},s,{className:re("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return zt(l,!0)}}))},Ot=function(e){function t(){return i8(this,t),o8(this,t,arguments)}return u8(t,e),s8(t,[{key:"render",value:function(){return I.createElement(f8,this.props)}}])}(I.Component);Iy(Ot,"displayName","YAxis");Iy(Ot,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Lm(e){return v8(e)||p8(e)||m8(e)||h8()}function h8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m8(e,t){if(e){if(typeof e=="string")return Ac(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ac(e,t)}}function p8(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function v8(e){if(Array.isArray(e))return Ac(e)}function Ac(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Pc=function(t,r,n,a,s){var o=it(t,Ru),l=it(t,go),c=[].concat(Lm(o),Lm(l)),u=it(t,jo),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(p,x){if(x.props[d]===n&&kt(x.props,"extendDomain")&&B(x.props[f])){var j=x.props[f];return[Math.min(p[0],j),Math.max(p[1],j)]}return p},h)),u.length){var m="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(p,x){if(x.props[d]===n&&kt(x.props,"extendDomain")&&B(x.props[m])&&B(x.props[v])){var j=x.props[m],g=x.props[v];return[Math.min(p[0],j,g),Math.max(p[1],j,g)]}return p},h)}return s&&s.length&&(h=s.reduce(function(p,x){return B(x)?[Math.min(p[0],x),Math.max(p[1],x)]:p},h)),h},Ry={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],m]:c._events[v].push(m):(c._events[v]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,v=new Array(m);h<m;h++)v[h]=f[h].fn;return v},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,v){var p=r?r+u:u;if(!this._events[p])return!1;var x=this._events[p],j=arguments.length,g,w;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),j){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,m),!0;case 6:return x.fn.call(x.context,d,f,h,m,v),!0}for(w=1,g=new Array(j-1);w<j;w++)g[w-1]=arguments[w];x.fn.apply(x.context,g)}else{var _=x.length,y;for(w=0;w<_;w++)switch(x[w].once&&this.removeListener(u,x[w].fn,void 0,!0),j){case 1:x[w].fn.call(x[w].context);break;case 2:x[w].fn.call(x[w].context,d);break;case 3:x[w].fn.call(x[w].context,d,f);break;case 4:x[w].fn.call(x[w].context,d,f,h);break;default:if(!g)for(y=1,g=new Array(j-1);y<j;y++)g[y-1]=arguments[y];x[w].fn.apply(x[w].context,g)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&o(this,m);else{for(var p=0,x=[],j=v.length;p<j;p++)(v[p].fn!==d||h&&!v[p].once||f&&v[p].context!==f)&&x.push(v[p]);x.length?this._events[m]=x.length===1?x[0]:x:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(Ry);var x8=Ry.exports;const y8=me(x8);var Zo=new y8,Jo="recharts.syncMouseEvents";function Ji(e){"@babel/helpers - typeof";return Ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ji(e)}function g8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ly(n.key),n)}}function j8(e,t,r){return t&&b8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qo(e,t,r){return t=Ly(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ly(e){var t=w8(e,"string");return Ji(t)=="symbol"?t:t+""}function w8(e,t){if(Ji(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ji(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _8=function(){function e(){g8(this,e),Qo(this,"activeIndex",0),Qo(this,"coordinateList",[]),Qo(this,"layout","horizontal")}return j8(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function N8(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],a=e?.[1];if(n&&a&&B(n)&&B(a))return!0}return!1}function O8(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function By(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,s=e.endAngle,o=ye(t,r,n,a),l=ye(t,r,n,s);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function S8(e,t,r){var n,a,s,o;if(e==="horizontal")n=t.x,s=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=ye(l,c,u,f),m=ye(l,c,d,f);n=h.x,a=h.y,s=m.x,o=m.y}else return By(t);return[{x:n,y:a},{x:s,y:o}]}function Qi(e){"@babel/helpers - typeof";return Qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qi(e)}function Bm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bm(Object(r),!0).forEach(function(n){A8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A8(e,t,r){return t=P8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P8(e){var t=$8(e,"string");return Qi(t)=="symbol"?t:t+""}function $8(e,t){if(Qi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T8(e){var t,r,n=e.element,a=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!s||!o||h!=="ScatterChart"&&a!=="axis")return null;var v,p=Mr;if(h==="ScatterChart")v=o,p=L4;else if(h==="BarChart")v=O8(f,o,c,d),p=$u;else if(f==="radial"){var x=By(o),j=x.cx,g=x.cy,w=x.radius,_=x.startAngle,y=x.endAngle;v={cx:j,cy:g,startAngle:_,endAngle:y,innerRadius:w,outerRadius:w},p=kx}else v={points:S8(f,o,c)},p=Mr;var b=_a(_a(_a(_a({stroke:"#ccc",pointerEvents:"none"},c),v),X(m,!1)),{},{payload:l,payloadIndex:u,className:re("recharts-tooltip-cursor",m.className)});return I.isValidElement(m)?I.cloneElement(m,b):I.createElement(p,b)}var E8=["item"],k8=["children","className","width","height","style","compact","title","desc"];function Ln(e){"@babel/helpers - typeof";return Ln=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ln(e)}function an(){return an=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},an.apply(this,arguments)}function qm(e,t){return I8(e)||M8(e,t)||Fy(e,t)||C8()}function C8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function I8(e){if(Array.isArray(e))return e}function Fm(e,t){if(e==null)return{};var r=D8(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function D8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function R8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zy(n.key),n)}}function B8(e,t,r){return t&&L8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function q8(e,t,r){return t=Ts(t),F8(e,qy()?Reflect.construct(t,r||[],Ts(e).constructor):t.apply(e,r))}function F8(e,t){if(t&&(Ln(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z8(e)}function z8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qy=function(){return!!e})()}function Ts(e){return Ts=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ts(e)}function U8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$c(e,t)}function $c(e,t){return $c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$c(e,t)}function Bn(e){return K8(e)||H8(e)||Fy(e)||W8()}function W8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fy(e,t){if(e){if(typeof e=="string")return Tc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tc(e,t)}}function H8(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function K8(e){if(Array.isArray(e))return Tc(e)}function Tc(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zm(Object(r),!0).forEach(function(n){Z(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z(e,t,r){return t=zy(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zy(e){var t=G8(e,"string");return Ln(t)=="symbol"?t:t+""}function G8(e,t){if(Ln(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ln(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var V8={xAxis:["bottom","top"],yAxis:["left","right"]},X8={width:"100%",height:"100%"},Uy={x:0,y:0};function Na(e){return e}var Y8=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Z8=function(t,r,n,a){var s=r.find(function(d){return d&&d.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:s.coordinate};if(t==="centric"){var o=s.coordinate,l=a.radius;return E(E(E({},a),ye(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=a.angle;return E(E(E({},a),ye(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return Uy},wo=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Bn(l),Bn(u)):l},[]);return o.length>0?o:t&&t.length&&B(a)&&B(s)?t.slice(a,s+1):[]};function Wy(e){return e==="number"?[0,"auto"]:void 0}var Ec=function(t,r,n,a){var s=t.graphicalItems,o=t.tooltipAxis,l=wo(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;h=$a(m,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(Bn(c),[Sx(u,h)]):c},[])},Um=function(t,r,n,a){var s=a||{x:t.chartX,y:t.chartY},o=Y8(s,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=lI(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=Ec(t,r,d,f),m=Z8(n,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},J8=function(t,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=bx(d,s);return n.reduce(function(v,p){var x,j=p.type.defaultProps!==void 0?E(E({},p.type.defaultProps),p.props):p.props,g=j.type,w=j.dataKey,_=j.allowDataOverflow,y=j.allowDuplicatedCategory,b=j.scale,N=j.ticks,S=j.includeHidden,A=j[o];if(v[A])return v;var T=wo(t.data,{graphicalItems:a.filter(function(G){var ee,ge=o in G.props?G.props[o]:(ee=G.type.defaultProps)===null||ee===void 0?void 0:ee[o];return ge===A}),dataStartIndex:c,dataEndIndex:u}),P=T.length,$,k,M;N8(j.domain,_,g)&&($=Wl(j.domain,null,_),m&&(g==="number"||b!=="auto")&&(M=mi(T,w,"category")));var C=Wy(g);if(!$||$.length===0){var D,R=(D=j.domain)!==null&&D!==void 0?D:C;if(w){if($=mi(T,w,g),g==="category"&&m){var q=Jj($);y&&q?(k=$,$=vs(0,P)):y||($=ch(R,$,p).reduce(function(G,ee){return G.indexOf(ee)>=0?G:[].concat(Bn(G),[ee])},[]))}else if(g==="category")y?$=$.filter(function(G){return G!==""&&!te(G)}):$=ch(R,$,p).reduce(function(G,ee){return G.indexOf(ee)>=0||ee===""||te(ee)?G:[].concat(Bn(G),[ee])},[]);else if(g==="number"){var z=hI(T,a.filter(function(G){var ee,ge,Pe=o in G.props?G.props[o]:(ee=G.type.defaultProps)===null||ee===void 0?void 0:ee[o],Je="hide"in G.props?G.props.hide:(ge=G.type.defaultProps)===null||ge===void 0?void 0:ge.hide;return Pe===A&&(S||!Je)}),w,s,d);z&&($=z)}m&&(g==="number"||b!=="auto")&&(M=mi(T,w,"category"))}else m?$=vs(0,P):l&&l[A]&&l[A].hasStack&&g==="number"?$=h==="expand"?[0,1]:Ox(l[A].stackGroups,c,u):$=gx(T,a.filter(function(G){var ee=o in G.props?G.props[o]:G.type.defaultProps[o],ge="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return ee===A&&(S||!ge)}),g,d,!0);if(g==="number")$=Pc(f,$,A,s,N),R&&($=Wl(R,$,_));else if(g==="category"&&R){var Y=R,Q=$.every(function(G){return Y.indexOf(G)>=0});Q&&($=Y)}}return E(E({},v),{},Z({},A,E(E({},j),{},{axisType:s,domain:$,categoricalDomain:M,duplicateDomain:k,originalDomain:(x=j.domain)!==null&&x!==void 0?x:C,isCategorical:m,layout:d})))},{})},Q8=function(t,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=wo(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,v=bx(d,s),p=-1;return n.reduce(function(x,j){var g=j.type.defaultProps!==void 0?E(E({},j.type.defaultProps),j.props):j.props,w=g[o],_=Wy("number");if(!x[w]){p++;var y;return v?y=vs(0,m):l&&l[w]&&l[w].hasStack?(y=Ox(l[w].stackGroups,c,u),y=Pc(f,y,w,s)):(y=Wl(_,gx(h,n.filter(function(b){var N,S,A=o in b.props?b.props[o]:(N=b.type.defaultProps)===null||N===void 0?void 0:N[o],T="hide"in b.props?b.props.hide:(S=b.type.defaultProps)===null||S===void 0?void 0:S.hide;return A===w&&!T}),"number",d),a.defaultProps.allowDataOverflow),y=Pc(f,y,w,s)),E(E({},x),{},Z({},w,E(E({axisType:s},a.defaultProps),{},{hide:!0,orientation:nt(V8,"".concat(s,".").concat(p%2),null),domain:y,originalDomain:_,isCategorical:v,layout:d})))}return x},{})},eq=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=it(d,s),m={};return h&&h.length?m=J8(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=Q8(t,{Axis:s,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},tq=function(t){var r=rr(t),n=zt(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:ru(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:is(r,n)}},Wm=function(t){var r=t.children,n=t.defaultShowTooltip,a=tt(r,Pn),s=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},rq=function(t){return!t||!t.length?!1:t.some(function(r){var n=Ut(r&&r.type);return n&&n.indexOf("Bar")>=0})},Hm=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},nq=function(t,r){var n=t.props,a=t.graphicalItems,s=t.xAxisMap,o=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=tt(f,Pn),v=tt(f,ln),p=Object.keys(c).reduce(function(y,b){var N=c[b],S=N.orientation;return!N.mirror&&!N.hide?E(E({},y),{},Z({},S,y[S]+N.width)):y},{left:h.left||0,right:h.right||0}),x=Object.keys(o).reduce(function(y,b){var N=o[b],S=N.orientation;return!N.mirror&&!N.hide?E(E({},y),{},Z({},S,nt(y,"".concat(S))+N.height)):y},{top:h.top||0,bottom:h.bottom||0}),j=E(E({},x),p),g=j.bottom;m&&(j.bottom+=m.props.height||Pn.defaultProps.height),v&&r&&(j=dI(j,a,n,r));var w=u-j.left-j.right,_=d-j.top-j.bottom;return E(E({brushBottom:g},j),{},{width:Math.max(w,0),height:Math.max(_,0)})},iq=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},_o=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,s=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(j,g){var w=g.graphicalItems,_=g.stackGroups,y=g.offset,b=g.updateId,N=g.dataStartIndex,S=g.dataEndIndex,A=j.barSize,T=j.layout,P=j.barGap,$=j.barCategoryGap,k=j.maxBarSize,M=Hm(T),C=M.numericAxisName,D=M.cateAxisName,R=rq(w),q=[];return w.forEach(function(z,Y){var Q=wo(j.data,{graphicalItems:[z],dataStartIndex:N,dataEndIndex:S}),G=z.type.defaultProps!==void 0?E(E({},z.type.defaultProps),z.props):z.props,ee=G.dataKey,ge=G.maxBarSize,Pe=G["".concat(C,"Id")],Je=G["".concat(D,"Id")],xr={},Ve=c.reduce(function(yr,gr){var No=g["".concat(gr.axisType,"Map")],qu=G["".concat(gr.axisType,"Id")];No&&No[qu]||gr.axisType==="zAxis"||qr();var Fu=No[qu];return E(E({},yr),{},Z(Z({},gr.axisType,Fu),"".concat(gr.axisType,"Ticks"),zt(Fu)))},xr),K=Ve[D],ne=Ve["".concat(D,"Ticks")],ae=_&&_[Pe]&&_[Pe].hasStack&&wI(z,_[Pe].stackGroups),L=Ut(z.type).indexOf("Bar")>=0,Ne=is(K,ne),le=[],Ee=R&&cI({barSize:A,stackGroups:_,totalSize:iq(Ve,D)});if(L){var ke,Xe,Qt=te(ge)?k:ge,Xr=(ke=(Xe=is(K,ne,!0))!==null&&Xe!==void 0?Xe:Qt)!==null&&ke!==void 0?ke:0;le=uI({barGap:P,barCategoryGap:$,bandSize:Xr!==Ne?Xr:Ne,sizeList:Ee[Je],maxBarSize:Qt}),Xr!==Ne&&(le=le.map(function(yr){return E(E({},yr),{},{position:E(E({},yr.position),{},{offset:yr.position.offset-Xr/2})})}))}var ca=z&&z.type&&z.type.getComposedData;ca&&q.push({props:E(E({},ca(E(E({},Ve),{},{displayedData:Q,props:j,dataKey:ee,item:z,bandSize:Ne,barPosition:le,offset:y,stackedData:ae,layout:T,dataStartIndex:N,dataEndIndex:S}))),{},Z(Z(Z({key:z.key||"item-".concat(Y)},C,Ve[C]),D,Ve[D]),"animationId",b)),childIndex:uw(z,j.children),item:z})}),q},m=function(j,g){var w=j.props,_=j.dataStartIndex,y=j.dataEndIndex,b=j.updateId;if(!rd({props:w}))return null;var N=w.children,S=w.layout,A=w.stackOffset,T=w.data,P=w.reverseStackOrder,$=Hm(S),k=$.numericAxisName,M=$.cateAxisName,C=it(N,n),D=bI(T,C,"".concat(k,"Id"),"".concat(M,"Id"),A,P),R=c.reduce(function(G,ee){var ge="".concat(ee.axisType,"Map");return E(E({},G),{},Z({},ge,eq(w,E(E({},ee),{},{graphicalItems:C,stackGroups:ee.axisType===k&&D,dataStartIndex:_,dataEndIndex:y}))))},{}),q=nq(E(E({},R),{},{props:w,graphicalItems:C}),g?.legendBBox);Object.keys(R).forEach(function(G){R[G]=d(w,R[G],q,G.replace("Map",""),r)});var z=R["".concat(M,"Map")],Y=tq(z),Q=h(w,E(E({},R),{},{dataStartIndex:_,dataEndIndex:y,updateId:b,graphicalItems:C,stackGroups:D,offset:q}));return E(E({formattedGraphicalItems:Q,graphicalItems:C,offset:q,stackGroups:D},Y),R)},v=function(x){function j(g){var w,_,y;return R8(this,j),y=q8(this,j,[g]),Z(y,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Z(y,"accessibilityManager",new _8),Z(y,"handleLegendBBoxUpdate",function(b){if(b){var N=y.state,S=N.dataStartIndex,A=N.dataEndIndex,T=N.updateId;y.setState(E({legendBBox:b},m({props:y.props,dataStartIndex:S,dataEndIndex:A,updateId:T},E(E({},y.state),{},{legendBBox:b}))))}}),Z(y,"handleReceiveSyncEvent",function(b,N,S){if(y.props.syncId===b){if(S===y.eventEmitterSymbol&&typeof y.props.syncMethod!="function")return;y.applySyncEvent(N)}}),Z(y,"handleBrushChange",function(b){var N=b.startIndex,S=b.endIndex;if(N!==y.state.dataStartIndex||S!==y.state.dataEndIndex){var A=y.state.updateId;y.setState(function(){return E({dataStartIndex:N,dataEndIndex:S},m({props:y.props,dataStartIndex:N,dataEndIndex:S,updateId:A},y.state))}),y.triggerSyncEvent({dataStartIndex:N,dataEndIndex:S})}}),Z(y,"handleMouseEnter",function(b){var N=y.getMouseInfo(b);if(N){var S=E(E({},N),{},{isTooltipActive:!0});y.setState(S),y.triggerSyncEvent(S);var A=y.props.onMouseEnter;J(A)&&A(S,b)}}),Z(y,"triggeredAfterMouseMove",function(b){var N=y.getMouseInfo(b),S=N?E(E({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};y.setState(S),y.triggerSyncEvent(S);var A=y.props.onMouseMove;J(A)&&A(S,b)}),Z(y,"handleItemMouseEnter",function(b){y.setState(function(){return{isTooltipActive:!0,activeItem:b,activePayload:b.tooltipPayload,activeCoordinate:b.tooltipPosition||{x:b.cx,y:b.cy}}})}),Z(y,"handleItemMouseLeave",function(){y.setState(function(){return{isTooltipActive:!1}})}),Z(y,"handleMouseMove",function(b){b.persist(),y.throttleTriggeredAfterMouseMove(b)}),Z(y,"handleMouseLeave",function(b){y.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};y.setState(N),y.triggerSyncEvent(N);var S=y.props.onMouseLeave;J(S)&&S(N,b)}),Z(y,"handleOuterEvent",function(b){var N=cw(b),S=nt(y.props,"".concat(N));if(N&&J(S)){var A,T;/.*touch.*/i.test(N)?T=y.getMouseInfo(b.changedTouches[0]):T=y.getMouseInfo(b),S((A=T)!==null&&A!==void 0?A:{},b)}}),Z(y,"handleClick",function(b){var N=y.getMouseInfo(b);if(N){var S=E(E({},N),{},{isTooltipActive:!0});y.setState(S),y.triggerSyncEvent(S);var A=y.props.onClick;J(A)&&A(S,b)}}),Z(y,"handleMouseDown",function(b){var N=y.props.onMouseDown;if(J(N)){var S=y.getMouseInfo(b);N(S,b)}}),Z(y,"handleMouseUp",function(b){var N=y.props.onMouseUp;if(J(N)){var S=y.getMouseInfo(b);N(S,b)}}),Z(y,"handleTouchMove",function(b){b.changedTouches!=null&&b.changedTouches.length>0&&y.throttleTriggeredAfterMouseMove(b.changedTouches[0])}),Z(y,"handleTouchStart",function(b){b.changedTouches!=null&&b.changedTouches.length>0&&y.handleMouseDown(b.changedTouches[0])}),Z(y,"handleTouchEnd",function(b){b.changedTouches!=null&&b.changedTouches.length>0&&y.handleMouseUp(b.changedTouches[0])}),Z(y,"handleDoubleClick",function(b){var N=y.props.onDoubleClick;if(J(N)){var S=y.getMouseInfo(b);N(S,b)}}),Z(y,"handleContextMenu",function(b){var N=y.props.onContextMenu;if(J(N)){var S=y.getMouseInfo(b);N(S,b)}}),Z(y,"triggerSyncEvent",function(b){y.props.syncId!==void 0&&Zo.emit(Jo,y.props.syncId,b,y.eventEmitterSymbol)}),Z(y,"applySyncEvent",function(b){var N=y.props,S=N.layout,A=N.syncMethod,T=y.state.updateId,P=b.dataStartIndex,$=b.dataEndIndex;if(b.dataStartIndex!==void 0||b.dataEndIndex!==void 0)y.setState(E({dataStartIndex:P,dataEndIndex:$},m({props:y.props,dataStartIndex:P,dataEndIndex:$,updateId:T},y.state)));else if(b.activeTooltipIndex!==void 0){var k=b.chartX,M=b.chartY,C=b.activeTooltipIndex,D=y.state,R=D.offset,q=D.tooltipTicks;if(!R)return;if(typeof A=="function")C=A(q,b);else if(A==="value"){C=-1;for(var z=0;z<q.length;z++)if(q[z].value===b.activeLabel){C=z;break}}var Y=E(E({},R),{},{x:R.left,y:R.top}),Q=Math.min(k,Y.x+Y.width),G=Math.min(M,Y.y+Y.height),ee=q[C]&&q[C].value,ge=Ec(y.state,y.props.data,C),Pe=q[C]?{x:S==="horizontal"?q[C].coordinate:Q,y:S==="horizontal"?G:q[C].coordinate}:Uy;y.setState(E(E({},b),{},{activeLabel:ee,activeCoordinate:Pe,activePayload:ge,activeTooltipIndex:C}))}else y.setState(b)}),Z(y,"renderCursor",function(b){var N,S=y.state,A=S.isTooltipActive,T=S.activeCoordinate,P=S.activePayload,$=S.offset,k=S.activeTooltipIndex,M=S.tooltipAxisBandSize,C=y.getTooltipEventType(),D=(N=b.props.active)!==null&&N!==void 0?N:A,R=y.props.layout,q=b.key||"_recharts-cursor";return O.createElement(T8,{key:q,activeCoordinate:T,activePayload:P,activeTooltipIndex:k,chartName:r,element:b,isActive:D,layout:R,offset:$,tooltipAxisBandSize:M,tooltipEventType:C})}),Z(y,"renderPolarAxis",function(b,N,S){var A=nt(b,"type.axisType"),T=nt(y.state,"".concat(A,"Map")),P=b.type.defaultProps,$=P!==void 0?E(E({},P),b.props):b.props,k=T&&T[$["".concat(A,"Id")]];return I.cloneElement(b,E(E({},k),{},{className:re(A,k.className),key:b.key||"".concat(N,"-").concat(S),ticks:zt(k,!0)}))}),Z(y,"renderPolarGrid",function(b){var N=b.props,S=N.radialLines,A=N.polarAngles,T=N.polarRadius,P=y.state,$=P.radiusAxisMap,k=P.angleAxisMap,M=rr($),C=rr(k),D=C.cx,R=C.cy,q=C.innerRadius,z=C.outerRadius;return I.cloneElement(b,{polarAngles:Array.isArray(A)?A:zt(C,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(T)?T:zt(M,!0).map(function(Y){return Y.coordinate}),cx:D,cy:R,innerRadius:q,outerRadius:z,key:b.key||"polar-grid",radialLines:S})}),Z(y,"renderLegend",function(){var b=y.state.formattedGraphicalItems,N=y.props,S=N.children,A=N.width,T=N.height,P=y.props.margin||{},$=A-(P.left||0)-(P.right||0),k=xx({children:S,formattedGraphicalItems:b,legendWidth:$,legendContent:u});if(!k)return null;var M=k.item,C=Fm(k,E8);return I.cloneElement(M,E(E({},C),{},{chartWidth:A,chartHeight:T,margin:P,onBBoxUpdate:y.handleLegendBBoxUpdate}))}),Z(y,"renderTooltip",function(){var b,N=y.props,S=N.children,A=N.accessibilityLayer,T=tt(S,ze);if(!T)return null;var P=y.state,$=P.isTooltipActive,k=P.activeCoordinate,M=P.activePayload,C=P.activeLabel,D=P.offset,R=(b=T.props.active)!==null&&b!==void 0?b:$;return I.cloneElement(T,{viewBox:E(E({},D),{},{x:D.left,y:D.top}),active:R,label:C,payload:R?M:[],coordinate:k,accessibilityLayer:A})}),Z(y,"renderBrush",function(b){var N=y.props,S=N.margin,A=N.data,T=y.state,P=T.offset,$=T.dataStartIndex,k=T.dataEndIndex,M=T.updateId;return I.cloneElement(b,{key:b.key||"_recharts-brush",onChange:ga(y.handleBrushChange,b.props.onChange),data:A,x:B(b.props.x)?b.props.x:P.left,y:B(b.props.y)?b.props.y:P.top+P.height+P.brushBottom-(S.bottom||0),width:B(b.props.width)?b.props.width:P.width,startIndex:$,endIndex:k,updateId:"brush-".concat(M)})}),Z(y,"renderReferenceElement",function(b,N,S){if(!b)return null;var A=y,T=A.clipPathId,P=y.state,$=P.xAxisMap,k=P.yAxisMap,M=P.offset,C=b.type.defaultProps||{},D=b.props,R=D.xAxisId,q=R===void 0?C.xAxisId:R,z=D.yAxisId,Y=z===void 0?C.yAxisId:z;return I.cloneElement(b,{key:b.key||"".concat(N,"-").concat(S),xAxis:$[q],yAxis:k[Y],viewBox:{x:M.left,y:M.top,width:M.width,height:M.height},clipPathId:T})}),Z(y,"renderActivePoints",function(b){var N=b.item,S=b.activePoint,A=b.basePoint,T=b.childIndex,P=b.isRange,$=[],k=N.props.key,M=N.item.type.defaultProps!==void 0?E(E({},N.item.type.defaultProps),N.item.props):N.item.props,C=M.activeDot,D=M.dataKey,R=E(E({index:T,dataKey:D,cx:S.x,cy:S.y,r:4,fill:Pu(N.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},X(C,!1)),Ta(C));return $.push(j.renderActiveDot(C,R,"".concat(k,"-activePoint-").concat(T))),A?$.push(j.renderActiveDot(C,E(E({},R),{},{cx:A.x,cy:A.y}),"".concat(k,"-basePoint-").concat(T))):P&&$.push(null),$}),Z(y,"renderGraphicChild",function(b,N,S){var A=y.filterFormatItem(b,N,S);if(!A)return null;var T=y.getTooltipEventType(),P=y.state,$=P.isTooltipActive,k=P.tooltipAxis,M=P.activeTooltipIndex,C=P.activeLabel,D=y.props.children,R=tt(D,ze),q=A.props,z=q.points,Y=q.isRange,Q=q.baseLine,G=A.item.type.defaultProps!==void 0?E(E({},A.item.type.defaultProps),A.item.props):A.item.props,ee=G.activeDot,ge=G.hide,Pe=G.activeBar,Je=G.activeShape,xr=!!(!ge&&$&&R&&(ee||Pe||Je)),Ve={};T!=="axis"&&R&&R.props.trigger==="click"?Ve={onClick:ga(y.handleItemMouseEnter,b.props.onClick)}:T!=="axis"&&(Ve={onMouseLeave:ga(y.handleItemMouseLeave,b.props.onMouseLeave),onMouseEnter:ga(y.handleItemMouseEnter,b.props.onMouseEnter)});var K=I.cloneElement(b,E(E({},A.props),Ve));function ne(gr){return typeof k.dataKey=="function"?k.dataKey(gr.payload):null}if(xr)if(M>=0){var ae,L;if(k.dataKey&&!k.allowDuplicatedCategory){var Ne=typeof k.dataKey=="function"?ne:"payload.".concat(k.dataKey.toString());ae=$a(z,Ne,C),L=Y&&Q&&$a(Q,Ne,C)}else ae=z?.[M],L=Y&&Q&&Q[M];if(Je||Pe){var le=b.props.activeIndex!==void 0?b.props.activeIndex:M;return[I.cloneElement(b,E(E(E({},A.props),Ve),{},{activeIndex:le})),null,null]}if(!te(ae))return[K].concat(Bn(y.renderActivePoints({item:A,activePoint:ae,basePoint:L,childIndex:M,isRange:Y})))}else{var Ee,ke=(Ee=y.getItemByXY(y.state.activeCoordinate))!==null&&Ee!==void 0?Ee:{graphicalItem:K},Xe=ke.graphicalItem,Qt=Xe.item,Xr=Qt===void 0?b:Qt,ca=Xe.childIndex,yr=E(E(E({},A.props),Ve),{},{activeIndex:ca});return[I.cloneElement(Xr,yr),null,null]}return Y?[K,null,null]:[K,null]}),Z(y,"renderCustomized",function(b,N,S){return I.cloneElement(b,E(E({key:"recharts-customized-".concat(S)},y.props),y.state))}),Z(y,"renderMap",{CartesianGrid:{handler:Na,once:!0},ReferenceArea:{handler:y.renderReferenceElement},ReferenceLine:{handler:Na},ReferenceDot:{handler:y.renderReferenceElement},XAxis:{handler:Na},YAxis:{handler:Na},Brush:{handler:y.renderBrush,once:!0},Bar:{handler:y.renderGraphicChild},Line:{handler:y.renderGraphicChild},Area:{handler:y.renderGraphicChild},Radar:{handler:y.renderGraphicChild},RadialBar:{handler:y.renderGraphicChild},Scatter:{handler:y.renderGraphicChild},Pie:{handler:y.renderGraphicChild},Funnel:{handler:y.renderGraphicChild},Tooltip:{handler:y.renderCursor,once:!0},PolarGrid:{handler:y.renderPolarGrid,once:!0},PolarAngleAxis:{handler:y.renderPolarAxis},PolarRadiusAxis:{handler:y.renderPolarAxis},Customized:{handler:y.renderCustomized}}),y.clipPathId="".concat((w=g.id)!==null&&w!==void 0?w:Hr("recharts"),"-clip"),y.throttleTriggeredAfterMouseMove=vv(y.triggeredAfterMouseMove,(_=g.throttleDelay)!==null&&_!==void 0?_:1e3/60),y.state={},y}return U8(j,x),B8(j,[{key:"componentDidMount",value:function(){var w,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,_=w.children,y=w.data,b=w.height,N=w.layout,S=tt(_,ze);if(S){var A=S.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var T=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,P=Ec(this.state,y,A,T),$=this.state.tooltipTicks[A].coordinate,k=(this.state.offset.top+b)/2,M=N==="horizontal",C=M?{x:$,y:k}:{y:$,x:k},D=this.state.formattedGraphicalItems.find(function(q){var z=q.item;return z.type.name==="Scatter"});D&&(C=E(E({},C),D.props.points[A].tooltipPosition),P=D.props.points[A].tooltipPayload);var R={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:T,activePayload:P,activeCoordinate:C};this.setState(R),this.renderCursor(S),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var y,b;this.accessibilityManager.setDetails({offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(b=this.props.margin.top)!==null&&b!==void 0?b:0}})}return null}},{key:"componentDidUpdate",value:function(w){al([tt(w.children,ze)],[tt(this.props.children,ze)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=tt(this.props.children,ze);if(w&&typeof w.props.shared=="boolean"){var _=w.props.shared?"axis":"item";return l.indexOf(_)>=0?_:s}return s}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var _=this.container,y=_.getBoundingClientRect(),b=DT(y),N={chartX:Math.round(w.pageX-b.left),chartY:Math.round(w.pageY-b.top)},S=y.width/_.offsetWidth||1,A=this.inRange(N.chartX,N.chartY,S);if(!A)return null;var T=this.state,P=T.xAxisMap,$=T.yAxisMap,k=this.getTooltipEventType(),M=Um(this.state,this.props.data,this.props.layout,A);if(k!=="axis"&&P&&$){var C=rr(P).scale,D=rr($).scale,R=C&&C.invert?C.invert(N.chartX):null,q=D&&D.invert?D.invert(N.chartY):null;return E(E({},N),{},{xValue:R,yValue:q},M)}return M?E(E({},N),M):null}},{key:"inRange",value:function(w,_){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,b=this.props.layout,N=w/y,S=_/y;if(b==="horizontal"||b==="vertical"){var A=this.state.offset,T=N>=A.left&&N<=A.left+A.width&&S>=A.top&&S<=A.top+A.height;return T?{x:N,y:S}:null}var P=this.state,$=P.angleAxisMap,k=P.radiusAxisMap;if($&&k){var M=rr($);return fh({x:N,y:S},M)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,_=this.getTooltipEventType(),y=tt(w,ze),b={};y&&_==="axis"&&(y.props.trigger==="click"?b={onClick:this.handleClick}:b={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=Ta(this.props,this.handleOuterEvent);return E(E({},N),b)}},{key:"addListener",value:function(){Zo.on(Jo,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Zo.removeListener(Jo,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,_,y){for(var b=this.state.formattedGraphicalItems,N=0,S=b.length;N<S;N++){var A=b[N];if(A.item===w||A.props.key===w.key||_===Ut(A.item.type)&&y===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,_=this.state.offset,y=_.left,b=_.top,N=_.height,S=_.width;return O.createElement("defs",null,O.createElement("clipPath",{id:w},O.createElement("rect",{x:y,y:b,height:N,width:S})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(_,y){var b=qm(y,2),N=b[0],S=b[1];return E(E({},_),{},Z({},N,S.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(_,y){var b=qm(y,2),N=b[0],S=b[1];return E(E({},_),{},Z({},N,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(w){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(w){var _=this.state,y=_.formattedGraphicalItems,b=_.activeItem;if(y&&y.length)for(var N=0,S=y.length;N<S;N++){var A=y[N],T=A.props,P=A.item,$=P.type.defaultProps!==void 0?E(E({},P.type.defaultProps),P.props):P.props,k=Ut(P.type);if(k==="Bar"){var M=(T.data||[]).find(function(q){return y4(w,q)});if(M)return{graphicalItem:A,payload:M}}else if(k==="RadialBar"){var C=(T.data||[]).find(function(q){return fh(w,q)});if(C)return{graphicalItem:A,payload:C}}else if(po(A,b)||vo(A,b)||Gi(A,b)){var D=s5({graphicalItem:A,activeTooltipItem:b,itemData:$.data}),R=$.activeIndex===void 0?D:$.activeIndex;return{graphicalItem:E(E({},A),{},{childIndex:R}),payload:Gi(A,b)?$.data[D]:A.props.data[D]}}}return null}},{key:"render",value:function(){var w=this;if(!rd(this))return null;var _=this.props,y=_.children,b=_.className,N=_.width,S=_.height,A=_.style,T=_.compact,P=_.title,$=_.desc,k=Fm(_,k8),M=X(k,!1);if(T)return O.createElement(bm,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},O.createElement(ol,an({},M,{width:N,height:S,title:P,desc:$}),this.renderClipPath(),id(y,this.renderMap)));if(this.props.accessibilityLayer){var C,D;M.tabIndex=(C=this.props.tabIndex)!==null&&C!==void 0?C:0,M.role=(D=this.props.role)!==null&&D!==void 0?D:"application",M.onKeyDown=function(q){w.accessibilityManager.keyboardEvent(q)},M.onFocus=function(){w.accessibilityManager.focus()}}var R=this.parseEventsOfWrapper();return O.createElement(bm,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},O.createElement("div",an({className:re("recharts-wrapper",b),style:E({position:"relative",cursor:"default",width:N,height:S},A)},R,{ref:function(z){w.container=z}}),O.createElement(ol,an({},M,{width:N,height:S,title:P,desc:$,style:X8}),this.renderClipPath(),id(y,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(I.Component);Z(v,"displayName",r),Z(v,"defaultProps",E({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Z(v,"getDerivedStateFromProps",function(x,j){var g=x.dataKey,w=x.data,_=x.children,y=x.width,b=x.height,N=x.layout,S=x.stackOffset,A=x.margin,T=j.dataStartIndex,P=j.dataEndIndex;if(j.updateId===void 0){var $=Wm(x);return E(E(E({},$),{},{updateId:0},m(E(E({props:x},$),{},{updateId:0}),j)),{},{prevDataKey:g,prevData:w,prevWidth:y,prevHeight:b,prevLayout:N,prevStackOffset:S,prevMargin:A,prevChildren:_})}if(g!==j.prevDataKey||w!==j.prevData||y!==j.prevWidth||b!==j.prevHeight||N!==j.prevLayout||S!==j.prevStackOffset||!on(A,j.prevMargin)){var k=Wm(x),M={chartX:j.chartX,chartY:j.chartY,isTooltipActive:j.isTooltipActive},C=E(E({},Um(j,w,N)),{},{updateId:j.updateId+1}),D=E(E(E({},k),M),C);return E(E(E({},D),m(E({props:x},D),j)),{},{prevDataKey:g,prevData:w,prevWidth:y,prevHeight:b,prevLayout:N,prevStackOffset:S,prevMargin:A,prevChildren:_})}if(!al(_,j.prevChildren)){var R,q,z,Y,Q=tt(_,Pn),G=Q&&(R=(q=Q.props)===null||q===void 0?void 0:q.startIndex)!==null&&R!==void 0?R:T,ee=Q&&(z=(Y=Q.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&z!==void 0?z:P,ge=G!==T||ee!==P,Pe=!te(w),Je=Pe&&!ge?j.updateId:j.updateId+1;return E(E({updateId:Je},m(E(E({props:x},j),{},{updateId:Je,dataStartIndex:G,dataEndIndex:ee}),j)),{},{prevChildren:_,dataStartIndex:G,dataEndIndex:ee})}return null}),Z(v,"renderActiveDot",function(x,j,g){var w;return I.isValidElement(x)?w=I.cloneElement(x,j):J(x)?w=x(j):w=O.createElement(la,j),O.createElement(se,{className:"recharts-active-dot",key:g},w)});var p=I.forwardRef(function(j,g){return O.createElement(v,an({},j,{ref:g}))});return p.displayName=v.displayName,p},kc=_o({chartName:"LineChart",GraphicalChild:Ur,axisComponents:[{axisType:"xAxis",AxisComp:Nt},{axisType:"yAxis",AxisComp:Ot}],formatAxisMap:Tu}),aq=_o({chartName:"BarChart",GraphicalChild:Ht,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Nt},{axisType:"yAxis",AxisComp:Ot}],formatAxisMap:Tu}),Hy=_o({chartName:"PieChart",GraphicalChild:Dt,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:mo},{axisType:"radiusAxis",AxisComp:fo}],formatAxisMap:kI,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Ky=_o({chartName:"AreaChart",GraphicalChild:at,axisComponents:[{axisType:"xAxis",AxisComp:Nt},{axisType:"yAxis",AxisComp:Ot}],formatAxisMap:Tu});function At({status:e,message:t}){const n=(s=>{switch(s){case"healthy":return{color:"bg-green-100 text-green-800",icon:oe};case"degraded":return{color:"bg-yellow-100 text-yellow-800",icon:je};case"broken":return{color:"bg-red-100 text-red-800",icon:ft};default:return{color:"bg-gray-100 text-gray-800",icon:dn}}})(e),a=n.icon;return i.jsxs(Se,{className:n.color,children:[i.jsx(a,{className:"w-3 h-3 mr-1"}),e.charAt(0).toUpperCase()+e.slice(1),t&&i.jsxs("span",{className:"ml-1 text-xs",children:["(",t,")"]})]})}function sq(){const[e,t]=I.useState("1h"),{data:r,isLoading:n,error:a}=ur(["overview",e],()=>oq(e),{refetchInterval:3e5,refetchIntervalInBackground:!0,staleTime:18e4,cacheTime:6e5});if(n)return i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"text-lg text-gray-600",children:"Loading overview data..."})});if(a)return i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg text-red-600",children:"Failed to load overview data"}),i.jsx("div",{className:"text-sm text-gray-500",children:a instanceof Error?a.message:"Unknown error occurred"})]})});const s=r||{stats:{total_requests:0,allowed_requests:0,denied_requests:0,allow_percentage:0,active_tenants:0},top_tenants:[],flow_metrics:{nginx_requests:0,nginx_route_direct:0,nginx_route_edge:0,envoy_requests:0,envoy_authorized:0,envoy_denied:0,mimir_requests:0,mimir_success:0,mimir_errors:0},flow_timeline:[],flow_status:{overall:"unknown",nginx:{status:"unknown",message:"",response_time:0},envoy:{status:"unknown",message:"",response_time:0},rls:{status:"unknown",message:"",response_time:0},overrides_sync:{status:"unknown",message:"",last_seen:""},mimir:{status:"unknown",message:"",response_time:0}},health_checks:{rls_service:!1,envoy_proxy:!1,nginx_config:!1,mimir_connectivity:!1,tenant_limits_synced:!1,enforcement_active:!1},service_status:{},endpoint_status:{},validation_results:{}},{stats:o,top_tenants:l,flow_metrics:c,flow_timeline:u,flow_status:d,health_checks:f,service_status:h,endpoint_status:m,validation_results:v}=s,x=d.overall==="broken"?"broken":d.overall==="degraded"?"degraded":d.overall==="healthy"?"healthy":"unknown",j=[{value:"15m",label:"15 Minutes"},{value:"1h",label:"1 Hour"},{value:"24h",label:"24 Hours"},{value:"1w",label:"1 Week"}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Overview"}),i.jsx("p",{className:"text-gray-500",children:"System-wide metrics and health monitoring"})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(At,{status:x}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Time Range:"}),i.jsx("select",{value:e,onChange:g=>t(g.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:j.map(g=>i.jsx("option",{value:g.value,children:g.label},g.value))})]}),i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[i.jsx(ep,{className:"w-4 h-4 animate-spin"}),i.jsx("span",{children:"Auto-refresh (5m)"})]})]})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[i.jsxs(F,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"NGINX Traffic"}),i.jsx(At,{status:d?.nginx?.status||"unknown"})]}),i.jsxs(H,{children:[i.jsx("div",{className:"text-2xl font-bold",children:c?.nginx_requests?.toLocaleString()||0}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[c?.nginx_route_direct||0," direct, ",c?.nginx_route_edge||0," edge"]}),i.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Response: ",d?.nginx?.response_time||0,"ms"]})]})]}),i.jsxs(F,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Envoy Proxy"}),i.jsx(At,{status:d?.envoy?.status||"unknown"})]}),i.jsxs(H,{children:[i.jsx("div",{className:"text-2xl font-bold",children:c?.envoy_requests?.toLocaleString()||0}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[c?.envoy_authorized||0," authorized, ",c?.envoy_denied||0," denied"]}),i.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Response: ",d?.envoy?.response_time||0,"ms"]})]})]}),i.jsxs(F,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"RLS Service"}),i.jsx(At,{status:d?.rls?.status||"unknown"})]}),i.jsxs(H,{children:[i.jsx("div",{className:"text-2xl font-bold",children:o?.active_tenants||0}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Active tenants with limits"}),i.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Response: ",d?.rls?.response_time||0,"ms"]})]})]}),i.jsxs(F,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Overrides Sync"}),i.jsx(At,{status:d?.overrides_sync?.status||"unknown"})]}),i.jsxs(H,{children:[i.jsx("div",{className:"text-2xl font-bold",children:f?.tenant_limits_synced?"✓":"✗"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:f?.tenant_limits_synced?"Limits synced":"Limits not synced"}),i.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Last: ",d?.overrides_sync?.last_seen||"Never"]})]})]}),i.jsxs(F,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Mimir Backend"}),i.jsx(At,{status:d?.mimir?.status||"unknown"})]}),i.jsxs(H,{children:[i.jsx("div",{className:"text-2xl font-bold",children:c?.mimir_requests?.toLocaleString()||0}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[c?.mimir_success||0," success, ",c?.mimir_errors||0," errors"]}),i.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Response: ",d?.mimir?.response_time||0,"ms"]})]})]}),i.jsxs(F,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Enforcement Status"}),i.jsx(At,{status:f?.enforcement_active?"healthy":"broken"})]}),i.jsxs(H,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[o?.allow_percentage?.toFixed(1)||0,"%"]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Allow rate"}),i.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[o?.denied_requests||0," denials in ",e]})]})]})]}),i.jsxs(F,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(ct,{className:"h-5 w-5 text-blue-600"}),"Health Status Guide"]}),i.jsx(ie,{children:"Understanding the health status of each component in the data flow"})]}),i.jsxs(H,{children:[i.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium text-green-600",children:"🟢 Healthy"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Component is functioning normally and responding to requests."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium text-yellow-600",children:"🟡 Degraded"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Component is working but with reduced performance or minor issues."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium text-red-600",children:"🔴 Broken"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Component is not responding or has critical issues."})]})]}),i.jsxs("div",{className:"mt-6 space-y-4",children:[i.jsx("h4",{className:"font-medium",children:"Component Descriptions:"}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-blue-600",children:"NGINX"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Load balancer and reverse proxy. Healthy when receiving and routing metrics traffic."})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-blue-600",children:"Envoy Proxy"}),i.jsx("p",{className:"text-sm text-gray-600",children:"API gateway that forwards requests to RLS for authorization."})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-blue-600",children:"RLS Service"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Rate Limiting Service that makes allow/deny decisions."})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-blue-600",children:"Overrides Sync"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Synchronizes tenant limits and configuration changes."})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-blue-600",children:"Mimir"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Time series database. Healthy when distributor endpoint accepts metrics."})]})]})]})]})]}),i.jsxs(F,{children:[i.jsxs(U,{children:[i.jsx(W,{children:"End-to-End Flow Status"}),i.jsx(ie,{children:"Real-time pipeline health and traffic flow visualization"})]}),i.jsxs(H,{children:[i.jsxs("div",{className:"grid grid-cols-5 gap-4 items-center",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 mx-auto bg-blue-100 rounded-full flex items-center justify-center mb-2",children:i.jsx(sr,{className:"w-6 h-6 text-blue-600"})}),i.jsx("div",{className:"text-sm font-medium",children:"Client"}),i.jsx("div",{className:"text-xs text-gray-500",children:"Traffic Source"})]}),i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("div",{className:`w-8 h-1 ${f?.nginx_config?"bg-green-500":"bg-red-500"} rounded`}),i.jsx(Oa,{className:"w-4 h-4 text-gray-400"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:`w-12 h-12 mx-auto rounded-full flex items-center justify-center mb-2 ${d?.nginx?.status==="healthy"?"bg-green-100":d?.nginx?.status==="degraded"?"bg-yellow-100":"bg-red-100"}`,children:i.jsx(fn,{className:`w-6 h-6 ${d?.nginx?.status==="healthy"?"text-green-600":d?.nginx?.status==="degraded"?"text-yellow-600":"text-red-600"}`})}),i.jsx("div",{className:"text-sm font-medium",children:"NGINX"}),i.jsxs("div",{className:"text-xs text-gray-500",children:[c?.nginx_requests||0," req/s"]})]}),i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("div",{className:`w-8 h-1 ${f?.envoy_proxy?"bg-green-500":"bg-red-500"} rounded`}),i.jsx(Oa,{className:"w-4 h-4 text-gray-400"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:`w-12 h-12 mx-auto rounded-full flex items-center justify-center mb-2 ${d?.envoy?.status==="healthy"?"bg-green-100":d?.envoy?.status==="degraded"?"bg-yellow-100":"bg-red-100"}`,children:i.jsx(ct,{className:`w-6 h-6 ${d?.envoy?.status==="healthy"?"text-green-600":d?.envoy?.status==="degraded"?"text-yellow-600":"text-red-600"}`})}),i.jsx("div",{className:"text-sm font-medium",children:"Envoy"}),i.jsxs("div",{className:"text-xs text-gray-500",children:[c?.envoy_requests||0," → RLS"]})]}),i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("div",{className:`w-8 h-1 ${f?.rls_service?"bg-green-500":"bg-red-500"} rounded`}),i.jsx(Oa,{className:"w-4 h-4 text-gray-400"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:`w-12 h-12 mx-auto rounded-full flex items-center justify-center mb-2 ${d?.rls?.status==="healthy"?"bg-green-100":d?.rls?.status==="degraded"?"bg-yellow-100":"bg-red-100"}`,children:i.jsx(nr,{className:`w-6 h-6 ${d?.rls?.status==="healthy"?"text-green-600":d?.rls?.status==="degraded"?"text-yellow-600":"text-red-600"}`})}),i.jsx("div",{className:"text-sm font-medium",children:"RLS"}),i.jsxs("div",{className:"text-xs text-gray-500",children:[c?.envoy_authorized||0," ✓ ",c?.envoy_denied||0," ✗"]})]}),i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("div",{className:`w-8 h-1 ${f?.mimir_connectivity?"bg-green-500":"bg-red-500"} rounded`}),i.jsx(Oa,{className:"w-4 h-4 text-gray-400"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:`w-12 h-12 mx-auto rounded-full flex items-center justify-center mb-2 ${d?.mimir?.status==="healthy"?"bg-green-100":d?.mimir?.status==="degraded"?"bg-yellow-100":"bg-red-100"}`,children:i.jsx(Kt,{className:`w-6 h-6 ${d?.mimir?.status==="healthy"?"text-green-600":d?.mimir?.status==="degraded"?"text-yellow-600":"text-red-600"}`})}),i.jsx("div",{className:"text-sm font-medium",children:"Mimir"}),i.jsxs("div",{className:"text-xs text-gray-500",children:[c?.mimir_requests||0," (allowed)"]})]})]}),d?.overall!=="healthy"&&i.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(je,{className:"w-5 h-5 text-yellow-600 mr-2"}),i.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Flow Issues Detected"})]}),i.jsxs("div",{className:"mt-2 text-sm text-yellow-700",children:[d?.nginx?.status!=="healthy"&&i.jsxs("div",{children:["• NGINX: ",d.nginx?.message||"Unknown issue"]}),d?.envoy?.status!=="healthy"&&i.jsxs("div",{children:["• Envoy: ",d.envoy?.message||"Unknown issue"]}),d?.rls?.status!=="healthy"&&i.jsxs("div",{children:["• RLS: ",d.rls?.message||"Unknown issue"]}),d?.overrides_sync?.status!=="healthy"&&i.jsxs("div",{children:["• Overrides Sync: ",d.overrides_sync?.message||"Unknown issue"]}),d?.mimir?.status!=="healthy"&&i.jsxs("div",{children:["• Mimir: ",d.mimir?.message||"Unknown issue"]})]})]})]})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[i.jsxs(F,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Total Requests"}),i.jsx(cr,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsx("div",{className:"text-2xl font-bold",children:o?.total_requests?.toLocaleString()||0}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",u?.[0]?.nginx_requests||0," from last period"]})]})]}),i.jsxs(F,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Allowed Requests"}),i.jsx(oe,{className:"h-4 w-4 text-green-600"})]}),i.jsxs(H,{children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:o?.allowed_requests?.toLocaleString()||0}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[o?.allow_percentage?.toFixed(1)||0,"% success rate"]})]})]}),i.jsxs(F,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Denied Requests"}),i.jsx(ft,{className:"h-4 w-4 text-red-600"})]}),i.jsxs(H,{children:[i.jsx("div",{className:"text-2xl font-bold text-red-600",children:o?.denied_requests?.toLocaleString()||0}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[(100-(o?.allow_percentage||0)).toFixed(1),"% denial rate"]})]})]}),i.jsxs(F,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Active Tenants"}),i.jsx(sr,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsx("div",{className:"text-2xl font-bold",children:o?.active_tenants||0}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"With configured limits"})]})]})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[i.jsxs(F,{children:[i.jsx(U,{className:"pb-3",children:i.jsxs(W,{className:"text-lg flex items-center gap-2",children:[i.jsx(qn,{className:"h-5 w-5 text-blue-600"}),"RPS (Requests Per Second)"]})}),i.jsx(H,{children:i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"What it is:"})," Average number of requests processed per second over the selected time range."]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Calculation:"})," Total requests ÷ Time duration in seconds"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Example:"})," 100 requests in 15 minutes = 100 ÷ 900 = 0.11 RPS"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Time Range:"})," Based on your selected timeframe (15m, 1h, 24h, 1w)"]})]})})]}),i.jsxs(F,{children:[i.jsx(U,{className:"pb-3",children:i.jsxs(W,{className:"text-lg flex items-center gap-2",children:[i.jsx(hn,{className:"h-5 w-5 text-green-600"}),"Allow/Deny Rate"]})}),i.jsx(H,{children:i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Allow Rate:"})," Percentage of requests that were allowed through the rate limiter."]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Deny Rate:"})," Percentage of requests that were blocked due to rate limits."]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Calculation:"})," (Allowed/Denied requests ÷ Total requests) × 100"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Example:"})," 90 allowed, 10 denied = 90% allow rate, 10% deny rate"]})]})})]}),i.jsxs(F,{children:[i.jsx(U,{className:"pb-3",children:i.jsxs(W,{className:"text-lg flex items-center gap-2",children:[i.jsx(Kt,{className:"h-5 w-5 text-purple-600"}),"Samples Per Second"]})}),i.jsx(H,{children:i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"What it is:"})," Average number of metric samples processed per second."]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Calculation:"})," Total samples ÷ Time duration in seconds"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Example:"})," 1000 samples in 1 hour = 1000 ÷ 3600 = 0.28 samples/sec"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Note:"})," Each request can contain multiple metric samples."]})]})})]})]}),i.jsxs(F,{children:[i.jsxs(U,{children:[i.jsx(W,{children:"Top Tenants by RPS"}),i.jsx(ie,{children:"Tenants with highest request rates and denial percentages"})]}),i.jsx(H,{children:i.jsx("div",{className:"space-y-4",children:l?.map(g=>i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:i.jsx(sr,{className:"w-4 h-4 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:g.name}),i.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",g.id]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-medium",title:"Requests Per Second - Average requests processed per second over the selected time range",children:[typeof g.rps=="number"?g.rps.toFixed(2):"0.00"," RPS"]}),i.jsx("div",{className:"text-sm text-gray-500",children:g.deny_rate>0?i.jsxs("span",{className:"text-red-600",children:[g.deny_rate,"% denied"]}):i.jsx("span",{className:"text-green-600",children:"100% allowed"})})]})]},g.id))})})]}),i.jsxs(F,{children:[i.jsxs(U,{children:[i.jsx(W,{children:"Comprehensive Endpoint Monitoring"}),i.jsx(ie,{children:"Real-time status of all endpoints across all services"})]}),i.jsx(H,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:Object.entries(h).map(([g,w])=>i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"font-medium capitalize",children:g}),i.jsx(At,{status:w?.status||"unknown"})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:w?.message||"Status unknown"}),i.jsxs("div",{className:"text-xs text-gray-500",children:[i.jsxs("div",{children:["Version: ",w?.version||"Unknown"]}),i.jsxs("div",{children:["Uptime: ",w?.uptime||"Unknown"]}),i.jsxs("div",{children:["Last Check: ",w?.last_check?new Date(w.last_check).toLocaleTimeString():"Unknown"]})]})]},g))}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Endpoint Details"}),Object.entries(m).map(([g,w])=>i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsxs("h4",{className:"font-medium capitalize mb-3",children:[g," Endpoints"]}),i.jsx("div",{className:"grid gap-2 md:grid-cols-2 lg:grid-cols-3",children:Object.entries(w).map(([_,y])=>i.jsxs("div",{className:"p-3 border rounded bg-gray-50",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-sm font-medium",children:_}),i.jsx(At,{status:y?.status||"unknown"})]}),i.jsx("p",{className:"text-xs text-gray-600 mb-1",children:y?.message||"Status unknown"}),i.jsxs("div",{className:"text-xs text-gray-500",children:[i.jsxs("div",{children:["Response: ",y?.response_time||0,"ms"]}),i.jsxs("div",{children:["Status: ",y?.actual_status||0,"/",y?.expected_status||0]}),i.jsxs("div",{children:["Size: ",y?.response_size||0," bytes"]})]})]},_))})]},g))]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Validation Results"}),Object.entries(v).map(([g,w])=>i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsx("h4",{className:"font-medium capitalize mb-3",children:g.replace("_"," ")}),i.jsx("div",{className:"grid gap-2 md:grid-cols-2 lg:grid-cols-3",children:Object.entries(w).map(([_,y])=>i.jsxs("div",{className:"p-3 border rounded bg-gray-50",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-sm font-medium",children:_.replace("_"," ")}),i.jsx(At,{status:y?.status||"unknown"})]}),i.jsx("p",{className:"text-xs text-gray-600 mb-1",children:y?.message||"Status unknown"}),i.jsxs("div",{className:"text-xs text-gray-500",children:["Last Check: ",y?.last_check?new Date(y.last_check).toLocaleTimeString():"Unknown"]})]},_))})]},g))]})]})})]}),i.jsxs(F,{children:[i.jsxs(U,{children:[i.jsx(W,{children:"Flow Timeline"}),i.jsxs(ie,{children:["Real-time traffic flow over the last ",e]})]}),i.jsx(H,{children:i.jsx(or,{width:"100%",height:300,children:i.jsxs(Ky,{data:u,children:[i.jsx(zr,{strokeDasharray:"3 3"}),i.jsx(Nt,{dataKey:"timestamp"}),i.jsx(Ot,{}),i.jsx(ze,{}),i.jsx(at,{type:"monotone",dataKey:"nginx_requests",stackId:"1",stroke:"#3b82f6",fill:"#3b82f6",name:"NGINX"}),i.jsx(at,{type:"monotone",dataKey:"envoy_requests",stackId:"1",stroke:"#10b981",fill:"#10b981",name:"Envoy"}),i.jsx(at,{type:"monotone",dataKey:"mimir_requests",stackId:"1",stroke:"#8b5cf6",fill:"#8b5cf6",name:"Mimir"})]})})})]})]})}async function oq(e){try{const t=await fetch(`/api/overview?range=${e}`);if(!t.ok)throw new Error(`Failed to fetch overview data: ${t.statusText}`);const r=await t.json(),n=await fetch(`/api/tenants?range=${e}`);let a=[];n.ok&&(a=((await n.json()).tenants||[]).filter(v=>v.metrics&&((v.metrics.rps||0)>0||v.metrics.allow_rate>0||v.metrics.deny_rate>0)).map(v=>({id:v.id,name:v.name||v.id,rps:v.metrics?.rps||0,samples_per_sec:v.metrics?.samples_per_sec||0,deny_rate:v.metrics?.deny_rate||0})).sort((v,p)=>p.rps-v.rps).slice(0,10)),a.length===0&&(a=[{id:"no-data",name:"No Active Tenants",rps:0,samples_per_sec:0,deny_rate:0}]);let s;try{const h=await fetch("/api/traffic/flow");if(h.ok){const v=(await h.json()).flow_metrics,p=v.response_times;s={nginx_requests:0,nginx_route_direct:0,nginx_route_edge:v.envoy_to_rls_requests||0,envoy_requests:v.envoy_to_rls_requests||0,envoy_authorized:v.rls_allowed||0,envoy_denied:v.rls_denied||0,mimir_requests:v.rls_to_mimir_requests||0,mimir_success:v.rls_to_mimir_requests||0,mimir_errors:v.mimir_errors||0,response_times:{nginx_to_envoy:0,envoy_to_mimir:p?.rls_to_mimir||0,total_flow:p?.total_flow||0}}}else s={nginx_requests:0,nginx_route_direct:0,nginx_route_edge:r.stats?.total_requests||0,envoy_requests:r.stats?.total_requests||0,envoy_authorized:r.stats?.allowed_requests||0,envoy_denied:r.stats?.denied_requests||0,mimir_requests:r.stats?.allowed_requests||0,mimir_success:r.stats?.allowed_requests||0,mimir_errors:0,response_times:{nginx_to_envoy:0,envoy_to_mimir:0,total_flow:0}}}catch(h){console.error("Error fetching traffic flow data:",h),s={nginx_requests:0,nginx_route_direct:0,nginx_route_edge:r.stats?.total_requests||0,envoy_requests:r.stats?.total_requests||0,envoy_authorized:r.stats?.allowed_requests||0,envoy_denied:r.stats?.denied_requests||0,mimir_requests:r.stats?.allowed_requests||0,mimir_success:r.stats?.allowed_requests||0,mimir_errors:0,response_times:{nginx_to_envoy:0,envoy_to_mimir:0,total_flow:0}}}const o=await lq(e),l=await hq(),c=await mq(l,r,s),u=await uq(),d=await dq(),f=await fq();return{stats:r.stats,top_tenants:a,flow_metrics:s,flow_timeline:o,flow_status:c,health_checks:l,service_status:u,endpoint_status:d,validation_results:f}}catch(t){throw console.error("Error fetching overview data:",t),t}}async function lq(e){try{const t=await fetch(`/api/timeseries/${e}/flow`);if(t.ok)return(await t.json()).points||[]}catch(t){console.warn("Could not fetch real time-series data:",t)}return cq(e)}function cq(e){const t=new Date,r=[];let n,a;switch(e){case"15m":n=1*60*1e3,a=15;break;case"1h":n=5*60*1e3,a=12;break;case"24h":n=60*60*1e3,a=24;break;case"1w":n=24*60*60*1e3,a=7;break;default:n=5*60*1e3,a=12}for(let s=a-1;s>=0;s--){const o=new Date(t.getTime()-s*n);r.push({timestamp:o.toISOString(),nginx_requests:0,route_direct:0,route_edge:0,envoy_requests:0,mimir_requests:0,success_rate:0})}return r}async function uq(){try{const e=await fetch("/api/system/status");if(e.ok)return(await e.json()).services||{}}catch(e){console.error("Error fetching service status:",e)}return{}}async function dq(){try{const e=await fetch("/api/system/status");if(e.ok)return(await e.json()).endpoints||{}}catch(e){console.error("Error fetching endpoint status:",e)}return{}}async function fq(){try{const e=await fetch("/api/system/status");if(e.ok)return(await e.json()).validations||{}}catch(e){console.error("Error fetching validation results:",e)}return{}}async function hq(){const e={rls_service:!1,overrides_sync:!1,envoy_proxy:!1,nginx_config:!1,mimir_connectivity:!1,tenant_limits_synced:!1,enforcement_active:!1};try{const t=Date.now();try{const r=await fetch("/api/health"),n=Date.now()-t;if(r.ok){const a=await r.json();e.rls_service=a.status==="healthy"||a.status==="ok"}else e.rls_service=n<5e3}catch(r){console.warn("RLS health check failed:",r),e.rls_service=!1}try{(await fetch("/api/ready")).ok&&(e.rls_service=e.rls_service&&!0)}catch(r){console.warn("RLS readiness check failed (endpoint may not exist):",r)}try{const r=await fetch("/api/overrides-sync/health");if(r.ok){const n=await r.json();e.overrides_sync=n.status==="healthy"||n.status==="ok"}else e.overrides_sync=!0}catch(r){console.warn("Overrides sync health check failed (service may not be deployed):",r),e.overrides_sync=!0}try{const r=await fetch("/api/tenants?range=15m");if(r.ok){const a=(await r.json()).tenants?.filter(s=>s.limits&&(s.limits.samples_per_second&&s.limits.samples_per_second>0||s.limits.max_body_bytes&&s.limits.max_body_bytes>0||s.limits.burst_pct&&s.limits.burst_pct>0))||[];e.tenant_limits_synced=a.length>0}}catch(r){console.warn("Tenant limits check failed:",r),e.tenant_limits_synced=!1}try{const r=await fetch("/api/overview?range=15m");if(r.ok){const n=await r.json(),a=(n.stats?.denied_requests||0)>0,s=(n.stats?.active_tenants||0)>0,o=(n.stats?.total_requests||0)>0;e.enforcement_active=a||s||o}}catch(r){console.warn("Enforcement check failed:",r),e.enforcement_active=!1}try{const r=Date.now(),n=await fetch("/api/debug/traffic-flow"),a=Date.now()-r;e.envoy_proxy=n.ok&&a<2e3}catch(r){console.warn("Envoy proxy check failed (endpoint may not exist):",r),e.envoy_proxy=!0}try{const r=Date.now(),n=await fetch("/api/v1/push",{method:"POST",headers:{"Content-Type":"application/x-protobuf","X-Scope-OrgID":"health-check-tenant"},body:new Uint8Array([8,1])}),a=Date.now()-r;e.mimir_connectivity=n.status!==0&&a<5e3,console.log("Mimir health check:",{status:n.status,time:a,healthy:e.mimir_connectivity})}catch(r){console.warn("Mimir connectivity check failed:",r),e.mimir_connectivity=!1}try{const r=await fetch("/api/overview?range=15m");if(r.ok){const n=await r.json(),a=(n.stats?.total_requests||0)>0,s=(n.stats?.active_tenants||0)>0;e.nginx_config=a||s,console.log("NGINX health check:",{totalRequests:n.stats?.total_requests||0,activeTenants:n.stats?.active_tenants||0,healthy:e.nginx_config})}else e.nginx_config=!0}catch(r){console.warn("NGINX config check failed:",r),e.nginx_config=!0}}catch(t){console.error("Health checks failed:",t),Object.keys(e).forEach(r=>{e[r]=!1})}return e}async function mq(e,t,r){const n=new Date().toISOString(),a={status:e.nginx_config?"healthy":"broken",message:e.nginx_config?"Receiving and routing metrics traffic":"No metrics traffic detected",last_seen:n,response_time:50,error_count:e.nginx_config?0:1},s={status:e.envoy_proxy?"healthy":"broken",message:e.envoy_proxy?"Proxy functioning normally":"Proxy service unavailable",last_seen:n,response_time:100,error_count:e.envoy_proxy?0:1},o={status:e.rls_service?"healthy":"broken",message:e.rls_service?"Service responding normally":"RLS service unavailable",last_seen:n,response_time:75,error_count:e.rls_service?0:1},l={status:e.overrides_sync?"healthy":"broken",message:e.overrides_sync?"Limits syncing normally":"Overrides sync issues",last_seen:n,response_time:200,error_count:e.overrides_sync?0:1},c={status:e.mimir_connectivity?"healthy":"broken",message:e.mimir_connectivity?"Distributor endpoint accepting metrics":"Mimir distributor unreachable",last_seen:n,response_time:150,error_count:e.mimir_connectivity?0:1};let u="unknown";const d=[a,s,o,l,c].filter(f=>f.status==="healthy").length;return d===5?u="healthy":d>=3?u="degraded":u="broken",{overall:u,nginx:a,envoy:s,rls:o,overrides_sync:l,mimir:c,last_check:n}}function Oa({className:e}){return i.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}function pq(e){if(e===0)return"0 B";const t=1024,r=["B","KB","MB","GB","TB"],n=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,n)).toFixed(1))+" "+r[n]}function vq(e,t,r){return e?t>0?{color:"bg-red-100 text-red-800",icon:i.jsx(ft,{className:"h-3 w-3"}),text:"Rate Limited",description:`Requests are being denied (${t.toFixed(1)}/s)`}:r>80?{color:"bg-yellow-100 text-yellow-800",icon:i.jsx(je,{className:"h-3 w-3"}),text:"High Usage",description:`High utilization (${r.toFixed(1)}%) - approaching limits`}:{color:"bg-green-100 text-green-800",icon:i.jsx(oe,{className:"h-3 w-3"}),text:"Healthy",description:"Operating within normal limits"}:{color:"bg-gray-100 text-gray-800",icon:i.jsx(qn,{className:"h-3 w-3"}),text:"Monitoring Only",description:"Rate limiting is disabled - only monitoring active"}}function xq(){const[e,t]=I.useState("15m"),{data:r,isLoading:n,error:a}=ur({queryKey:["tenants",e],queryFn:()=>yq(e),refetchInterval:3e4,refetchIntervalInBackground:!0,staleTime:15e3,cacheTime:6e4});if(n)return i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"text-lg text-gray-600",children:"Loading tenants..."})});if(a)return i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-lg text-red-600",children:["Failed to load tenants: ",a instanceof Error?a.message:"Unknown error"]})});const s=r?.tenants??[],o=r?.data_freshness?new Date(r.data_freshness).toLocaleTimeString():"Unknown";return s.length===0?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Tenants"}),i.jsxs("div",{className:"text-sm text-gray-500",children:["Total: ",s.length]})]}),i.jsx("div",{className:"flex items-center justify-center h-64 bg-gray-50 rounded-lg",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg text-gray-600 mb-2",children:"No tenants found"}),i.jsx("div",{className:"text-sm text-gray-500",children:"Make sure overrides-sync is running and has access to Mimir ConfigMap"})]})})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Tenants"}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(wt,{className:"h-4 w-4 text-gray-500"}),i.jsxs("select",{value:e,onChange:l=>t(l.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1 bg-white",children:[i.jsx("option",{value:"15m",children:"Last 15 minutes"}),i.jsx("option",{value:"1h",children:"Last 1 hour"}),i.jsx("option",{value:"24h",children:"Last 24 hours"}),i.jsx("option",{value:"1w",children:"Last 1 week"})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),i.jsx("span",{className:"text-sm text-gray-600",children:"Auto-refresh (30s)"})]}),i.jsxs("div",{className:"text-sm text-gray-500",children:["Total: ",s.length," | Last updated: ",o]})]})]}),i.jsxs(F,{children:[i.jsxs(U,{className:"pb-3",children:[i.jsx(W,{className:"text-lg",children:"Status Guide"}),i.jsx(ie,{children:"Understanding tenant status indicators"})]}),i.jsx(H,{children:i.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),i.jsx("span",{className:"text-sm font-medium",children:"Healthy"}),i.jsx("span",{className:"text-xs text-gray-500",children:"Operating normally"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),i.jsx("span",{className:"text-sm font-medium",children:"High Usage"}),i.jsx("span",{className:"text-xs text-gray-500",children:"Approaching limits"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),i.jsx("span",{className:"text-sm font-medium",children:"Rate Limited"}),i.jsx("span",{className:"text-xs text-gray-500",children:"Requests being denied"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-3 h-3 bg-gray-500 rounded-full"}),i.jsx("span",{className:"text-sm font-medium",children:"Monitoring"}),i.jsx("span",{className:"text-xs text-gray-500",children:"Limits disabled"})]})]})})]}),i.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Tenant Info"}),i.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Rate Limits"}),i.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Size Limits"}),i.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Series Limits"}),i.jsxs("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:["Current Metrics (",e,")"]}),i.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Status"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200",children:s.map(l=>{const c=vq(l.enforcement.enabled,l.metrics.deny_rate,l.metrics.utilization_pct);return i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"py-4 px-4",children:i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"font-mono text-sm font-medium text-gray-900",children:l.id}),i.jsx(Ym,{to:`/tenants/${l.id}`,className:"text-blue-600 hover:text-blue-800 transition-colors",title:"View detailed tenant information",children:i.jsx(sg,{className:"h-3 w-3"})})]}),i.jsx("div",{className:"text-sm text-gray-500",children:l.name||"No display name"})]})}),i.jsx("td",{className:"py-4 px-4",children:i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Samples/sec:"})," ",i.jsx("span",{className:"font-mono",children:l.limits.samples_per_second>0?l.limits.samples_per_second.toLocaleString():"Unlimited"})]}),i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Burst:"})," ",i.jsx("span",{className:"font-mono",children:l.limits.burst_pct>0?`${(l.limits.burst_pct*100).toFixed(0)}%`:"No burst"})]})]})}),i.jsx("td",{className:"py-4 px-4",children:i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Max Body:"})," ",i.jsx("span",{className:"font-mono",children:l.limits.max_body_bytes>0?pq(l.limits.max_body_bytes):"Unlimited"})]}),i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Label Length:"})," ",i.jsx("span",{className:"font-mono",children:l.limits.max_label_value_length>0?l.limits.max_label_value_length.toLocaleString():"Unlimited"})]})]})}),i.jsx("td",{className:"py-4 px-4",children:i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Labels/Series:"})," ",i.jsx("span",{className:"font-mono",children:l.limits.max_labels_per_series>0?l.limits.max_labels_per_series:"Unlimited"})]}),i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Series/Request:"})," ",i.jsx("span",{className:"font-mono",children:l.limits.max_series_per_request>0?l.limits.max_series_per_request.toLocaleString():"Unlimited"})]})]})}),i.jsx("td",{className:"py-4 px-4",children:i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium text-gray-700",children:"RPS:"})," ",i.jsx("span",{className:"font-mono text-blue-600",title:"Requests Per Second",children:typeof l.metrics.rps=="number"?l.metrics.rps.toFixed(2):"0.00"})]}),i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Samples/sec:"})," ",i.jsx("span",{className:"font-mono text-blue-600",children:typeof l.metrics.samples_per_sec=="number"?l.metrics.samples_per_sec.toFixed(2):"0.00"})]}),i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Allow Rate:"})," ",i.jsxs("span",{className:"font-mono text-green-600",children:[l.metrics.allow_rate.toFixed(1),"%"]})]}),i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Deny Rate:"})," ",i.jsxs("span",{className:`font-mono ${l.metrics.deny_rate>0?"text-red-600":"text-green-600"}`,children:[l.metrics.deny_rate.toFixed(1),"%"]})]}),i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Utilization:"})," ",i.jsxs("span",{className:`font-mono ${l.metrics.utilization_pct>80?"text-yellow-600":l.metrics.utilization_pct>0?"text-green-600":"text-gray-600"}`,children:[l.metrics.utilization_pct.toFixed(1),"%"]})]})]})}),i.jsx("td",{className:"py-4 px-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center space-x-1",children:[c.icon,i.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded font-medium ${c.color}`,children:c.text})]}),i.jsx("div",{className:"text-xs text-gray-600 max-w-32",children:c.description}),l.enforcement.burst_pct_override&&l.enforcement.burst_pct_override>0&&i.jsxs("div",{className:"text-xs text-orange-600",children:["Burst Override: ",(l.enforcement.burst_pct_override*100).toFixed(0),"%"]})]})})]},l.id)})})]})})})]})}async function yq(e="15m"){const t=await fetch(`/api/tenants?range=${e}`);if(!t.ok)throw new Error("Failed to fetch tenants");return t.json()}function Pa(e){if(e===0)return"0 B";const t=1024,r=["B","KB","MB","GB"],n=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,n)).toFixed(1))+" "+r[n]}function Km(e){const t=new Date,r=new Date(e),n=t.getTime()-r.getTime(),a=Math.floor(n/6e4),s=Math.floor(n/36e5);return a<1?"Just now":a<60?`${a}m ago`:s<24?`${s}h ago`:`${Math.floor(n/864e5)}d ago`}function Gm(e){const t=e.reason.toLowerCase();return t.includes("parse_failed")?{category:"Data Format Error",severity:"medium",explanation:"The request payload could not be parsed as valid Prometheus remote write format. This usually indicates malformed protobuf data, incorrect compression, or invalid metric structure.",impact:"Data ingestion failed completely. No metrics from this request were processed.",recommendations:["Verify the remote write client is using correct Prometheus protobuf format","Check if gzip/snappy compression is applied correctly","Validate metric names and labels follow Prometheus naming conventions","Test with a minimal valid payload to isolate the issue"],limit_info:{type:"Parsing",current_limit:0,observed_value:e.observed_body_bytes,utilization_percent:100}}:t.includes("samples")||t.includes("rate")?{category:"Rate Limiting",severity:e.observed_samples>1e3*2?"high":"medium",explanation:`The request exceeded the samples per second rate limit. Observed ${e.observed_samples} samples, which exceeds the tenant's configured limit.`,impact:"Request was rejected to prevent system overload. Metrics data was not ingested.",recommendations:["Reduce the frequency of metric collection","Implement client-side batching with appropriate delays","Contact administrator to review rate limits for this tenant","Consider using recording rules to pre-aggregate high-cardinality metrics"],limit_info:{type:"Samples per Second",current_limit:1e3,observed_value:e.observed_samples,utilization_percent:e.observed_samples/1e3*100}}:t.includes("body")||t.includes("size")?{category:"Payload Size Limit",severity:e.observed_body_bytes>1048576*2?"high":"medium",explanation:`The request payload size of ${Pa(e.observed_body_bytes)} exceeded the maximum allowed body size limit.`,impact:"Large payloads can cause memory pressure and processing delays. Request was rejected.",recommendations:["Split large batches into smaller chunks","Enable compression (gzip/snappy) if not already used","Remove unnecessary labels or reduce metric cardinality","Implement client-side payload size monitoring"],limit_info:{type:"Body Size",current_limit:1048576,observed_value:e.observed_body_bytes,utilization_percent:e.observed_body_bytes/1048576*100}}:t.includes("series")||t.includes("cardinality")?{category:"Cardinality Control",severity:"high",explanation:"The request contained too many unique time series, which can lead to cardinality explosion and system instability.",impact:"High cardinality can degrade query performance and increase storage costs significantly.",recommendations:["Review metric labels and remove unnecessary high-cardinality labels","Use label value aggregation or sampling","Implement metric naming conventions to control cardinality","Monitor cardinality growth over time"],limit_info:{type:"Series per Request",current_limit:100,observed_value:e.observed_series||0,utilization_percent:(e.observed_series||0)/100*100}}:t.includes("labels")?{category:"Label Limits",severity:"medium",explanation:"The request contained metrics with too many labels per series, exceeding the configured limit.",impact:"Excessive labels can impact query performance and storage efficiency.",recommendations:["Reduce the number of labels per metric","Combine related labels into fewer, more meaningful labels","Use consistent label naming conventions","Consider using metric hierarchies instead of many labels"],limit_info:{type:"Labels per Series",current_limit:30,observed_value:e.observed_labels||0,utilization_percent:(e.observed_labels||0)/30*100}}:{category:"Other",severity:"low",explanation:"The request was denied for a reason not specifically categorized. Check the exact reason for more details.",impact:"Request processing was interrupted, data may not have been ingested.",recommendations:["Review the exact denial reason for specific guidance","Check system logs for additional context","Verify client configuration and payload format","Contact support if the issue persists"]}}function Vm(e){switch(e){case"critical":return"bg-red-100 text-red-800 border-red-300";case"high":return"bg-orange-100 text-orange-800 border-orange-300";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"low":return"bg-blue-100 text-blue-800 border-blue-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}}function Xm(e){switch(e.toLowerCase()){case"rate limiting":return i.jsx(hn,{className:"w-4 h-4"});case"payload size limit":return i.jsx(Jm,{className:"w-4 h-4"});case"cardinality control":return i.jsx(bt,{className:"w-4 h-4"});case"label limits":return i.jsx(nr,{className:"w-4 h-4"});case"data format error":return i.jsx(dn,{className:"w-4 h-4"});default:return i.jsx(qn,{className:"w-4 h-4"})}}async function gq(e,t){const r=new URLSearchParams({since:e,...t&&{tenant:t}}),n=await fetch(`/api/denials?${r}`);if(!n.ok)throw new Error(`HTTP ${n.status}: ${n.statusText}`);return{denials:(await n.json()).denials||[]}}function bq(){const[e,t]=I.useState("1h"),[r,n]=I.useState(""),[a,s]=I.useState("detailed"),{data:o,isLoading:l,error:c,refetch:u}=ur({queryKey:["denials",e,r],queryFn:()=>gq(e,r),refetchInterval:3e4,staleTime:15e3,retry:2}),d=o?.denials||[],f=d.slice(0,50),h=d.length>50;return l?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col space-y-4 lg:flex-row lg:items-center lg:justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Recent Denials"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Monitor request denials and rate limiting"})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("select",{value:e,onChange:m=>t(m.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"15m",children:"Last 15 minutes"}),i.jsx("option",{value:"1h",children:"Last hour"}),i.jsx("option",{value:"6h",children:"Last 6 hours"}),i.jsx("option",{value:"24h",children:"Last 24 hours"})]}),i.jsx("input",{type:"text",placeholder:"Filter by tenant...",value:r,onChange:m=>n(m.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),i.jsx("button",{onClick:()=>u(),disabled:l,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 text-sm",children:i.jsx(Oo,{className:"w-4 h-4 animate-spin"})})]})]}),i.jsxs(F,{className:"p-8 text-center",children:[i.jsx(Oo,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-blue-500"}),i.jsx("p",{className:"text-gray-600",children:"Loading denials..."})]})]}):c?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col space-y-4 lg:flex-row lg:items-center lg:justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Recent Denials"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Monitor request denials and rate limiting"})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("select",{value:e,onChange:m=>t(m.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"15m",children:"Last 15 minutes"}),i.jsx("option",{value:"1h",children:"Last hour"}),i.jsx("option",{value:"6h",children:"Last 6 hours"}),i.jsx("option",{value:"24h",children:"Last 24 hours"})]}),i.jsx("input",{type:"text",placeholder:"Filter by tenant...",value:r,onChange:m=>n(m.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),i.jsx("button",{onClick:()=>u(),disabled:l,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 text-sm",children:"Refresh"})]})]}),i.jsxs(F,{className:"p-8 text-center border-red-200",children:[i.jsx(je,{className:"w-8 h-8 mx-auto mb-4 text-red-500"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Failed to load denials"}),i.jsx("p",{className:"text-red-600 mb-4",children:c instanceof Error?c.message:"Unknown error occurred"}),i.jsx("button",{onClick:()=>u(),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Try Again"})]})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col space-y-4 lg:flex-row lg:items-center lg:justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Recent Denials"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Monitor request denials and rate limiting"})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-lg p-1",children:[i.jsxs("button",{onClick:()=>s("detailed"),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${a==="detailed"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[i.jsx(qn,{className:"w-4 h-4 mr-1 inline"}),"Detailed"]}),i.jsxs("button",{onClick:()=>s("simple"),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${a==="simple"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[i.jsx(Jm,{className:"w-4 h-4 mr-1 inline"}),"Simple"]})]}),i.jsxs("select",{value:e,onChange:m=>t(m.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"15m",children:"Last 15 minutes"}),i.jsx("option",{value:"1h",children:"Last hour"}),i.jsx("option",{value:"6h",children:"Last 6 hours"}),i.jsx("option",{value:"24h",children:"Last 24 hours"})]}),i.jsx("input",{type:"text",placeholder:"Filter by tenant (e.g., ui-test)...",value:r,onChange:m=>n(m.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 min-w-48"}),i.jsx("button",{onClick:()=>u(),disabled:l,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 text-sm",children:l?i.jsx(Oo,{className:"w-4 h-4 animate-spin"}):"Refresh"})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("p",{className:"text-sm text-gray-600",children:["Found ",d.length," denials in the last ",e,h&&" (showing first 50)"]}),i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[i.jsx(wt,{className:"w-4 h-4"}),i.jsxs("span",{children:["Last updated: ",new Date().toLocaleTimeString()]})]})]}),d.length===0?i.jsxs(F,{className:"p-8 text-center",children:[i.jsx(oe,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Denials Found"}),i.jsx("p",{className:"text-gray-600",children:"All requests are being processed successfully."})]}):a==="detailed"?i.jsxs("div",{className:"space-y-6",children:[h&&i.jsx("div",{className:"bg-yellow-50 p-3 rounded-lg",children:i.jsxs("p",{className:"text-sm text-yellow-800",children:["Showing first 50 of ",d.length," denials. Use filters to narrow results."]})}),f.map((m,v)=>{const p=Gm(m);return i.jsx(F,{className:"p-6 border-l-4 border-l-red-400",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:m.tenant_id}),i.jsx(Se,{className:`${Vm(p.severity)} border`,children:p.severity.toUpperCase()}),i.jsxs("div",{className:"flex items-center space-x-1 text-gray-600",children:[Xm(p.category),i.jsx("span",{className:"text-sm font-medium",children:p.category})]})]}),i.jsxs("div",{className:"text-right text-sm text-gray-500",children:[i.jsx("div",{children:new Date(m.timestamp).toLocaleString()}),i.jsx("div",{children:Km(m.timestamp)})]})]}),i.jsxs("div",{className:"bg-red-50 p-3 rounded-lg",children:[i.jsx(Se,{variant:"outline",className:"text-red-700 border-red-300 mb-2",children:m.reason}),i.jsx("p",{className:"text-sm text-red-800",children:p.explanation})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[i.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[i.jsx("div",{className:"font-medium text-blue-700",children:"Observed Samples"}),i.jsx("div",{className:"font-mono text-lg text-blue-900",children:m.observed_samples.toLocaleString()})]}),i.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg",children:[i.jsx("div",{className:"font-medium text-purple-700",children:"Body Size"}),i.jsx("div",{className:"font-mono text-lg text-purple-900",children:Pa(m.observed_body_bytes)})]}),m.observed_series&&i.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[i.jsx("div",{className:"font-medium text-green-700",children:"Series Count"}),i.jsx("div",{className:"font-mono text-lg text-green-900",children:m.observed_series.toLocaleString()})]}),m.observed_labels&&i.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg",children:[i.jsx("div",{className:"font-medium text-orange-700",children:"Labels Count"}),i.jsx("div",{className:"font-mono text-lg text-orange-900",children:m.observed_labels.toLocaleString()})]})]}),p.limit_info&&i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Limit Analysis"}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-gray-600",children:"Type"}),i.jsx("div",{className:"font-medium",children:p.limit_info.type})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-gray-600",children:"Current Limit"}),i.jsx("div",{className:"font-mono",children:p.limit_info.type.includes("Body")?Pa(p.limit_info.current_limit):p.limit_info.current_limit.toLocaleString()})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-gray-600",children:"Utilization"}),i.jsxs("div",{className:`font-medium ${p.limit_info.utilization_percent>100?"text-red-600":p.limit_info.utilization_percent>80?"text-orange-600":"text-green-600"}`,children:[p.limit_info.utilization_percent.toFixed(1),"%"]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[i.jsxs("h4",{className:"font-medium text-orange-900 mb-2 flex items-center",children:[i.jsx(je,{className:"w-4 h-4 mr-1"}),"Impact"]}),i.jsx("p",{className:"text-sm text-orange-800",children:p.impact})]}),i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[i.jsxs("h4",{className:"font-medium text-blue-900 mb-2 flex items-center",children:[i.jsx(oe,{className:"w-4 h-4 mr-1"}),"Recommendations"]}),i.jsxs("ul",{className:"space-y-1 text-sm text-blue-800",children:[p.recommendations.slice(0,2).map((x,j)=>i.jsxs("li",{className:"flex items-start",children:[i.jsx("span",{className:"text-blue-600 mr-1",children:"•"}),i.jsx("span",{children:x})]},j)),p.recommendations.length>2&&i.jsxs("li",{className:"text-blue-600 text-xs",children:["+",p.recommendations.length-2," more recommendations"]})]})]})]}),m.sample_metrics&&m.sample_metrics.length>0&&i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[i.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[i.jsx(bt,{className:"w-4 h-4 mr-2"}),"Sample Metrics That Were Denied",i.jsxs(Se,{variant:"outline",className:"ml-2 text-xs",children:[m.sample_metrics.length," metric",m.sample_metrics.length!==1?"s":""]})]}),i.jsxs("div",{className:"space-y-3",children:[m.sample_metrics.slice(0,5).map((x,j)=>i.jsxs("div",{className:"bg-white p-3 rounded border",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsx("div",{className:"flex-1 min-w-0",children:i.jsxs("div",{className:"font-mono text-sm text-gray-900 break-all",children:[i.jsx("span",{className:"font-medium text-blue-600",children:x.metric_name}),Object.keys(x.labels).filter(g=>g!=="__name__").length>0&&i.jsxs("span",{className:"text-gray-600",children:["{",Object.entries(x.labels).filter(([g])=>g!=="__name__").map(([g,w],_,y)=>i.jsxs("span",{children:[i.jsx("span",{className:"text-purple-600",children:g}),i.jsx("span",{className:"text-gray-400",children:'="'}),i.jsx("span",{className:"text-green-600",children:w}),i.jsx("span",{className:"text-gray-400",children:'"'}),_<y.length-1&&i.jsx("span",{className:"text-gray-400",children:", "})]},g)),"}"]})]})}),i.jsxs("div",{className:"flex flex-col items-end text-sm ml-4",children:[i.jsx("div",{className:"font-mono font-medium text-gray-900",children:x.value.toLocaleString()}),i.jsx("div",{className:"text-xs text-gray-500",children:new Date(x.timestamp).toLocaleTimeString()})]})]}),Object.keys(x.labels).filter(g=>g!=="__name__").length>3&&i.jsxs("div",{className:"pt-2 border-t border-gray-100",children:[i.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Labels:"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(x.labels).filter(([g])=>g!=="__name__").map(([g,w])=>i.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-gray-100 text-xs rounded",children:[i.jsx("span",{className:"text-purple-600",children:g}),i.jsx("span",{className:"text-gray-400 mx-1",children:"="}),i.jsx("span",{className:"text-green-600",children:w})]},g))})]})]},j)),m.sample_metrics.length>5&&i.jsx("div",{className:"text-center py-2",children:i.jsxs("span",{className:"text-sm text-gray-500",children:["and ",m.sample_metrics.length-5," more metrics..."]})})]}),i.jsxs("div",{className:"mt-3 text-xs text-gray-600 bg-white p-2 rounded border",children:[i.jsx("strong",{children:"Note:"})," These are the actual metrics that were denied in this request. They show the exact metric names, labels, values, and timestamps that exceeded your configured limits."]})]})]})},v)})]}):i.jsxs(F,{className:"overflow-hidden",children:[h&&i.jsx("div",{className:"bg-yellow-50 p-3 border-b",children:i.jsxs("p",{className:"text-sm text-yellow-800",children:["Showing first 50 of ",d.length," denials. Use filters to narrow results."]})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Time"}),i.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Tenant"}),i.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Category"}),i.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Reason"}),i.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Samples"}),i.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Body Size"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200",children:f.map((m,v)=>{const p=Gm(m);return i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsxs("td",{className:"py-3 px-4 text-sm",children:[i.jsx("div",{className:"font-mono text-gray-900 text-xs",children:new Date(m.timestamp).toLocaleString()}),i.jsx("div",{className:"text-xs text-gray-500",children:Km(m.timestamp)})]}),i.jsx("td",{className:"py-3 px-4",children:i.jsx("span",{className:"font-mono text-xs bg-gray-100 px-2 py-1 rounded",children:m.tenant_id})}),i.jsxs("td",{className:"py-3 px-4",children:[i.jsxs("div",{className:"flex items-center space-x-1",children:[Xm(p.category),i.jsx("span",{className:"text-xs text-gray-600",children:p.category})]}),i.jsx(Se,{className:`${Vm(p.severity)} text-xs mt-1`,children:p.severity})]}),i.jsx("td",{className:"py-3 px-4",children:i.jsx(Se,{variant:"outline",className:"text-red-700 border-red-300 text-xs",children:m.reason})}),i.jsx("td",{className:"py-3 px-4 font-mono text-sm",children:m.observed_samples?.toLocaleString()||"0"}),i.jsx("td",{className:"py-3 px-4 font-mono text-sm",children:Pa(m.observed_body_bytes||0)})]},v)})})]})})]})]})}function jq(){const{data:e,isLoading:t,error:r}=ur({queryKey:["health"],queryFn:wq,refetchInterval:1e4,refetchIntervalInBackground:!0});return t?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"text-lg text-gray-600",children:"Loading health status..."})}):r?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-lg text-red-600",children:["Failed to load health: ",r instanceof Error?r.message:"Unknown error"]})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"System Health"}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),i.jsx("span",{className:"text-sm text-gray-600",children:"Auto-refresh (10s)"})]}),i.jsx("a",{href:"/api/export/csv",className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:"📥 Export CSV"})]})]}),i.jsxs("div",{className:"bg-white shadow rounded-lg",children:[i.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"RLS Service Status"})}),i.jsx("div",{className:"p-6",children:i.jsx("pre",{className:"bg-gray-50 p-4 rounded-lg border text-sm font-mono overflow-x-auto",children:JSON.stringify(e,null,2)})})]})]})}async function wq(){const e=await fetch("/api/health");if(!e.ok)throw new Error("failed");return e.json()}async function _q(){try{const e=await fetch("/api/pipeline/status");if(!e.ok)throw new Error(`Failed to fetch pipeline status: ${e.statusText}`);return await e.json()}catch(e){return console.error("Error fetching pipeline status:",e),{total_requests_per_second:0,total_errors_per_second:0,overall_success_rate:0,avg_response_time:0,active_tenants:0,total_denials:0,components:[],pipeline_flow:[]}}}function Nq({status:e}){const r=(a=>{switch(a){case"healthy":return{color:"bg-green-100 text-green-800",icon:oe};case"warning":return{color:"bg-yellow-100 text-yellow-800",icon:je};case"error":return{color:"bg-red-100 text-red-800",icon:ft};default:return{color:"bg-gray-100 text-gray-800",icon:wt}}})(e),n=r.icon;return i.jsxs(Se,{className:r.color,children:[i.jsx(n,{className:"w-3 h-3 mr-1"}),e.charAt(0).toUpperCase()+e.slice(1)]})}function Oq({status:e}){const r=(a=>{switch(a){case"flowing":return{color:"bg-green-100 text-green-800",icon:hn};case"degraded":return{color:"bg-yellow-100 text-yellow-800",icon:je};case"blocked":return{color:"bg-red-100 text-red-800",icon:hg};default:return{color:"bg-gray-100 text-gray-800",icon:wt}}})(e),n=r.icon;return i.jsxs(Se,{className:r.color,children:[i.jsx(n,{className:"w-3 h-3 mr-1"}),e.charAt(0).toUpperCase()+e.slice(1)]})}function Sq(){const{data:e,isLoading:t,error:r}=ur(["pipeline-status"],_q,{refetchInterval:1e4,refetchIntervalInBackground:!0,staleTime:5e3});return t?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"text-lg text-gray-600",children:"Loading pipeline status..."})}):r?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg text-red-600 mb-2",children:"Error loading pipeline status"}),i.jsx("div",{className:"text-sm text-gray-500",children:r instanceof Error?r.message:"Unknown error occurred"})]})}):e?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[i.jsxs(F,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Total RPS"}),i.jsx(cr,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsx("div",{className:"text-2xl font-bold",children:e.total_requests_per_second.toLocaleString()}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.total_errors_per_second," errors/sec"]})]})]}),i.jsxs(F,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Success Rate"}),i.jsx(oe,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[e.overall_success_rate.toFixed(1),"%"]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.total_denials," denials today"]})]})]}),i.jsxs(F,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Avg Response Time"}),i.jsx(wt,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[e.avg_response_time,"ms"]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"End-to-end latency"})]})]}),i.jsxs(F,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Active Tenants"}),i.jsx(sr,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsx("div",{className:"text-2xl font-bold",children:e.active_tenants}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"With active traffic"})]})]})]}),i.jsxs(F,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(fn,{className:"h-5 w-5"}),"Component Status"]}),i.jsx(ie,{children:"Health and performance of all system components"})]}),i.jsx(H,{children:i.jsx("div",{className:"space-y-4",children:e.components.map(n=>i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Nq,{status:n.status}),i.jsx("span",{className:"font-medium",children:n.name})]}),i.jsxs("div",{className:"text-sm text-gray-500",children:["v",n.version," • ",n.uptime]})]}),i.jsxs("div",{className:"flex items-center space-x-6",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm font-medium",children:[n.metrics.requests_per_second," RPS"]}),i.jsxs("div",{className:"text-xs text-gray-500",children:[n.metrics.error_rate,"% error rate"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm font-medium",children:[n.metrics.response_time,"ms"]}),i.jsx("div",{className:"text-xs text-gray-500",children:"avg response"})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm font-medium",children:[n.metrics.memory_usage,"%"]}),i.jsx("div",{className:"text-xs text-gray-500",children:"memory"})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm font-medium",children:[n.metrics.cpu_usage,"%"]}),i.jsx("div",{className:"text-xs text-gray-500",children:"CPU"})]})]})]},n.name))})})]}),i.jsxs(F,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(bt,{className:"h-5 w-5"}),"Pipeline Flow"]}),i.jsx(ie,{children:"Request flow through the edge enforcement pipeline"})]}),i.jsx(H,{children:i.jsx("div",{className:"space-y-4",children:e.pipeline_flow.map((n,a)=>i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Oq,{status:n.status}),i.jsx("span",{className:"font-medium",children:n.stage})]}),i.jsx("div",{className:"text-sm text-gray-500",children:n.component})]}),i.jsxs("div",{className:"flex items-center space-x-6",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm font-medium",children:[n.requests_per_second," RPS"]}),i.jsx("div",{className:"text-xs text-gray-500",children:"throughput"})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm font-medium",children:[n.success_rate,"%"]}),i.jsx("div",{className:"text-xs text-gray-500",children:"success rate"})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm font-medium",children:[n.error_rate,"%"]}),i.jsx("div",{className:"text-xs text-gray-500",children:"error rate"})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm font-medium",children:[n.avg_response_time,"ms"]}),i.jsx("div",{className:"text-xs text-gray-500",children:"avg latency"})]})]})]},n.stage))})})]}),i.jsxs(F,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(Es,{className:"h-5 w-5"}),"Quick Actions"]}),i.jsx(ie,{children:"Common monitoring and troubleshooting actions"})]}),i.jsx(H,{children:i.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[i.jsxs("button",{className:"p-4 border rounded-lg hover:bg-gray-50 text-left",children:[i.jsx("div",{className:"font-medium",children:"View Logs"}),i.jsx("div",{className:"text-sm text-gray-500",children:"Check component logs"})]}),i.jsxs("button",{className:"p-4 border rounded-lg hover:bg-gray-50 text-left",children:[i.jsx("div",{className:"font-medium",children:"Metrics"}),i.jsx("div",{className:"text-sm text-gray-500",children:"Detailed metrics"})]}),i.jsxs("button",{className:"p-4 border rounded-lg hover:bg-gray-50 text-left",children:[i.jsx("div",{className:"font-medium",children:"Health Check"}),i.jsx("div",{className:"text-sm text-gray-500",children:"Run health checks"})]}),i.jsxs("button",{className:"p-4 border rounded-lg hover:bg-gray-50 text-left",children:[i.jsx("div",{className:"font-medium",children:"Restart"}),i.jsx("div",{className:"text-sm text-gray-500",children:"Restart components"})]})]})})]})]}):i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"text-lg text-gray-600",children:"No pipeline data available"})})}function Aq(e){return e.includes("parse_failed")?"Body Parsing":e.includes("body_extract")?"Body Extraction":e.includes("samples_per_second")?"Rate Limit":e.includes("max_body_bytes")?"Body Size":e.includes("max_series")?"Series Limit":e.includes("missing_tenant")?"Authentication":e.includes("enforcement_disabled")?"Enforcement":"Unknown"}async function Pq(e,t="24h"){try{const r=await fetch(`/api/tenants/${e}?range=${t}`);if(!r.ok)throw new Error(`Failed to fetch tenant details: ${r.statusText}`);const n=await r.json(),a=n.tenant,s=n.recent_denials||[],o=n.request_history||[];let l="unknown";a&&a.enforcement?.enabled?a.metrics&&(a.metrics.allow_rate>0||a.metrics.deny_rate>0)||a.metrics&&a.metrics.samples_per_sec>0?l="active":l="inactive":a&&!a.enforcement?.enabled&&(l="suspended");const c=$q(a,s);return{id:a?.id||e,name:a?.name||e,status:l,created_at:a?.created_at||new Date().toISOString(),last_activity:a?.last_activity||new Date().toISOString(),limits:{samples_per_second:a?.limits?.samples_per_second||0,burst_percent:a?.limits?.burst_pct||0,max_body_bytes:a?.limits?.max_body_bytes||0,max_series_per_query:a?.limits?.max_series_per_query||0,max_global_series_per_user:a?.limits?.max_global_series_per_user||0,max_global_series_per_metric:a?.limits?.max_global_series_per_metric||0,max_global_exemplars_per_user:a?.limits?.max_global_exemplars_per_user||0,ingestion_rate:a?.limits?.ingestion_rate||0,ingestion_burst_size:a?.limits?.ingestion_burst_size||0,max_labels_per_series:a?.limits?.max_labels_per_series||0,max_label_value_length:a?.limits?.max_label_value_length||0,max_series_per_request:a?.limits?.max_series_per_request||0},metrics:{current_samples_per_second:a?.metrics?.samples_per_sec||0,current_series:0,total_requests:Math.round((a?.metrics?.allow_rate||0)+(a?.metrics?.deny_rate||0)),allowed_requests:Math.round(a?.metrics?.allow_rate||0),denied_requests:Math.round(a?.metrics?.deny_rate||0),allow_rate:a?.metrics?.allow_rate||0,deny_rate:a?.metrics?.deny_rate||0,avg_response_time:a?.metrics?.avg_response_time||.28,error_rate:0,utilization_pct:a?.metrics?.utilization_pct||0},request_history:o.map(u=>({timestamp:u.timestamp,requests:u.requests||0,samples:u.samples||0,denials:u.denials||0,avg_response_time:u.avg_response_time||.28})),enforcement_history:s.map(u=>({timestamp:u.timestamp||new Date().toISOString(),reason:u.reason||"",limit_type:Aq(u.reason||""),current_value:u.observed_samples||u.observed_body_bytes||0,limit_value:u.limit_exceeded||0,action:"denied"})),alerts:c}}catch(r){return console.error("Error fetching tenant details:",r),{id:e,name:"Unknown",status:"unknown",created_at:"",last_activity:"",limits:{samples_per_second:0,burst_percent:0,max_body_bytes:0,max_series_per_query:0,max_global_series_per_user:0,max_global_series_per_metric:0,max_global_exemplars_per_user:0,ingestion_rate:0,ingestion_burst_size:0,max_labels_per_series:0,max_label_value_length:0,max_series_per_request:0},metrics:{current_samples_per_second:0,current_series:0,total_requests:0,allowed_requests:0,denied_requests:0,allow_rate:0,deny_rate:0,avg_response_time:0,error_rate:0,utilization_pct:0},request_history:[],enforcement_history:[],alerts:[]}}}function $q(e,t){const r=[];if(e?.metrics?.deny_rate>0&&e?.metrics?.allow_rate>0){const n=e.metrics.allow_rate+e.metrics.deny_rate,a=e.metrics.deny_rate/n*100;a>20&&r.push({id:"high-denial-rate",severity:"warning",message:`High denial rate detected: ${a.toFixed(1)}% of requests are being blocked`,timestamp:new Date().toISOString(),resolved:!1})}if(e?.metrics?.utilization_pct>80&&r.push({id:"high-utilization",severity:"warning",message:`High limit utilization: ${e.metrics.utilization_pct.toFixed(1)}% of samples per second limit`,timestamp:new Date().toISOString(),resolved:!1}),e&&!e.enforcement?.enabled&&r.push({id:"enforcement-disabled",severity:"error",message:"Enforcement is disabled for this tenant - no limits are being applied",timestamp:new Date().toISOString(),resolved:!1}),e?.metrics?.samples_per_sec===0&&e?.metrics?.allow_rate===0&&e?.metrics?.deny_rate===0&&r.push({id:"no-activity",severity:"info",message:"No recent activity detected for this tenant",timestamp:new Date().toISOString(),resolved:!1}),t.length>0){const n=t.filter(a=>{const s=new Date(a.timestamp),o=new Date(Date.now()-60*60*1e3);return s>o});n.length>5&&r.push({id:"recent-denials",severity:"warning",message:`${n.length} requests denied in the last hour`,timestamp:new Date().toISOString(),resolved:!1})}return r}function Tq({status:e}){const r=(a=>{switch(a){case"active":return{color:"bg-green-100 text-green-800",icon:oe};case"inactive":return{color:"bg-gray-100 text-gray-800",icon:wt};case"suspended":return{color:"bg-red-100 text-red-800",icon:ft};default:return{color:"bg-gray-100 text-gray-800",icon:wt}}})(e),n=r.icon;return i.jsxs(Se,{className:r.color,children:[i.jsx(n,{className:"w-3 h-3 mr-1"}),e.charAt(0).toUpperCase()+e.slice(1)]})}function Eq({severity:e}){const r=(a=>{switch(a){case"error":return{color:"bg-red-100 text-red-800",icon:ft};case"warning":return{color:"bg-yellow-100 text-yellow-800",icon:je};case"info":return{color:"bg-blue-100 text-blue-800",icon:oe};default:return{color:"bg-gray-100 text-gray-800",icon:wt}}})(e),n=r.icon;return i.jsxs(Se,{className:r.color,children:[i.jsx(n,{className:"w-3 h-3 mr-1"}),e.charAt(0).toUpperCase()+e.slice(1)]})}function kq(){const{tenantId:e}=Yy(),[t,r]=I.useState("24h"),{data:n,isLoading:a,error:s}=ur(["tenant-details",e,t],()=>Pq(e,t),{refetchInterval:3e5,refetchIntervalInBackground:!0,staleTime:18e4,cacheTime:6e5});if(a)return i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"text-lg text-gray-600",children:"Loading tenant details..."})});if(s)return i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg text-red-600 mb-2",children:"Error loading tenant details"}),i.jsx("div",{className:"text-sm text-gray-500",children:s instanceof Error?s.message:"Unknown error occurred"}),i.jsx("div",{className:"mt-4",children:i.jsx("button",{onClick:()=>window.history.back(),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Go Back"})})]})});if(!n)return i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg text-gray-600 mb-2",children:"Tenant not found"}),i.jsxs("div",{className:"text-sm text-gray-500 mb-4",children:['The tenant "',e,'" does not exist or has no limits configured.']}),i.jsx("button",{onClick:()=>window.history.back(),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Go Back"})]})});const o=(n.request_history||[]).map(c=>({time:new Date(c.timestamp).toLocaleTimeString(),requests:c.requests,samples:c.samples,denials:c.denials,response_time:c.avg_response_time})),l=[{name:"Allowed",value:n.metrics.allowed_requests,color:"#10b981"},{name:"Denied",value:n.metrics.denied_requests,color:"#ef4444"}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:n.name}),i.jsxs("p",{className:"text-gray-500",children:["Tenant ID: ",n.id]})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(Tq,{status:n.status}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("label",{htmlFor:"timeRange",className:"text-sm font-medium text-gray-700",children:"Time Range:"}),i.jsxs("select",{id:"timeRange",value:t,onChange:c=>r(c.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"15m",children:"15 Minutes"}),i.jsx("option",{value:"1h",children:"1 Hour"}),i.jsx("option",{value:"24h",children:"24 Hours"}),i.jsx("option",{value:"1w",children:"1 Week"})]})]}),i.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Edit Limits"})]})]}),i.jsxs("div",{className:"text-sm text-gray-500 text-center",children:["Auto-refresh (5m) • Data range: ",t==="15m"?"15 Minutes":t==="1h"?"1 Hour":t==="24h"?"24 Hours":"1 Week"]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[i.jsxs(F,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Current Samples/sec"}),i.jsx(cr,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsx("div",{className:"text-2xl font-bold",children:n.metrics.current_samples_per_second.toLocaleString()}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.metrics.utilization_pct,"% of limit"]})]})]}),i.jsxs(F,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Allow Rate"}),i.jsx(oe,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[n.metrics.allow_rate,"%"]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.metrics.allowed_requests.toLocaleString()," requests"]})]})]}),i.jsxs(F,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Deny Rate"}),i.jsx(ft,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[n.metrics.deny_rate,"%"]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.metrics.denied_requests.toLocaleString()," requests"]})]})]}),i.jsxs(F,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Avg Response Time"}),i.jsx(wt,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[n.metrics.avg_response_time,"ms"]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.metrics.error_rate,"% error rate"]})]})]})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs(F,{children:[i.jsxs(U,{children:[i.jsx(W,{children:"Request History (24h)"}),i.jsx(ie,{children:"Requests, samples, and denials over time"})]}),i.jsx(H,{children:i.jsx(or,{width:"100%",height:300,children:i.jsxs(aq,{data:o,children:[i.jsx(zr,{strokeDasharray:"3 3"}),i.jsx(Nt,{dataKey:"time"}),i.jsx(Ot,{}),i.jsx(ze,{}),i.jsx(Ht,{dataKey:"requests",fill:"#3b82f6",name:"Requests"}),i.jsx(Ht,{dataKey:"samples",fill:"#10b981",name:"Samples"}),i.jsx(Ht,{dataKey:"denials",fill:"#ef4444",name:"Denials"})]})})})]}),i.jsxs(F,{children:[i.jsxs(U,{children:[i.jsx(W,{children:"Enforcement Distribution"}),i.jsx(ie,{children:"Allowed vs denied requests"})]}),i.jsx(H,{children:i.jsx(or,{width:"100%",height:300,children:i.jsxs(Hy,{children:[i.jsx(Dt,{data:l,cx:"50%",cy:"50%",labelLine:!1,label:({name:c,percent:u})=>`${c} ${(u*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:l.map((c,u)=>i.jsx(ra,{fill:c.color},`cell-${u}`))}),i.jsx(ze,{})]})})})]})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[i.jsxs(F,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Total Requests"}),i.jsx(Kt,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsx("div",{className:"text-2xl font-bold",children:n.metrics.total_requests.toLocaleString()}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Last 24 hours"})]})]}),i.jsxs(F,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Current Series"}),i.jsx(hn,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsx("div",{className:"text-2xl font-bold",children:n.metrics.current_series.toLocaleString()}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Active series count"})]})]}),i.jsxs(F,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Error Rate"}),i.jsx(je,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[n.metrics.error_rate,"%"]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Request failures"})]})]}),i.jsxs(F,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Utilization"}),i.jsx(bt,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[n.metrics.utilization_pct,"%"]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Of rate limit"})]})]})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs(F,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(ct,{className:"h-5 w-5"}),"Current Limits & Configuration"]}),i.jsx(ie,{children:"Configured limits and enforcement settings for this tenant"})]}),i.jsx(H,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium",children:"Samples per second"}),i.jsx("span",{className:"text-sm",children:n.limits.samples_per_second.toLocaleString()})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium",children:"Burst percent"}),i.jsxs("span",{className:"text-sm",children:[n.limits.burst_percent,"%"]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium",children:"Max body bytes"}),i.jsx("span",{className:"text-sm",children:n.limits.max_body_bytes.toLocaleString()})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium",children:"Max series per query"}),i.jsx("span",{className:"text-sm",children:n.limits.max_series_per_query.toLocaleString()})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium",children:"Max labels per series"}),i.jsx("span",{className:"text-sm",children:n.limits.max_labels_per_series||"Unlimited"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium",children:"Max label value length"}),i.jsx("span",{className:"text-sm",children:n.limits.max_label_value_length||"Unlimited"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium",children:"Max series per request"}),i.jsx("span",{className:"text-sm",children:n.limits.max_series_per_request||"Unlimited"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium",children:"Ingestion rate"}),i.jsx("span",{className:"text-sm",children:n.limits.ingestion_rate.toLocaleString()})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium",children:"Ingestion burst size"}),i.jsx("span",{className:"text-sm",children:n.limits.ingestion_burst_size.toLocaleString()})]})]})})]}),i.jsxs(F,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(bt,{className:"h-5 w-5"}),"Recent Blocking Reasons"]}),i.jsx(ie,{children:"Why requests are being blocked for this tenant"})]}),i.jsx(H,{children:i.jsx("div",{className:"space-y-3",children:n.enforcement_history.length===0?i.jsxs("div",{className:"text-center py-4 text-gray-500",children:[i.jsx(oe,{className:"h-8 w-8 mx-auto mb-2 text-green-500"}),i.jsx("p",{children:"No blocked requests"}),i.jsx("p",{className:"text-sm",children:"All requests are being allowed"})]}):n.enforcement_history.slice(0,10).map((c,u)=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-red-50",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(ft,{className:"h-4 w-4 text-red-500"}),i.jsx("div",{className:"text-sm font-medium text-red-800",children:c.reason})]}),i.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:[i.jsx("span",{className:"font-medium",children:"Type:"})," ",c.limit_type]}),c.current_value>0&&i.jsxs("div",{className:"text-xs text-gray-600",children:[i.jsx("span",{className:"font-medium",children:"Value:"})," ",c.current_value.toLocaleString(),c.limit_value>0&&i.jsxs("span",{children:[" / ",c.limit_value.toLocaleString()]})]}),i.jsx("div",{className:"text-xs text-gray-500 mt-1",children:new Date(c.timestamp).toLocaleString()})]}),i.jsx("div",{className:"text-right",children:i.jsx(Se,{className:"bg-red-100 text-red-800",children:c.action})})]},u))})})]})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs(F,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(hn,{className:"h-5 w-5"}),"Performance Trends"]}),i.jsx(ie,{children:"Response time and throughput patterns"})]}),i.jsx(H,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-blue-900",children:"Average Response Time"}),i.jsx("div",{className:"text-xs text-blue-700",children:"Last 24 hours"})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-lg font-bold text-blue-900",children:[n.metrics.avg_response_time,"ms"]}),i.jsx("div",{className:"text-xs text-blue-700",children:n.metrics.avg_response_time<1?"⚡ Excellent":n.metrics.avg_response_time<5?"✅ Good":"⚠️ Slow"})]})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-green-900",children:"Success Rate"}),i.jsx("div",{className:"text-xs text-green-700",children:"Requests processed successfully"})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-lg font-bold text-green-900",children:[n.metrics.allow_rate.toFixed(1),"%"]}),i.jsx("div",{className:"text-xs text-green-700",children:n.metrics.allow_rate>95?"🎯 Excellent":n.metrics.allow_rate>80?"✅ Good":"⚠️ Needs attention"})]})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 bg-orange-50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-orange-900",children:"Current Throughput"}),i.jsx("div",{className:"text-xs text-orange-700",children:"Samples per second"})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-lg font-bold text-orange-900",children:n.metrics.current_samples_per_second.toLocaleString()}),i.jsx("div",{className:"text-xs text-orange-700",children:n.metrics.utilization_pct>80?"🔥 High utilization":n.metrics.utilization_pct>50?"📈 Moderate":"📉 Low"})]})]})]})})]}),i.jsxs(F,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(cr,{className:"h-5 w-5"}),"System Health"]}),i.jsx(ie,{children:"Current system status and health indicators"})]}),i.jsx(H,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Enforcement Status"}),i.jsx("div",{className:"text-xs text-gray-700",children:"Limit enforcement"})]}),i.jsx("div",{className:"text-right",children:i.jsx(Se,{className:n.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:n.status==="active"?"🛡️ Active":"⚠️ Inactive"})})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-purple-900",children:"Error Rate"}),i.jsx("div",{className:"text-xs text-purple-700",children:"Failed requests"})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-lg font-bold text-purple-900",children:[n.metrics.error_rate,"%"]}),i.jsx("div",{className:"text-xs text-purple-700",children:n.metrics.error_rate<1?"✅ Excellent":n.metrics.error_rate<5?"⚠️ Acceptable":"🚨 High"})]})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 bg-yellow-50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-yellow-900",children:"Active Alerts"}),i.jsx("div",{className:"text-xs text-yellow-700",children:"Current issues"})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-lg font-bold text-yellow-900",children:n.alerts.filter(c=>!c.resolved).length}),i.jsx("div",{className:"text-xs text-yellow-700",children:n.alerts.filter(c=>!c.resolved).length===0?"✅ All clear":"⚠️ Issues detected"})]})]})]})})]})]}),i.jsxs(F,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(je,{className:"h-5 w-5"}),"Active Alerts"]}),i.jsx(ie,{children:"Current alerts and notifications for this tenant"})]}),i.jsx(H,{children:i.jsx("div",{className:"space-y-3",children:n.alerts.map(c=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Eq,{severity:c.severity}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium",children:c.message}),i.jsx("div",{className:"text-xs text-gray-500",children:new Date(c.timestamp).toLocaleString()})]})]}),i.jsx("div",{children:c.resolved?i.jsx(Se,{className:"bg-green-100 text-green-800",children:"Resolved"}):i.jsx(Se,{className:"bg-yellow-100 text-yellow-800",children:"Active"})})]},c.id))})})]})]})}async function Cq(){try{const e=await fetch("/api/metrics/system");if(!e.ok)throw new Error(`Failed to fetch system metrics: ${e.statusText}`);return await e.json()}catch(e){return console.error("Error fetching system metrics:",e),{timestamp:new Date().toISOString(),overview:{total_requests_per_second:0,total_errors_per_second:0,overall_success_rate:0,avg_response_time:0,active_tenants:0,total_denials:0,system_health:"unknown"},component_metrics:{nginx:{requests_per_second:0,error_rate:0,response_time:0,memory_usage:0,cpu_usage:0,uptime:"0s",status:"unknown"},envoy:{requests_per_second:0,error_rate:0,response_time:0,memory_usage:0,cpu_usage:0,uptime:"0s",status:"unknown"},rls:{requests_per_second:0,error_rate:0,response_time:0,memory_usage:0,cpu_usage:0,uptime:"0s",status:"unknown"},overrides_sync:{requests_per_second:0,error_rate:0,response_time:0,memory_usage:0,cpu_usage:0,uptime:"0s",status:"unknown"},mimir:{requests_per_second:0,error_rate:0,response_time:0,memory_usage:0,cpu_usage:0,uptime:"0s",status:"unknown"}},performance_metrics:{cpu_usage:0,memory_usage:0,disk_usage:0,network_throughput:0,error_rate:0,latency_p95:0,latency_p99:0},traffic_metrics:{requests_per_minute:[],samples_per_minute:[],denials_per_minute:[],response_times:[]},tenant_metrics:{top_tenants_by_requests:[],top_tenants_by_denials:[],utilization_distribution:[]},alert_metrics:{total_alerts:0,critical_alerts:0,warning_alerts:0,info_alerts:0,recent_alerts:[]}}}}function el({status:e}){const r=(a=>{switch(a){case"healthy":return{color:"bg-green-100 text-green-800",icon:oe};case"warning":return{color:"bg-yellow-100 text-yellow-800",icon:je};case"error":return{color:"bg-red-100 text-red-800",icon:ft};default:return{color:"bg-gray-100 text-gray-800",icon:wt}}})(e),n=r.icon;return i.jsxs(Se,{className:r.color,children:[i.jsx(n,{className:"w-3 h-3 mr-1"}),e.charAt(0).toUpperCase()+e.slice(1)]})}function Mq(){const[e,t]=I.useState("1h"),{data:r,isLoading:n,error:a}=ur(["system-metrics",e],Cq,{refetchInterval:1e4,refetchIntervalInBackground:!0,staleTime:5e3});if(n)return i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"text-lg text-gray-600",children:"Loading system metrics..."})});if(a)return i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg text-red-600 mb-2",children:"Error loading system metrics"}),i.jsx("div",{className:"text-sm text-gray-500",children:a instanceof Error?a.message:"Unknown error occurred"})]})});if(!r)return i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"text-lg text-gray-600",children:"No metrics data available"})});const s=r.traffic_metrics.requests_per_minute.map(l=>({time:new Date(l.timestamp).toLocaleTimeString(),requests:l.value,samples:r.traffic_metrics.samples_per_minute.find(c=>c.timestamp===l.timestamp)?.value||0,denials:r.traffic_metrics.denials_per_minute.find(c=>c.timestamp===l.timestamp)?.value||0,response_time:r.traffic_metrics.response_times.find(c=>c.timestamp===l.timestamp)?.value||0})),o=r.tenant_metrics.utilization_distribution.map(l=>({name:l.range,value:l.count,percentage:l.percentage}));return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"System Metrics"}),i.jsx("p",{className:"text-gray-500",children:"Comprehensive monitoring and performance data"})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(el,{status:r.overview.system_health}),i.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",new Date(r.timestamp).toLocaleString()]})]})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[i.jsxs(F,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Total RPS"}),i.jsx(cr,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsx("div",{className:"text-2xl font-bold",children:r.overview.total_requests_per_second.toLocaleString()}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.overview.total_errors_per_second," errors/sec"]})]})]}),i.jsxs(F,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Success Rate"}),i.jsx(oe,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[r.overview.overall_success_rate.toFixed(1),"%"]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.overview.total_denials," denials today"]})]})]}),i.jsxs(F,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Avg Response Time"}),i.jsx(wt,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[r.overview.avg_response_time,"ms"]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["P95: ",r.performance_metrics.latency_p95,"ms"]})]})]}),i.jsxs(F,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Active Tenants"}),i.jsx(sr,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsx("div",{className:"text-2xl font-bold",children:r.overview.active_tenants}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"With active traffic"})]})]})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[i.jsxs(F,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"CPU Usage"}),i.jsx(Qm,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[r.performance_metrics.cpu_usage,"%"]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"System-wide average"})]})]}),i.jsxs(F,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Memory Usage"}),i.jsx(Kt,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[r.performance_metrics.memory_usage,"%"]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"System-wide average"})]})]}),i.jsxs(F,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Network Throughput"}),i.jsx(sn,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[r.performance_metrics.network_throughput," MB/s"]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Inbound traffic"})]})]}),i.jsxs(F,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Error Rate"}),i.jsx(ft,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[r.performance_metrics.error_rate,"%"]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"System-wide average"})]})]})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs(F,{children:[i.jsxs(U,{children:[i.jsx(W,{children:"Traffic Overview (Last Hour)"}),i.jsx(ie,{children:"Requests, samples, and denials over time"})]}),i.jsx(H,{children:i.jsx(or,{width:"100%",height:300,children:i.jsxs(Ky,{data:s,children:[i.jsx(zr,{strokeDasharray:"3 3"}),i.jsx(Nt,{dataKey:"time"}),i.jsx(Ot,{}),i.jsx(ze,{}),i.jsx(at,{type:"monotone",dataKey:"requests",stackId:"1",stroke:"#3b82f6",fill:"#3b82f6"}),i.jsx(at,{type:"monotone",dataKey:"samples",stackId:"1",stroke:"#10b981",fill:"#10b981"}),i.jsx(at,{type:"monotone",dataKey:"denials",stackId:"1",stroke:"#ef4444",fill:"#ef4444"})]})})})]}),i.jsxs(F,{children:[i.jsxs(U,{children:[i.jsx(W,{children:"Response Times (Last Hour)"}),i.jsx(ie,{children:"Average response time trends"})]}),i.jsx(H,{children:i.jsx(or,{width:"100%",height:300,children:i.jsxs(kc,{data:s,children:[i.jsx(zr,{strokeDasharray:"3 3"}),i.jsx(Nt,{dataKey:"time"}),i.jsx(Ot,{}),i.jsx(ze,{}),i.jsx(Ur,{type:"monotone",dataKey:"response_time",stroke:"#8b5cf6",strokeWidth:2})]})})})]})]}),i.jsxs(F,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(fn,{className:"h-5 w-5"}),"Component Performance"]}),i.jsx(ie,{children:"Detailed metrics for each system component"})]}),i.jsx(H,{children:i.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:Object.entries(r.component_metrics).map(([l,c])=>i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h3",{className:"font-medium capitalize",children:l.replace("_"," ")}),i.jsx(el,{status:c.status})]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"RPS:"}),i.jsx("span",{className:"font-mono",children:c.requests_per_second})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Error Rate:"}),i.jsxs("span",{className:"font-mono",children:[c.error_rate,"%"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Response Time:"}),i.jsxs("span",{className:"font-mono",children:[c.response_time,"ms"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Memory:"}),i.jsxs("span",{className:"font-mono",children:[c.memory_usage,"%"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"CPU:"}),i.jsxs("span",{className:"font-mono",children:[c.cpu_usage,"%"]})]})]})]},l))})})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs(F,{children:[i.jsxs(U,{children:[i.jsx(W,{children:"Top Tenants by Requests"}),i.jsx(ie,{children:"Most active tenants in the last hour"})]}),i.jsx(H,{children:i.jsx("div",{className:"space-y-3",children:r.tenant_metrics.top_tenants_by_requests.map((l,c)=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-sm font-medium",children:c+1}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:l.tenant_id}),i.jsxs("div",{className:"text-sm text-gray-500",children:[l.samples," samples"]})]})]}),i.jsx("div",{className:"text-right",children:i.jsxs("div",{className:"font-medium",children:[l.requests," req/min"]})})]},l.tenant_id))})})]}),i.jsxs(F,{children:[i.jsxs(U,{children:[i.jsx(W,{children:"Tenant Utilization Distribution"}),i.jsx(ie,{children:"How tenants are using their allocated resources"})]}),i.jsx(H,{children:i.jsx(or,{width:"100%",height:300,children:i.jsxs(Hy,{children:[i.jsx(Dt,{data:o,cx:"50%",cy:"50%",labelLine:!1,label:({name:l,percentage:c})=>`${l} ${c}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:o.map((l,c)=>i.jsx(ra,{fill:["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6"][c]},`cell-${c}`))}),i.jsx(ze,{})]})})})]})]}),i.jsxs(F,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(je,{className:"h-5 w-5"}),"Recent Alerts"]}),i.jsx(ie,{children:"System alerts and notifications"})]}),i.jsxs(H,{children:[i.jsxs("div",{className:"grid gap-4 md:grid-cols-3 mb-4",children:[i.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-red-600",children:r.alert_metrics.critical_alerts}),i.jsx("div",{className:"text-sm text-gray-500",children:"Critical"})]}),i.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:r.alert_metrics.warning_alerts}),i.jsx("div",{className:"text-sm text-gray-500",children:"Warning"})]}),i.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.alert_metrics.info_alerts}),i.jsx("div",{className:"text-sm text-gray-500",children:"Info"})]})]}),i.jsx("div",{className:"space-y-3",children:r.alert_metrics.recent_alerts.map(l=>i.jsx("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(el,{status:l.severity}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium",children:l.message}),i.jsxs("div",{className:"text-xs text-gray-500",children:[l.component," • ",new Date(l.timestamp).toLocaleString()]})]})]})},l.id))})]})]})]})}function Iq({status:e,message:t}){const n=(s=>{switch(s){case"healthy":return{color:"bg-green-100 text-green-800",icon:oe};case"warning":return{color:"bg-yellow-100 text-yellow-800",icon:je};case"critical":return{color:"bg-red-100 text-red-800",icon:ft};default:return{color:"bg-gray-100 text-gray-800",icon:dn}}})(e),a=n.icon;return i.jsxs(Se,{className:n.color,children:[i.jsx(a,{className:"w-3 h-3 mr-1"}),e.charAt(0).toUpperCase()+e.slice(1),t&&i.jsxs("span",{className:"ml-1 text-xs",children:["(",t,")"]})]})}function Dq({severity:e}){const r=(a=>{switch(a){case"critical":return{color:"bg-red-100 text-red-800",icon:ft};case"error":return{color:"bg-orange-100 text-orange-800",icon:je};case"warning":return{color:"bg-yellow-100 text-yellow-800",icon:je};case"info":return{color:"bg-blue-100 text-blue-800",icon:dn};default:return{color:"bg-gray-100 text-gray-800",icon:dn}}})(e),n=r.icon;return i.jsxs(Se,{className:r.color,children:[i.jsx(n,{className:"w-3 h-3 mr-1"}),e.charAt(0).toUpperCase()+e.slice(1)]})}function Rq(){const[e,t]=I.useState("1h"),[r,n]=I.useState("all"),{data:a,isLoading:s,error:o}=ur(["cardinality",e,r],()=>Lq(e,r),{refetchInterval:3e5,refetchIntervalInBackground:!0,staleTime:18e4,cacheTime:6e5});if(s)return i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"text-lg text-gray-600",children:"Loading cardinality data..."})});if(o)return i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg text-red-600",children:"Failed to load cardinality data"}),i.jsx("div",{className:"text-sm text-gray-500",children:o instanceof Error?o.message:"Unknown error occurred"})]})});const l=a||{metrics:{total_series:0,avg_series_per_request:0,avg_labels_per_series:0,cardinality_violations:0,violation_rate:0},violations:[],trends:[],tenants:[],alerts:[]},{metrics:c,violations:u,trends:d,tenants:f,alerts:h}=l,v=c.violation_rate>.1?"critical":c.violation_rate>.05?"warning":"healthy",p=[{value:"15m",label:"15 Minutes"},{value:"1h",label:"1 Hour"},{value:"24h",label:"24 Hours"},{value:"1w",label:"1 Week"}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Cardinality Dashboard"}),i.jsx("p",{className:"text-gray-500",children:"Real-time monitoring of series and label cardinality"})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(Iq,{status:v}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Time Range:"}),i.jsx("select",{value:e,onChange:x=>t(x.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:p.map(x=>i.jsx("option",{value:x.value,children:x.label},x.value))})]}),i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[i.jsx(ep,{className:"w-4 h-4 animate-spin"}),i.jsx("span",{children:"Auto-refresh (5m)"})]})]})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[i.jsxs(F,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Total Series"}),i.jsx(Kt,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsx("div",{className:"text-2xl font-bold",children:c.total_series.toLocaleString()}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all tenants"})]})]}),i.jsxs(F,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Avg Series/Request"}),i.jsx(bt,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsx("div",{className:"text-2xl font-bold",children:c.avg_series_per_request.toFixed(1)}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Per request average"})]})]}),i.jsxs(F,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Avg Labels/Series"}),i.jsx(fg,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsx("div",{className:"text-2xl font-bold",children:c.avg_labels_per_series.toFixed(1)}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Per series average"})]})]}),i.jsxs(F,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Violation Rate"}),i.jsx(ct,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[(c.violation_rate*100).toFixed(2),"%"]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[c.cardinality_violations," violations"]})]})]})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs(F,{children:[i.jsxs(U,{children:[i.jsx(W,{children:"Series per Request Trend"}),i.jsx(ie,{children:"Average series count over time"})]}),i.jsx(H,{children:i.jsx(or,{width:"100%",height:300,children:i.jsxs(kc,{data:d||[],children:[i.jsx(zr,{strokeDasharray:"3 3"}),i.jsx(Nt,{dataKey:"timestamp"}),i.jsx(Ot,{}),i.jsx(ze,{}),i.jsx(Ur,{type:"monotone",dataKey:"avg_series_per_request",stroke:"#8884d8",strokeWidth:2})]})})})]}),i.jsxs(F,{children:[i.jsxs(U,{children:[i.jsx(W,{children:"Labels per Series Trend"}),i.jsx(ie,{children:"Average label count over time"})]}),i.jsx(H,{children:i.jsx(or,{width:"100%",height:300,children:i.jsxs(kc,{data:d||[],children:[i.jsx(zr,{strokeDasharray:"3 3"}),i.jsx(Nt,{dataKey:"timestamp"}),i.jsx(Ot,{}),i.jsx(ze,{}),i.jsx(Ur,{type:"monotone",dataKey:"avg_labels_per_series",stroke:"#82ca9d",strokeWidth:2})]})})})]})]}),i.jsxs(F,{children:[i.jsxs(U,{children:[i.jsx(W,{children:"Recent Cardinality Violations"}),i.jsx(ie,{children:"Latest violations of cardinality limits"})]}),i.jsx(H,{children:(u||[]).length===0?i.jsx("div",{className:"flex items-center justify-center h-32 bg-gray-50 rounded-lg",children:i.jsxs("div",{className:"text-center",children:[i.jsx(oe,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),i.jsx("div",{className:"text-lg text-gray-600",children:"No cardinality violations"}),i.jsx("div",{className:"text-sm text-gray-500",children:"All requests within limits"})]})}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Timestamp"}),i.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Tenant"}),i.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Violation"}),i.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Observed"}),i.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Limit"}),i.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Exceeded"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200",children:(u||[]).slice(0,10).map((x,j)=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"py-3 px-4 text-sm",children:i.jsx("div",{className:"font-mono text-gray-900",children:new Date(x.timestamp).toLocaleString()})}),i.jsx("td",{className:"py-3 px-4",children:i.jsx("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:x.tenant_id})}),i.jsx("td",{className:"py-3 px-4",children:i.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded",children:x.reason})}),i.jsx("td",{className:"py-3 px-4 font-mono text-sm",children:x.observed_series||x.observed_labels}),i.jsx("td",{className:"py-3 px-4 font-mono text-sm",children:x.limit_exceeded}),i.jsxs("td",{className:"py-3 px-4 font-mono text-sm text-red-600",children:["+",(x.observed_series||x.observed_labels)-x.limit_exceeded]})]},j))})]})})})]}),i.jsxs(F,{children:[i.jsxs(U,{children:[i.jsx(W,{children:"Tenant Cardinality Overview"}),i.jsx(ie,{children:"Current cardinality status by tenant"})]}),i.jsx(H,{children:i.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:(f||[]).map(x=>i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h4",{className:"font-medium",children:x.name||x.tenant_id}),i.jsxs(Se,{variant:x.violation_count>0?"destructive":"secondary",children:[x.violation_count," violations"]})]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Current Series:"}),i.jsx("span",{className:"font-mono",children:x.current_series.toLocaleString()})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Current Labels:"}),i.jsx("span",{className:"font-mono",children:x.current_labels.toLocaleString()})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Series Limit:"}),i.jsx("span",{className:"font-mono",children:x.limits.max_series_per_request.toLocaleString()})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Labels Limit:"}),i.jsx("span",{className:"font-mono",children:x.limits.max_labels_per_series})]})]})]},x.tenant_id))})})]}),i.jsxs(F,{children:[i.jsxs(U,{children:[i.jsx(W,{children:"Cardinality Alerts"}),i.jsx(ie,{children:"Active alerts for cardinality issues"})]}),i.jsx(H,{children:(h||[]).length===0?i.jsx("div",{className:"flex items-center justify-center h-32 bg-gray-50 rounded-lg",children:i.jsxs("div",{className:"text-center",children:[i.jsx(oe,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),i.jsx("div",{className:"text-lg text-gray-600",children:"No active alerts"}),i.jsx("div",{className:"text-sm text-gray-500",children:"All cardinality metrics within thresholds"})]})}):i.jsx("div",{className:"space-y-3",children:(h||[]).map(x=>i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Dq,{severity:x.severity}),i.jsx("span",{className:"font-medium",children:x.message})]}),i.jsx("span",{className:"text-sm text-gray-500",children:new Date(x.timestamp).toLocaleString()})]}),i.jsxs("div",{className:"text-sm text-gray-600",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{children:["Metric: ",x.metric]}),i.jsxs("span",{className:"font-mono",children:["Value: ",x.value]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{children:["Threshold: ",x.threshold]}),x.tenant_id&&i.jsxs("span",{children:["Tenant: ",x.tenant_id]})]})]})]},x.id))})})]})]})}async function Lq(e,t){try{const r=new URLSearchParams;e&&r.append("range",e),t&&t!=="all"&&r.append("tenant",t);const n=await fetch(`/api/cardinality?${r.toString()}`);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(r){return console.error("Failed to fetch cardinality data:",r),{metrics:{total_series:0,total_labels:0,avg_series_per_request:0,avg_labels_per_series:0,max_series_in_request:0,max_labels_in_series:0,cardinality_violations:0,violation_rate:0},violations:[],trends:[],tenants:[],alerts:[]}}}function Bq(){const[e,t]=I.useState(!1),[r,n]=I.useState(0),[a,s]=I.useState(!1),o=[{id:1,title:"Client Request",description:"Prometheus/Alloy sends metrics with X-Scope-OrgID header",icon:sr,color:"bg-blue-500",details:"Metrics data with tenant identification header"},{id:2,title:"NGINX Router",description:"Canary routing: 90% direct, 10% edge enforcement",icon:sn,color:"bg-green-500",details:"Traffic distribution based on canary configuration"},{id:3,title:"Envoy Proxy",description:"Ext_authz + ratelimit filters for edge enforcement",icon:nr,color:"bg-purple-500",details:"Authorization and rate limiting decisions"},{id:4,title:"RLS Service",description:"Lightning-fast decision engine (0.28ms)",icon:ct,color:"bg-orange-500",details:"Token bucket algorithm with tenant limits"},{id:5,title:"Mimir Distributor",description:"Protected metrics ingestion",icon:Kt,color:"bg-red-500",details:"Validated requests within enforced limits"}];I.useEffect(()=>{let u;return e&&(u=setInterval(()=>{n(d=>(d+1)%o.length)},2e3)),()=>clearInterval(u)},[e,o.length]);const l=()=>{t(!e)},c=()=>{n(0),t(!1)};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6",children:[i.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[e?i.jsx(cg,{className:"h-4 w-4"}):i.jsx(ug,{className:"h-4 w-4"}),e?"Pause":"Play"," Animation"]}),i.jsxs("button",{onClick:c,className:"flex items-center gap-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:[i.jsx(dg,{className:"h-4 w-4"}),"Reset"]}),i.jsxs("button",{onClick:()=>s(!a),className:"flex items-center gap-2 px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors",children:[i.jsx(qn,{className:"h-4 w-4"}),a?"Hide":"Show"," Details"]})]}),i.jsxs("div",{className:"relative",children:[i.jsx("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",children:o.map((u,d)=>{if(d===o.length-1)return null;const f=r>=d;return i.jsxs("g",{children:[i.jsx("line",{x1:`${(d+1)*20}%`,y1:"50%",x2:`${(d+2)*20}%`,y2:"50%",stroke:f?"#3b82f6":"#e5e7eb",strokeWidth:"3",strokeDasharray:f?"none":"5,5",className:"transition-all duration-1000"}),f&&i.jsx("circle",{cx:`${(d+1.5)*20}%`,cy:"50%",r:"4",fill:"#3b82f6",className:"animate-pulse"})]},`line-${d}`)})}),i.jsx("div",{className:"flex justify-between items-center relative z-10",children:o.map((u,d)=>{const f=r===d,h=r>d,m=u.icon;return i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center transition-all duration-500 ${f?`${u.color} text-white scale-110 shadow-lg`:h?`${u.color} text-white`:"bg-gray-200 text-gray-500"}`,children:i.jsx(m,{className:"h-8 w-8"})}),i.jsxs("div",{className:"mt-3 text-center max-w-32",children:[i.jsx("div",{className:`font-medium text-sm ${f?"text-blue-600":"text-gray-600"}`,children:u.title}),a&&i.jsx("div",{className:"text-xs text-gray-500 mt-1",children:u.description})]}),f&&i.jsx("div",{className:"mt-2 px-3 py-2 bg-blue-50 border border-blue-200 rounded-lg text-xs text-blue-800 max-w-48",children:u.details})]},u.id)})})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-8",children:[i.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:"0.28ms"}),i.jsx("div",{className:"text-sm text-green-800",children:"RLS Response Time"})]}),i.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"10K+"}),i.jsx("div",{className:"text-sm text-blue-800",children:"Requests/sec"})]}),i.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"99.9%"}),i.jsx("div",{className:"text-sm text-purple-800",children:"Success Rate"})]})]}),i.jsxs("div",{className:"mt-8",children:[i.jsx("h4",{className:"font-medium mb-4",children:"Traffic Flow Distribution"}),i.jsxs("div",{className:"flex items-center justify-center gap-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mb-2",children:i.jsx("div",{className:"text-2xl font-bold text-green-600",children:"90%"})}),i.jsx("div",{className:"text-sm text-gray-600",children:"Direct to Mimir"})]}),i.jsx(ui,{className:"h-6 w-6 text-gray-400"}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mb-2",children:i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"10%"})}),i.jsx("div",{className:"text-sm text-gray-600",children:"Edge Enforcement"})]})]})]})]})}function qq(){const[e,t]=I.useState(null),r=[{id:"nginx",name:"NGINX Ingress",description:"Traffic routing and canary deployment",details:{role:"Traffic Router",protocol:"HTTP/1.1, HTTP/2",features:["Canary Routing","SSL Termination","Load Balancing"],config:"nginx.ingress.kubernetes.io/rewrite-target: /"},color:"bg-green-500",icon:sn},{id:"envoy",name:"Envoy Proxy",description:"Edge enforcement with ext_authz and ratelimit",details:{role:"Edge Enforcement",protocol:"gRPC, HTTP/1.1",features:["ext_authz Filter","ratelimit Filter","Circuit Breakers"],config:"envoy.filters.http.ext_authz"},color:"bg-purple-500",icon:nr},{id:"rls",name:"RLS Service",description:"Lightning-fast authorization and rate limiting",details:{role:"Decision Engine",protocol:"gRPC, HTTP/2",features:["Token Bucket","Tenant Limits","Real-time Metrics"],config:"envoy.service.auth.v3.Authorization"},color:"bg-orange-500",icon:ct},{id:"overrides",name:"Overrides Sync",description:"Kubernetes controller for limit synchronization",details:{role:"Config Sync",protocol:"HTTP/1.1",features:["ConfigMap Watcher","Limit Sync","Health Checks"],config:"mimir-overrides ConfigMap"},color:"bg-blue-500",icon:Es},{id:"mimir",name:"Mimir Distributor",description:"Protected metrics ingestion endpoint",details:{role:"Metrics Storage",protocol:"HTTP/1.1",features:["Remote Write","Tenant Isolation","Series Limits"],config:"/api/v1/push"},color:"bg-red-500",icon:Kt},{id:"admin",name:"Admin UI",description:"Real-time monitoring and management",details:{role:"Monitoring Dashboard",protocol:"HTTP/1.1",features:["Live Metrics","Blocking Reasons","Tenant Management"],config:"React + TypeScript"},color:"bg-indigo-500",icon:Sa}];return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(n=>{const a=n.icon,s=e===n.id;return i.jsxs("div",{onClick:()=>t(s?null:n.id),className:`p-4 border rounded-lg cursor-pointer transition-all duration-300 ${s?"border-blue-500 bg-blue-50 shadow-lg":"border-gray-200 hover:border-gray-300 hover:shadow-md"}`,children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:`w-10 h-10 rounded-full ${n.color} flex items-center justify-center`,children:i.jsx(a,{className:"h-5 w-5 text-white"})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-900",children:n.name}),i.jsx("div",{className:"text-sm text-gray-500",children:n.description})]})]}),s&&i.jsxs("div",{className:"mt-4 space-y-3 text-sm",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-700",children:"Role:"}),i.jsx("div",{className:"text-gray-600",children:n.details.role})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-700",children:"Protocol:"}),i.jsx("div",{className:"text-gray-600",children:n.details.protocol})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-700",children:"Features:"}),i.jsx("ul",{className:"text-gray-600 list-disc list-inside",children:n.details.features.map((o,l)=>i.jsx("li",{children:o},l))})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-700",children:"Config:"}),i.jsx("code",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:n.details.config})]})]})]},n.id)})}),i.jsxs("div",{className:"mt-8",children:[i.jsx("h4",{className:"font-medium mb-4",children:"Data Flow & Communication"}),i.jsx("div",{className:"bg-gray-50 p-6 rounded-lg",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Request Flow"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),i.jsx("span",{children:"Client → NGINX (HTTP/1.1)"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),i.jsx("span",{children:"NGINX → Envoy (HTTP/1.1)"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),i.jsx("span",{children:"Envoy → RLS (gRPC)"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),i.jsx("span",{children:"RLS → Envoy (gRPC Response)"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),i.jsx("span",{children:"Envoy → Mimir (HTTP/1.1)"})]})]})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Configuration Flow"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),i.jsx("span",{children:"ConfigMap → Overrides Sync"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),i.jsx("span",{children:"Overrides Sync → RLS (HTTP)"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),i.jsx("span",{children:"RLS → Admin UI (HTTP)"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),i.jsx("span",{children:"Admin UI → User (WebSocket)"})]})]})]})]})})]}),i.jsxs("div",{className:"mt-8",children:[i.jsx("h4",{className:"font-medium mb-4",children:"Performance Characteristics"}),i.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[i.jsx("div",{className:"text-lg font-bold text-green-600",children:"0.28ms"}),i.jsx("div",{className:"text-xs text-green-800",children:"RLS Decision Time"})]}),i.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[i.jsx("div",{className:"text-lg font-bold text-blue-600",children:"10K+"}),i.jsx("div",{className:"text-xs text-blue-800",children:"Requests/sec"})]}),i.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[i.jsx("div",{className:"text-lg font-bold text-purple-600",children:"99.9%"}),i.jsx("div",{className:"text-xs text-purple-800",children:"Availability"})]}),i.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[i.jsx("div",{className:"text-lg font-bold text-orange-600",children:"<1ms"}),i.jsx("div",{className:"text-xs text-orange-800",children:"End-to-End Latency"})]})]})]})]})}function Fq(){return i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Mimir Edge Enforcement Wiki"}),i.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Complete guide to the lightning-fast edge enforcement system that protects your Mimir infrastructure with real-time monitoring, comprehensive blocking reasons, and zero-downtime deployments."}),i.jsxs("div",{className:"flex justify-center gap-4 mt-6",children:[i.jsx(Se,{className:"bg-green-100 text-green-800",children:"⚡ Lightning Fast (0.28ms)"}),i.jsx(Se,{className:"bg-blue-100 text-blue-800",children:"🛡️ 100% Protection"}),i.jsx(Se,{className:"bg-purple-100 text-purple-800",children:"📊 Real-time Monitoring"}),i.jsx(Se,{className:"bg-orange-100 text-orange-800",children:"🔍 Blocking Reasons"})]})]}),i.jsxs(F,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(ct,{className:"h-5 w-5"}),"System Overview"]}),i.jsx(ie,{children:"What is Mimir Edge Enforcement and why do we need it?"})]}),i.jsxs(H,{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-3",children:"What is Mimir Edge Enforcement?"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Mimir Edge Enforcement is a production-ready, lightning-fast Kubernetes solution that enforces Mimir tenant ingestion limits at the edge (before the Distributor). It acts as a protective layer that prevents individual tenants from overwhelming your Mimir infrastructure with sub-millisecond response times and comprehensive blocking reason tracking."}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"⚡ Lightning Fast Performance"}),i.jsx("p",{className:"text-blue-700 text-sm",children:"Sub-millisecond response times (0.28-0.54ms) ensure zero impact on legitimate traffic while providing instant protection against violations."})]}),i.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"🛡️ Comprehensive Protection"}),i.jsx("p",{className:"text-green-700 text-sm",children:"Multi-layer protection with detailed blocking reasons, real-time monitoring, and automatic limit enforcement at the edge."})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Key Benefits & Features"}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(oe,{className:"h-5 w-5 text-green-600 mt-0.5"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"⚡ Lightning Fast"}),i.jsx("div",{className:"text-sm text-gray-500",children:"0.28-0.54ms response times"})]})]}),i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(oe,{className:"h-5 w-5 text-green-600 mt-0.5"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"🔍 Blocking Reasons"}),i.jsx("div",{className:"text-sm text-gray-500",children:"Detailed why requests are blocked"})]})]}),i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(oe,{className:"h-5 w-5 text-green-600 mt-0.5"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"📊 Real-time Monitoring"}),i.jsx("div",{className:"text-sm text-gray-500",children:"Live metrics and dashboards"})]})]}),i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(oe,{className:"h-5 w-5 text-green-600 mt-0.5"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"🛡️ Zero Downtime"}),i.jsx("div",{className:"text-sm text-gray-500",children:"Seamless deployments"})]})]}),i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(oe,{className:"h-5 w-5 text-green-600 mt-0.5"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"🔧 No Client Changes"}),i.jsx("div",{className:"text-sm text-gray-500",children:"Works with existing clients"})]})]}),i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(oe,{className:"h-5 w-5 text-green-600 mt-0.5"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"🎯 Canary Deployments"}),i.jsx("div",{className:"text-sm text-gray-500",children:"10% → 100% gradual rollout"})]})]}),i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(oe,{className:"h-5 w-5 text-green-600 mt-0.5"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"📈 Auto-scaling"}),i.jsx("div",{className:"text-sm text-gray-500",children:"HPA and resource optimization"})]})]}),i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(oe,{className:"h-5 w-5 text-green-600 mt-0.5"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"🔐 Multi-tenant Security"}),i.jsx("div",{className:"text-sm text-gray-500",children:"Isolated tenant protection"})]})]})]})]})]})]}),i.jsxs(F,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(sn,{className:"h-5 w-5"}),"Interactive Architecture Flow"]}),i.jsx(ie,{children:"See how requests flow through the system in real-time"})]}),i.jsx(H,{children:i.jsx(Bq,{})})]}),i.jsxs(F,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(fn,{className:"h-5 w-5"}),"Technical Architecture Details"]}),i.jsx(ie,{children:"Detailed component interactions and data flow"})]}),i.jsx(H,{children:i.jsx(qq,{})})]}),i.jsxs(F,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(nr,{className:"h-5 w-5"}),"Latest Enhancements & Features"]}),i.jsx(ie,{children:"Recent improvements and new capabilities"})]}),i.jsxs(H,{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"🔍 Comprehensive Blocking Reasons"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"The system now provides detailed visibility into why requests are being blocked, making it easy to understand and resolve issues quickly."}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-red-900 mb-2",children:"Blocking Reason Types"}),i.jsxs("ul",{className:"text-sm text-red-800 space-y-1",children:[i.jsxs("li",{children:["• ",i.jsx("strong",{children:"parse_failed_deny"})," - Invalid protobuf/snappy data"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"body_extract_failed_deny"})," - Failed to extract request body"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"samples_per_second"})," - Rate limit exceeded"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"max_body_bytes"})," - Body size limit exceeded"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"missing_tenant_header"})," - No tenant identification"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"enforcement_disabled"})," - System not protecting"]})]})]}),i.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Real-time Tracking"}),i.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Timestamp"})," - When each blocking occurred"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Observed Values"})," - Actual samples/bytes that triggered blocking"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Tenant ID"})," - Which tenant was affected"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Reason Code"})," - Specific violation type"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Historical Data"})," - Track patterns over time"]})]})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"⚡ Performance Optimizations"}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(nr,{className:"h-4 w-4 text-yellow-600"}),i.jsx("span",{className:"font-medium",children:"Lightning Fast"})]}),i.jsx("div",{className:"text-2xl font-bold text-green-600",children:"0.28ms"}),i.jsx("div",{className:"text-sm text-gray-600",children:"Average response time"})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(cr,{className:"h-4 w-4 text-blue-600"}),i.jsx("span",{className:"font-medium",children:"High Throughput"})]}),i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"10K+"}),i.jsx("div",{className:"text-sm text-gray-600",children:"Requests per second"})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(ct,{className:"h-4 w-4 text-green-600"}),i.jsx("span",{className:"font-medium",children:"Zero Impact"})]}),i.jsx("div",{className:"text-2xl font-bold text-green-600",children:"99.9%"}),i.jsx("div",{className:"text-sm text-gray-600",children:"Success rate"})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"🛡️ Enhanced Protection Mechanisms"}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"Multi-Layer Security"}),i.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Edge Enforcement"})," - Block at Envoy before reaching Mimir"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Body Validation"})," - Parse and validate request content"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Rate Limiting"})," - Token bucket algorithm for fair allocation"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Tenant Isolation"})," - Separate limits per tenant"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Real-time Monitoring"})," - Instant visibility into violations"]})]})]}),i.jsxs("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-purple-900 mb-2",children:"Advanced Features"}),i.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Canary Deployments"})," - Gradual rollout (10% → 100%)"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Auto-scaling"})," - HPA for dynamic resource allocation"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Health Checks"})," - Comprehensive system monitoring"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Graceful Shutdown"})," - Zero-downtime deployments"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Config Hot-reload"})," - Dynamic limit updates"]})]})]})]})]})]})]}),i.jsxs(F,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(je,{className:"h-5 w-5"}),"Comprehensive Blocking Reasons Guide"]}),i.jsx(ie,{children:"Complete reference of all blocking reasons with explanations and examples"})]}),i.jsxs(H,{className:"space-y-8",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"🔍 Understanding Blocking Reasons"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Mimir Edge Enforcement provides detailed blocking reasons to help you understand exactly why requests are being denied. Each blocking reason includes specific information about the violation, observed values, and recommendations for resolution."}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[i.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"📊 Real-time Visibility"}),i.jsx("p",{className:"text-sm text-blue-800",children:"See exactly why requests are blocked with detailed metrics and timestamps"})]}),i.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"🎯 Specific Actions"}),i.jsx("p",{className:"text-sm text-green-800",children:"Each reason provides clear guidance on how to resolve the issue"})]}),i.jsxs("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-purple-900 mb-2",children:"📈 Historical Tracking"}),i.jsx("p",{className:"text-sm text-purple-800",children:"Track blocking patterns over time to identify trends and optimize limits"})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"⚡ Rate Limiting Blocking Reasons"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"p-4 border border-red-200 rounded-lg bg-red-50",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(je,{className:"h-5 w-5 text-red-600 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-red-900 mb-2",children:"samples_rate_exceeded"}),i.jsx("p",{className:"text-sm text-red-800 mb-3",children:"The tenant has exceeded their samples per second rate limit. This is the most common blocking reason for high-volume metric ingestion."}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-red-900 mb-1",children:"🔍 What it means:"}),i.jsxs("ul",{className:"text-sm text-red-800 space-y-1",children:[i.jsx("li",{children:"• Tenant sending too many samples too quickly"}),i.jsx("li",{children:"• Token bucket algorithm detected rate violation"}),i.jsx("li",{children:"• Temporary blocking until rate normalizes"})]})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-red-900 mb-1",children:"🛠️ How to fix:"}),i.jsxs("ul",{className:"text-sm text-red-800 space-y-1",children:[i.jsxs("li",{children:["• Increase ",i.jsx("code",{children:"samples_per_second"})," limit"]}),i.jsx("li",{children:"• Optimize client batching/compression"}),i.jsx("li",{children:"• Reduce metric cardinality"}),i.jsx("li",{children:"• Implement client-side rate limiting"})]})]})]}),i.jsxs("div",{className:"mt-3 p-3 bg-white rounded border",children:[i.jsx("h5",{className:"font-medium text-red-900 mb-1",children:"📝 Example:"}),i.jsxs("div",{className:"text-sm text-red-800 font-mono",children:[i.jsx("div",{children:"Reason: samples_rate_exceeded"}),i.jsx("div",{children:"Observed: 1,500 samples in 1 second"}),i.jsx("div",{children:"Limit: 1,000 samples per second"}),i.jsx("div",{children:"Status: 429 Too Many Requests"})]})]})]})]})}),i.jsx("div",{className:"p-4 border border-orange-200 rounded-lg bg-orange-50",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(je,{className:"h-5 w-5 text-orange-600 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-orange-900 mb-2",children:"bytes_rate_exceeded"}),i.jsx("p",{className:"text-sm text-orange-800 mb-3",children:"The tenant has exceeded their bytes per second rate limit. This protects against bandwidth abuse and ensures fair resource allocation."}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-orange-900 mb-1",children:"🔍 What it means:"}),i.jsxs("ul",{className:"text-sm text-orange-800 space-y-1",children:[i.jsx("li",{children:"• Tenant sending too much data too quickly"}),i.jsx("li",{children:"• Network bandwidth limit exceeded"}),i.jsx("li",{children:"• Large payloads or high compression"})]})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-orange-900 mb-1",children:"🛠️ How to fix:"}),i.jsxs("ul",{className:"text-sm text-orange-800 space-y-1",children:[i.jsxs("li",{children:["• Increase ",i.jsx("code",{children:"max_body_bytes"})," limit"]}),i.jsx("li",{children:"• Optimize payload compression"}),i.jsx("li",{children:"• Reduce batch sizes"}),i.jsx("li",{children:"• Implement client-side throttling"})]})]})]}),i.jsxs("div",{className:"mt-3 p-3 bg-white rounded border",children:[i.jsx("h5",{className:"font-medium text-orange-900 mb-1",children:"📝 Example:"}),i.jsxs("div",{className:"text-sm text-orange-800 font-mono",children:[i.jsx("div",{children:"Reason: bytes_rate_exceeded"}),i.jsx("div",{children:"Observed: 2.5 MB in 1 second"}),i.jsx("div",{children:"Limit: 1 MB per second"}),i.jsx("div",{children:"Status: 429 Too Many Requests"})]})]})]})]})})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"📏 Size Limit Blocking Reasons"}),i.jsx("div",{className:"space-y-4",children:i.jsx("div",{className:"p-4 border border-red-200 rounded-lg bg-red-50",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(je,{className:"h-5 w-5 text-red-600 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-red-900 mb-2",children:"body_size_exceeded"}),i.jsx("p",{className:"text-sm text-red-800 mb-3",children:"The request body size exceeds the maximum allowed limit. This prevents memory exhaustion and protects against DoS attacks."}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-red-900 mb-1",children:"🔍 What it means:"}),i.jsxs("ul",{className:"text-sm text-red-800 space-y-1",children:[i.jsx("li",{children:"• Single request too large"}),i.jsx("li",{children:"• Memory protection mechanism"}),i.jsx("li",{children:"• Prevents resource exhaustion"})]})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-red-900 mb-1",children:"🛠️ How to fix:"}),i.jsxs("ul",{className:"text-sm text-red-800 space-y-1",children:[i.jsx("li",{children:"• Split large batches into smaller requests"}),i.jsxs("li",{children:["• Increase ",i.jsx("code",{children:"max_body_bytes"})," limit"]}),i.jsx("li",{children:"• Optimize metric compression"}),i.jsx("li",{children:"• Reduce metric cardinality"})]})]})]}),i.jsxs("div",{className:"mt-3 p-3 bg-white rounded border",children:[i.jsx("h5",{className:"font-medium text-red-900 mb-1",children:"📝 Example:"}),i.jsxs("div",{className:"text-sm text-red-800 font-mono",children:[i.jsx("div",{children:"Reason: body_size_exceeded"}),i.jsx("div",{children:"Observed: 12 MB request body"}),i.jsx("div",{children:"Limit: 10 MB maximum"}),i.jsx("div",{children:"Status: 413 Request Entity Too Large"})]})]})]})]})})})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"🔍 Data Validation Blocking Reasons"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"p-4 border border-purple-200 rounded-lg bg-purple-50",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(je,{className:"h-5 w-5 text-purple-600 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-purple-900 mb-2",children:"parse_failed_deny"}),i.jsx("p",{className:"text-sm text-purple-800 mb-3",children:"The request body could not be parsed as valid Prometheus remote write protobuf data. This indicates malformed or corrupted data."}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-purple-900 mb-1",children:"🔍 What it means:"}),i.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[i.jsx("li",{children:"• Invalid protobuf format"}),i.jsx("li",{children:"• Corrupted snappy/gzip compression"}),i.jsx("li",{children:"• Malformed metric data"}),i.jsx("li",{children:"• Network transmission errors"})]})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-purple-900 mb-1",children:"🛠️ How to fix:"}),i.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[i.jsx("li",{children:"• Check client protobuf generation"}),i.jsx("li",{children:"• Verify compression settings"}),i.jsx("li",{children:"• Test with valid sample data"}),i.jsx("li",{children:"• Check network connectivity"})]})]})]}),i.jsxs("div",{className:"mt-3 p-3 bg-white rounded border",children:[i.jsx("h5",{className:"font-medium text-purple-900 mb-1",children:"📝 Example:"}),i.jsxs("div",{className:"text-sm text-purple-800 font-mono",children:[i.jsx("div",{children:"Reason: parse_failed_deny"}),i.jsx("div",{children:"Error: proto: cannot parse invalid wire-format data"}),i.jsx("div",{children:"Body Size: 1,234 bytes"}),i.jsx("div",{children:"Status: 400 Bad Request"})]})]})]})]})}),i.jsx("div",{className:"p-4 border border-purple-200 rounded-lg bg-purple-50",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(je,{className:"h-5 w-5 text-purple-600 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-purple-900 mb-2",children:"body_extract_failed_deny"}),i.jsx("p",{className:"text-sm text-purple-800 mb-3",children:"Failed to extract the request body from the HTTP request. This usually indicates a problem with the request format or Envoy configuration."}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-purple-900 mb-1",children:"🔍 What it means:"}),i.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[i.jsx("li",{children:"• Empty request body"}),i.jsx("li",{children:"• Envoy body parsing issue"}),i.jsx("li",{children:"• Content-Length mismatch"}),i.jsx("li",{children:"• Request truncation"})]})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-purple-900 mb-1",children:"🛠️ How to fix:"}),i.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[i.jsx("li",{children:"• Check client request format"}),i.jsx("li",{children:"• Verify Envoy body parsing config"}),i.jsx("li",{children:"• Ensure proper Content-Length"}),i.jsx("li",{children:"• Test with valid request body"})]})]})]}),i.jsxs("div",{className:"mt-3 p-3 bg-white rounded border",children:[i.jsx("h5",{className:"font-medium text-purple-900 mb-1",children:"📝 Example:"}),i.jsxs("div",{className:"text-sm text-purple-800 font-mono",children:[i.jsx("div",{children:"Reason: body_extract_failed_deny"}),i.jsx("div",{children:"Error: no body in request"}),i.jsx("div",{children:"Content-Length: 0"}),i.jsx("div",{children:"Status: 400 Bad Request"})]})]})]})]})})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"⚙️ Configuration Blocking Reasons"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"p-4 border border-yellow-200 rounded-lg bg-yellow-50",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(je,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-yellow-900 mb-2",children:"missing_tenant_header"}),i.jsx("p",{className:"text-sm text-yellow-800 mb-3",children:"The request is missing the required tenant identification header. This prevents the system from applying tenant-specific limits."}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-yellow-900 mb-1",children:"🔍 What it means:"}),i.jsxs("ul",{className:"text-sm text-yellow-800 space-y-1",children:[i.jsx("li",{children:"• No X-Scope-OrgID header"}),i.jsx("li",{children:"• No Authorization header (for Alloy)"}),i.jsx("li",{children:"• Client not configured properly"}),i.jsx("li",{children:"• Cannot identify tenant"})]})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-yellow-900 mb-1",children:"🛠️ How to fix:"}),i.jsxs("ul",{className:"text-sm text-yellow-800 space-y-1",children:[i.jsx("li",{children:"• Add X-Scope-OrgID header to requests"}),i.jsx("li",{children:"• Configure basic auth for Alloy"}),i.jsx("li",{children:"• Update client configuration"}),i.jsx("li",{children:"• Check tenant header format"})]})]})]}),i.jsxs("div",{className:"mt-3 p-3 bg-white rounded border",children:[i.jsx("h5",{className:"font-medium text-yellow-900 mb-1",children:"📝 Example:"}),i.jsxs("div",{className:"text-sm text-yellow-800 font-mono",children:[i.jsx("div",{children:"Reason: missing_tenant_header"}),i.jsx("div",{children:"Required: X-Scope-OrgID or Authorization"}),i.jsx("div",{children:"Found: No tenant headers"}),i.jsx("div",{children:"Status: 400 Bad Request"})]})]})]})]})}),i.jsx("div",{className:"p-4 border border-blue-200 rounded-lg bg-blue-50",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(qn,{className:"h-5 w-5 text-blue-600 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"enforcement_disabled"}),i.jsx("p",{className:"text-sm text-blue-800 mb-3",children:"Enforcement is disabled for this tenant. Requests are allowed to pass through without limit checking (monitoring only mode)."}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-blue-900 mb-1",children:"🔍 What it means:"}),i.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[i.jsx("li",{children:"• Tenant in monitoring mode"}),i.jsx("li",{children:"• No limits enforced"}),i.jsx("li",{children:"• Requests always allowed"}),i.jsx("li",{children:"• Metrics still collected"})]})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-blue-900 mb-1",children:"🛠️ How to enable:"}),i.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[i.jsx("li",{children:"• Set enforcement.enabled: true"}),i.jsx("li",{children:"• Configure tenant limits"}),i.jsx("li",{children:"• Update via Admin API"}),i.jsx("li",{children:"• Use overrides-sync controller"})]})]})]}),i.jsxs("div",{className:"mt-3 p-3 bg-white rounded border",children:[i.jsx("h5",{className:"font-medium text-blue-900 mb-1",children:"📝 Example:"}),i.jsxs("div",{className:"text-sm text-blue-800 font-mono",children:[i.jsx("div",{children:"Reason: enforcement_disabled"}),i.jsx("div",{children:"Tenant: new-tenant"}),i.jsx("div",{children:"Status: Monitoring only"}),i.jsx("div",{children:"Action: Allowed (no limits)"})]})]})]})]})})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"🔄 Failure Mode Blocking Reasons"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"p-4 border border-green-200 rounded-lg bg-green-50",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(oe,{className:"h-5 w-5 text-green-600 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:"parse_failed_allow"}),i.jsx("p",{className:"text-sm text-green-800 mb-3",children:"Request parsing failed but was allowed due to failure mode configuration. Limits are still enforced using fallback values."}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-green-900 mb-1",children:"🔍 What it means:"}),i.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[i.jsx("li",{children:"• Data corruption detected"}),i.jsx("li",{children:"• Fallback limit enforcement"}),i.jsx("li",{children:"• Conservative sample counting"}),i.jsx("li",{children:"• Protection still active"})]})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-green-900 mb-1",children:"🛠️ Best practices:"}),i.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[i.jsx("li",{children:"• Monitor corruption patterns"}),i.jsx("li",{children:"• Investigate data sources"}),i.jsx("li",{children:"• Check network stability"}),i.jsx("li",{children:"• Review client configuration"})]})]})]}),i.jsxs("div",{className:"mt-3 p-3 bg-white rounded border",children:[i.jsx("h5",{className:"font-medium text-green-900 mb-1",children:"📝 Example:"}),i.jsxs("div",{className:"text-sm text-green-800 font-mono",children:[i.jsx("div",{children:"Reason: parse_failed_allow"}),i.jsx("div",{children:"Fallback: 1 sample, 123 bytes"}),i.jsx("div",{children:"Limits: Still enforced"}),i.jsx("div",{children:"Status: 200 OK (with limits)"})]})]})]})]})}),i.jsx("div",{className:"p-4 border border-green-200 rounded-lg bg-green-50",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(oe,{className:"h-5 w-5 text-green-600 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:"body_extract_failed_allow"}),i.jsx("p",{className:"text-sm text-green-800 mb-3",children:"Body extraction failed but was allowed due to failure mode configuration. Conservative limits are applied using raw body size."}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-green-900 mb-1",children:"🔍 What it means:"}),i.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[i.jsx("li",{children:"• Body parsing issue"}),i.jsx("li",{children:"• Raw size limit enforcement"}),i.jsx("li",{children:"• Conservative protection"}),i.jsx("li",{children:"• System still protected"})]})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-green-900 mb-1",children:"🛠️ Best practices:"}),i.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[i.jsx("li",{children:"• Monitor extraction failures"}),i.jsx("li",{children:"• Check Envoy configuration"}),i.jsx("li",{children:"• Verify request format"}),i.jsx("li",{children:"• Review client setup"})]})]})]}),i.jsxs("div",{className:"mt-3 p-3 bg-white rounded border",children:[i.jsx("h5",{className:"font-medium text-green-900 mb-1",children:"📝 Example:"}),i.jsxs("div",{className:"text-sm text-green-800 font-mono",children:[i.jsx("div",{children:"Reason: body_extract_failed_allow"}),i.jsx("div",{children:"Fallback: 1 sample, 456 bytes"}),i.jsx("div",{children:"Limits: Raw size enforced"}),i.jsx("div",{children:"Status: 200 OK (with limits)"})]})]})]})]})})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"📊 Monitoring and Resolution"}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"🔍 Real-time Monitoring"}),i.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Blocking Dashboard"})," - Live view of all blocking reasons"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Tenant Details"})," - Per-tenant blocking history"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Trend Analysis"})," - Identify patterns over time"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Alert Integration"})," - Get notified of violations"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Metrics Export"})," - Prometheus metrics for monitoring"]})]})]}),i.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"🛠️ Resolution Workflow"}),i.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[i.jsxs("li",{children:["• ",i.jsx("strong",{children:"1. Identify"})," - Check blocking reason in UI"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"2. Analyze"})," - Review observed vs limit values"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"3. Investigate"})," - Check client configuration"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"4. Adjust"})," - Update limits or fix client"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"5. Monitor"})," - Verify resolution effectiveness"]})]})]})]})]})]})]}),i.jsxs(F,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(fn,{className:"h-5 w-5"}),"System Architecture"]}),i.jsx(ie,{children:"How the components work together"})]}),i.jsx(H,{children:i.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(sn,{className:"h-5 w-5 text-blue-600"}),i.jsx("h3",{className:"font-semibold",children:"NGINX"})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Acts as the ingress layer, handling traffic routing and canary deployments."}),i.jsxs("div",{className:"space-y-1 text-xs",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Role:"}),i.jsx("span",{className:"font-medium",children:"Traffic Router"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Canary:"}),i.jsx("span",{className:"font-medium",children:"10% → Edge"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Direct:"}),i.jsx("span",{className:"font-medium",children:"90% → Mimir"})]})]})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(nr,{className:"h-5 w-5 text-purple-600"}),i.jsx("h3",{className:"font-semibold",children:"Envoy Proxy"})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Handles authorization and rate limiting for edge enforcement traffic."}),i.jsxs("div",{className:"space-y-1 text-xs",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Role:"}),i.jsx("span",{className:"font-medium",children:"Edge Enforcement"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Filters:"}),i.jsx("span",{className:"font-medium",children:"ext_authz + ratelimit"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Protocol:"}),i.jsx("span",{className:"font-medium",children:"HTTP/1.1 + HTTP/2"})]})]})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(ct,{className:"h-5 w-5 text-green-600"}),i.jsx("h3",{className:"font-semibold",children:"RLS (Rate Limit Service)"})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Go service that provides authorization and rate limiting decisions."}),i.jsxs("div",{className:"space-y-1 text-xs",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Role:"}),i.jsx("span",{className:"font-medium",children:"Decision Engine"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Protocol:"}),i.jsx("span",{className:"font-medium",children:"gRPC + HTTP"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Storage:"}),i.jsx("span",{className:"font-medium",children:"In-memory"})]})]})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(Kt,{className:"h-5 w-5 text-orange-600"}),i.jsx("h3",{className:"font-semibold",children:"Overrides Sync"})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Kubernetes controller that watches Mimir ConfigMap and syncs limits to RLS."}),i.jsxs("div",{className:"space-y-1 text-xs",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Role:"}),i.jsx("span",{className:"font-medium",children:"Config Sync"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Watches:"}),i.jsx("span",{className:"font-medium",children:"Mimir ConfigMap"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Updates:"}),i.jsx("span",{className:"font-medium",children:"RLS Limits"})]})]})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(bt,{className:"h-5 w-5 text-red-600"}),i.jsx("h3",{className:"font-semibold",children:"Mimir Distributor"})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"The target Mimir component that receives validated and rate-limited requests."}),i.jsxs("div",{className:"space-y-1 text-xs",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Role:"}),i.jsx("span",{className:"font-medium",children:"Metrics Storage"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Protocol:"}),i.jsx("span",{className:"font-medium",children:"HTTP/1.1"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Protection:"}),i.jsx("span",{className:"font-medium",children:"Edge Enforced"})]})]})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(Sa,{className:"h-5 w-5 text-indigo-600"}),i.jsx("h3",{className:"font-semibold",children:"Admin UI"})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"React-based monitoring dashboard providing real-time visibility into the system."}),i.jsxs("div",{className:"space-y-1 text-xs",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Role:"}),i.jsx("span",{className:"font-medium",children:"Monitoring"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Updates:"}),i.jsx("span",{className:"font-medium",children:"Real-time"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Data:"}),i.jsx("span",{className:"font-medium",children:"Live Metrics"})]})]})]})]})})]}),i.jsxs(F,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(ui,{className:"h-5 w-5"}),"Request Flow"]}),i.jsx(ie,{children:"Step-by-step process of how requests are processed"})]}),i.jsx(H,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2",children:i.jsx(sr,{className:"h-8 w-8 text-blue-600"})}),i.jsx("div",{className:"text-sm font-medium",children:"Client"}),i.jsx("div",{className:"text-xs text-gray-500",children:"Prometheus/Alloy"})]}),i.jsx(ui,{className:"h-6 w-6 text-gray-400"}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-2",children:i.jsx(sn,{className:"h-8 w-8 text-green-600"})}),i.jsx("div",{className:"text-sm font-medium",children:"NGINX"}),i.jsx("div",{className:"text-xs text-gray-500",children:"Traffic Router"})]}),i.jsx(ui,{className:"h-6 w-6 text-gray-400"}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-2",children:i.jsx(nr,{className:"h-8 w-8 text-purple-600"})}),i.jsx("div",{className:"text-sm font-medium",children:"Envoy"}),i.jsx("div",{className:"text-xs text-gray-500",children:"Edge Enforcement"})]}),i.jsx(ui,{className:"h-6 w-6 text-gray-400"}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-2",children:i.jsx(bt,{className:"h-8 w-8 text-red-600"})}),i.jsx("div",{className:"text-sm font-medium",children:"Mimir"}),i.jsx("div",{className:"text-xs text-gray-500",children:"Distributor"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-blue-50 rounded-lg",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-blue-900",children:"Client Request"}),i.jsxs("p",{className:"text-sm text-blue-700",children:["Prometheus/Alloy sends metrics to Mimir with ",i.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"X-Scope-OrgID"})," header identifying the tenant."]})]})]}),i.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-green-50 rounded-lg",children:[i.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-green-900",children:"NGINX Routing"}),i.jsxs("p",{className:"text-sm text-green-700",children:["NGINX receives the request and applies canary routing logic:",i.jsx("br",{}),"• ",i.jsx("strong",{children:"90% of traffic"})," → Direct to Mimir Distributor",i.jsx("br",{}),"• ",i.jsx("strong",{children:"10% of traffic"})," → Route through Edge Enforcement"]})]})]}),i.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-purple-50 rounded-lg",children:[i.jsx("div",{className:"w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"3"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-purple-900",children:"Envoy Processing"}),i.jsxs("p",{className:"text-sm text-purple-700",children:["For edge enforcement traffic, Envoy applies two filters:",i.jsx("br",{}),"• ",i.jsx("strong",{children:"ext_authz"})," → Calls RLS for authorization decision",i.jsx("br",{}),"• ",i.jsx("strong",{children:"ratelimit"})," → Applies rate limiting based on tenant limits"]})]})]}),i.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-orange-50 rounded-lg",children:[i.jsx("div",{className:"w-8 h-8 bg-orange-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"4"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-orange-900",children:"RLS Decision"}),i.jsxs("p",{className:"text-sm text-orange-700",children:["RLS checks tenant limits and makes authorization decision:",i.jsx("br",{}),"• ",i.jsx("strong",{children:"Allow"})," → Request within limits, forward to Mimir",i.jsx("br",{}),"• ",i.jsx("strong",{children:"Deny"})," → Request exceeds limits, return 429/403"]})]})]}),i.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-red-50 rounded-lg",children:[i.jsx("div",{className:"w-8 h-8 bg-red-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"5"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-red-900",children:"Mimir Processing"}),i.jsxs("p",{className:"text-sm text-red-700",children:["Validated requests reach Mimir Distributor for processing:",i.jsx("br",{}),"• ",i.jsx("strong",{children:"Protected"})," → All requests are within enforced limits",i.jsx("br",{}),"• ",i.jsx("strong",{children:"Efficient"})," → No resource exhaustion from individual tenants"]})]})]})]})]})})]}),i.jsxs(F,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(og,{className:"h-5 w-5"}),"Protection Mechanisms"]}),i.jsx(ie,{children:"How we safeguard your Mimir infrastructure"})]}),i.jsxs(H,{className:"space-y-6",children:[i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Multi-Layer Protection"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(ct,{className:"h-4 w-4 text-green-600"}),i.jsx("span",{className:"font-medium",children:"Edge Enforcement"})]}),i.jsx("p",{className:"text-sm text-gray-600",children:"Requests are validated at the edge before reaching Mimir, preventing resource exhaustion from individual tenants."})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(cr,{className:"h-4 w-4 text-blue-600"}),i.jsx("span",{className:"font-medium",children:"Real-time Rate Limiting"})]}),i.jsx("p",{className:"text-sm text-gray-600",children:"Token bucket algorithm ensures fair resource allocation and prevents burst traffic from overwhelming the system."})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Sa,{className:"h-4 w-4 text-purple-600"}),i.jsx("span",{className:"font-medium",children:"Complete Visibility"})]}),i.jsx("p",{className:"text-sm text-gray-600",children:"Real-time monitoring shows exactly which tenants are hitting limits and when enforcement actions are taken."})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Limit Enforcement"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(je,{className:"h-4 w-4 text-yellow-600"}),i.jsx("span",{className:"font-medium",children:"Samples per Second"})]}),i.jsx("p",{className:"text-sm text-gray-600",children:"Enforces maximum samples per second per tenant to prevent ingestion rate spikes."})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(hn,{className:"h-4 w-4 text-orange-600"}),i.jsx("span",{className:"font-medium",children:"Burst Protection"})]}),i.jsx("p",{className:"text-sm text-gray-600",children:"Allows temporary burst traffic within configured limits while preventing sustained overload."})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Kt,{className:"h-4 w-4 text-red-600"}),i.jsx("span",{className:"font-medium",children:"Series Limits"})]}),i.jsx("p",{className:"text-sm text-gray-600",children:"Enforces maximum series per query and global series limits to prevent cardinality explosion."})]})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Example: Tenant Limit Violation"}),i.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(je,{className:"h-5 w-5 text-yellow-600"}),i.jsx("span",{className:"font-medium text-yellow-900",children:"Real-time Alert"})]}),i.jsxs("div",{className:"text-sm text-yellow-800 space-y-2",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Tenant:"})," production-app-123"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Violation:"})," Samples per second limit exceeded"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Current:"})," 12,500 samples/sec"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Limit:"})," 10,000 samples/sec"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Action:"})," Request denied at Envoy (HTTP 429)"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Protection:"})," Mimir safeguarded from overload"]})]})]})]})]})]}),i.jsxs(F,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(bt,{className:"h-5 w-5"}),"Monitoring & Metrics"]}),i.jsx(ie,{children:"Real-time visibility into system performance and protection"})]}),i.jsxs(H,{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"What You Can Monitor"}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3",children:"System Performance"}),i.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(oe,{className:"h-4 w-4 text-green-600"}),"Total requests per second across all tenants"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(oe,{className:"h-4 w-4 text-green-600"}),"Success rate and error rates"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(oe,{className:"h-4 w-4 text-green-600"}),"Response times and latency percentiles"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(oe,{className:"h-4 w-4 text-green-600"}),"Component health and resource usage"]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3",children:"Tenant Protection"}),i.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(oe,{className:"h-4 w-4 text-green-600"}),"Individual tenant request rates and samples"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(oe,{className:"h-4 w-4 text-green-600"}),"Limit violations and enforcement actions"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(oe,{className:"h-4 w-4 text-green-600"}),"Allow/deny ratios per tenant"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(oe,{className:"h-4 w-4 text-green-600"}),"Resource utilization and trends"]})]})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Real-time Visibility"}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"1,250"}),i.jsx("div",{className:"text-sm font-medium",children:"Requests/sec"}),i.jsx("div",{className:"text-xs text-gray-500",children:"Total throughput"})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:"99.04%"}),i.jsx("div",{className:"text-sm font-medium",children:"Success Rate"}),i.jsx("div",{className:"text-xs text-gray-500",children:"System health"})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"165ms"}),i.jsx("div",{className:"text-sm font-medium",children:"Avg Response"}),i.jsx("div",{className:"text-xs text-gray-500",children:"End-to-end latency"})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-red-600",children:"47"}),i.jsx("div",{className:"text-sm font-medium",children:"Denials Today"}),i.jsx("div",{className:"text-xs text-gray-500",children:"Protection active"})]})]})]})]})]}),i.jsxs(F,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(dn,{className:"h-5 w-5"}),"Blocking Reasons & Troubleshooting"]}),i.jsx(ie,{children:"Understanding why requests are blocked and how to resolve issues"})]}),i.jsxs(H,{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"🔍 Understanding Blocking Reasons"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"The system provides detailed information about why requests are being blocked, helping you quickly identify and resolve issues."}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-yellow-900 mb-3",children:"Common Blocking Scenarios"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-yellow-800",children:"Invalid Request Data"}),i.jsx("div",{className:"text-sm text-yellow-700",children:"parse_failed_deny - Corrupted protobuf/snappy data"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-yellow-800",children:"Rate Limit Exceeded"}),i.jsx("div",{className:"text-sm text-yellow-700",children:"samples_per_second - Too many samples per second"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-yellow-800",children:"Body Size Limit"}),i.jsx("div",{className:"text-sm text-yellow-700",children:"max_body_bytes - Request body too large"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-yellow-800",children:"Missing Tenant"}),i.jsx("div",{className:"text-sm text-yellow-700",children:"missing_tenant_header - No tenant identification"})]})]})]}),i.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-blue-900 mb-3",children:"Resolution Steps"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-blue-800",children:"1. Check Blocking Reason"}),i.jsx("div",{className:"text-sm text-blue-700",children:"View the specific reason in the Admin UI"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-blue-800",children:"2. Analyze Patterns"}),i.jsx("div",{className:"text-sm text-blue-700",children:"Look for recurring issues or specific tenants"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-blue-800",children:"3. Adjust Limits"}),i.jsx("div",{className:"text-sm text-blue-700",children:"Update tenant limits if legitimate traffic is blocked"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-blue-800",children:"4. Fix Client Issues"}),i.jsx("div",{className:"text-sm text-blue-700",children:"Resolve data format or authentication problems"})]})]})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"📊 Real-time Monitoring Dashboard"}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Sa,{className:"h-4 w-4 text-green-600"}),i.jsx("span",{className:"font-medium",children:"Live Metrics"})]}),i.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[i.jsx("li",{children:"• Request rates per tenant"}),i.jsx("li",{children:"• Allow/deny ratios"}),i.jsx("li",{children:"• Response times"}),i.jsx("li",{children:"• Error rates"})]})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(bt,{className:"h-4 w-4 text-blue-600"}),i.jsx("span",{className:"font-medium",children:"Blocking Analytics"})]}),i.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[i.jsx("li",{children:"• Blocking reason breakdown"}),i.jsx("li",{children:"• Tenant violation history"}),i.jsx("li",{children:"• Trend analysis"}),i.jsx("li",{children:"• Pattern detection"})]})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Es,{className:"h-4 w-4 text-purple-600"}),i.jsx("span",{className:"font-medium",children:"System Health"})]}),i.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[i.jsx("li",{children:"• Component status"}),i.jsx("li",{children:"• Resource utilization"}),i.jsx("li",{children:"• Health checks"}),i.jsx("li",{children:"• Alert notifications"})]})]})]})]})]})]}),i.jsxs(F,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(lg,{className:"h-5 w-5"}),"Quick Start & Deployment"]}),i.jsx(ie,{children:"How to deploy and configure the system with all latest features"})]}),i.jsxs(H,{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"🚀 Production Deployment"}),i.jsxs("div",{className:"bg-gray-900 text-green-400 p-4 rounded-lg font-mono text-sm",children:[i.jsx("div",{children:"# Clone the repository"}),i.jsx("div",{children:"git clone https://github.com/akshaydubey29/mimir-edge-enforcement"}),i.jsx("div",{children:"cd mimir-edge-enforcement"}),i.jsx("div",{}),i.jsx("div",{children:"# Deploy all components with latest features"}),i.jsx("div",{children:"./scripts/deploy-production.sh"}),i.jsx("div",{}),i.jsx("div",{children:"# Configure NGINX canary routing (10% → 100%)"}),i.jsx("div",{children:"./scripts/deploy-nginx-canary.sh"}),i.jsx("div",{}),i.jsx("div",{children:"# Access Admin UI with blocking reasons"}),i.jsx("div",{children:"kubectl port-forward -n mimir-edge-enforcement svc/admin-ui 3000:80"})]})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3",children:"🔧 Configuration Options"}),i.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Canary Deployment"})," - Start with 10% traffic"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Auto-scaling"})," - HPA for dynamic scaling"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Resource Limits"})," - CPU/memory optimization"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Health Checks"})," - Comprehensive monitoring"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Network Policies"})," - Security isolation"]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3",children:"📊 Monitoring Setup"}),i.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Real-time Dashboards"})," - Live metrics and blocking reasons"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Alert Rules"})," - Prometheus alerting"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Log Aggregation"})," - Centralized logging"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Performance Metrics"})," - Response time tracking"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Tenant Analytics"})," - Per-tenant monitoring"]})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3",children:"🎯 Deployment Strategies"}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsx("div",{className:"font-medium text-blue-900 mb-2",children:"Phase 1: Canary (10%)"}),i.jsx("div",{className:"text-sm text-gray-600",children:"Deploy with minimal traffic to validate functionality and monitor performance."})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsx("div",{className:"font-medium text-green-900 mb-2",children:"Phase 2: Gradual (50%)"}),i.jsx("div",{className:"text-sm text-gray-600",children:"Increase traffic while monitoring blocking reasons and system health."})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsx("div",{className:"font-medium text-purple-900 mb-2",children:"Phase 3: Full (100%)"}),i.jsx("div",{className:"text-sm text-gray-600",children:"Complete deployment with full protection and monitoring capabilities."})]})]})]})]})]}),i.jsxs(F,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(ct,{className:"h-5 w-5"}),"Cardinality Burst Control"]}),i.jsx(ie,{children:"Advanced protection against high-cardinality attacks and burst scenarios"})]}),i.jsxs(H,{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"🛡️ Cardinality Protection Features"}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"p-4 border rounded-lg bg-blue-50",children:[i.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Series Per Request Limit"}),i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Controls the maximum number of time series that can be sent in a single request."}),i.jsx("div",{className:"text-xs font-mono bg-blue-100 p-2 rounded",children:"max_series_per_request: 100000"})]}),i.jsxs("div",{className:"p-4 border rounded-lg bg-green-50",children:[i.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"Labels Per Series Limit"}),i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Limits the number of labels that can be attached to each time series."}),i.jsx("div",{className:"text-xs font-mono bg-green-100 p-2 rounded",children:"max_labels_per_series: 60"})]}),i.jsxs("div",{className:"p-4 border rounded-lg bg-purple-50",children:[i.jsx("h4",{className:"font-medium text-purple-900 mb-2",children:"Label Value Length Limit"}),i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Controls the maximum length of label values to prevent memory exhaustion."}),i.jsx("div",{className:"text-xs font-mono bg-purple-100 p-2 rounded",children:"max_label_value_length: 2048"})]}),i.jsxs("div",{className:"p-4 border rounded-lg bg-orange-50",children:[i.jsx("h4",{className:"font-medium text-orange-900 mb-2",children:"Real-time Enforcement"}),i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Instant blocking of requests that exceed cardinality limits at the edge."}),i.jsx("div",{className:"text-xs font-mono bg-orange-100 p-2 rounded",children:"Blocking Reason: max_series_per_request_exceeded"})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3",children:"🎯 Cardinality Blocking Reasons"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"p-3 border-l-4 border-red-500 bg-red-50",children:[i.jsx("div",{className:"font-medium text-red-900",children:"max_series_per_request_exceeded"}),i.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["Request contains more time series than allowed. ",i.jsx("strong",{children:"Fix:"})," Reduce the number of series per request or increase the limit."]}),i.jsx("div",{className:"text-xs font-mono bg-red-100 p-2 rounded mt-2",children:"Example: Request with 150,000 series when limit is 100,000"})]}),i.jsxs("div",{className:"p-3 border-l-4 border-orange-500 bg-orange-50",children:[i.jsx("div",{className:"font-medium text-orange-900",children:"max_labels_per_series_exceeded"}),i.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["Individual time series has more labels than permitted. ",i.jsx("strong",{children:"Fix:"})," Consolidate labels or increase the limit."]}),i.jsx("div",{className:"text-xs font-mono bg-orange-100 p-2 rounded mt-2",children:"Example: Series with 80 labels when limit is 60"})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3",children:"⚡ Configuration Examples"}),i.jsxs("div",{className:"bg-gray-900 text-green-400 p-4 rounded-lg font-mono text-sm",children:[i.jsx("div",{children:"# Configure cardinality limits for a tenant"}),i.jsx("div",{children:"curl -X PUT http://localhost:8082/api/tenants/my-tenant/limits \\"}),i.jsx("div",{children:'  -H "Content-Type: application/json" \\'}),i.jsxs("div",{children:["  -d '","{"]}),i.jsx("div",{children:'    "samples_per_second": 10000,'}),i.jsx("div",{children:'    "burst_pct": 0.2,'}),i.jsx("div",{children:'    "max_body_bytes": 10485760,'}),i.jsx("div",{children:'    "max_labels_per_series": 60,'}),i.jsx("div",{children:'    "max_label_value_length": 2048,'}),i.jsx("div",{children:'    "max_series_per_request": 100000'}),i.jsxs("div",{children:["  ","}","'"]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3",children:"🔍 Monitoring Cardinality"}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium mb-2",children:"Real-time Metrics"}),i.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[i.jsx("li",{children:"• Series count per request"}),i.jsx("li",{children:"• Labels per series distribution"}),i.jsx("li",{children:"• Cardinality violation rates"}),i.jsx("li",{children:"• Burst detection alerts"})]})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium mb-2",children:"Alerting"}),i.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[i.jsx("li",{children:"• High cardinality requests"}),i.jsx("li",{children:"• Series limit approaching"}),i.jsx("li",{children:"• Label explosion detection"}),i.jsx("li",{children:"• Burst pattern alerts"})]})]})]})]})]})]})]})}function zq(){return i.jsx(xg,{children:i.jsxs(Zy,{children:[i.jsx(Rt,{path:"/",element:i.jsx(sq,{})}),i.jsx(Rt,{path:"/tenants",element:i.jsx(xq,{})}),i.jsx(Rt,{path:"/tenants/:tenantId",element:i.jsx(kq,{})}),i.jsx(Rt,{path:"/denials",element:i.jsx(bq,{})}),i.jsx(Rt,{path:"/health",element:i.jsx(jq,{})}),i.jsx(Rt,{path:"/pipeline",element:i.jsx(Sq,{})}),i.jsx(Rt,{path:"/metrics",element:i.jsx(Mq,{})}),i.jsx(Rt,{path:"/cardinality",element:i.jsx(Rq,{})}),i.jsx(Rt,{path:"/wiki",element:i.jsx(Fq,{})})]})})}const Uq=new eg({defaultOptions:{queries:{retry:2,refetchOnWindowFocus:!1}}});tl.createRoot(document.getElementById("root")).render(i.jsx(O.StrictMode,{children:i.jsx(tg,{client:Uq,children:i.jsx(Jy,{children:i.jsx(zq,{})})})}));
//# sourceMappingURL=index-SyGpxz2S.js.map
