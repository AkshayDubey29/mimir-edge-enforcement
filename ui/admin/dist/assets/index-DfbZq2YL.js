import{j as i,S as Uy}from"./ui-BSAmLlLg.js";import{a as Wy,r as I,c as ua,g as me,b as O}from"./vendor-DAsaUmwd.js";import{u as Hy,L as Hm,a as Ky,R as Gy,b as Lt,B as Vy}from"./router-RJQWRZfK.js";import{t as Xy,c as re,a as Km}from"./utils--BulIq_u.js";import{u as Tt,Q as Yy,a as Zy}from"./query-BNYt3nOt.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var tl={},Fu=Wy;tl.createRoot=Fu.createRoot,tl.hydrateRoot=Fu.hydrateRoot;/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Jy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ue=(e,t)=>{const r=I.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>I.createElement("svg",{ref:d,...Jy,width:a,height:a,stroke:n,strokeWidth:o?Number(s)*24/Number(a):s,className:["lucide",`lucide-${Qy(e)}`,l].join(" "),...u},[...t.map(([f,h])=>I.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=ue("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=ue("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=ue("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=ue("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=ue("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=ue("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=ue("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=ue("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=ue("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=ue("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=ue("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=ue("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=ue("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=ue("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=ue("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=ue("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=ue("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=ue("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=ue("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=ue("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=ue("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=ue("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=ue("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=ue("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=ue("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=ue("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=ue("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=ue("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=ue("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=ue("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=ue("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function fr(...e){return Xy(re(e))}const ug=Km("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Pa=I.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},s)=>{const o=n?Uy:"button";return i.jsx(o,{className:fr(ug({variant:t,size:r,className:e})),ref:s,...a})});Pa.displayName="Button";const dg=async()=>{try{const e=await fetch("/api/export/csv");if(!e.ok)throw new Error("Failed to export CSV");const t=await e.blob(),r=window.URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download=`mimir-denials-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(r),document.body.removeChild(n)}catch(e){console.error("Error exporting CSV:",e),alert("Failed to export CSV. Please try again.")}},fg=[{name:"Overview",href:"/",icon:Ft},{name:"Pipeline Status",href:"/pipeline",icon:fn},{name:"Tenants",href:"/tenants",icon:or},{name:"Recent Denials",href:"/denials",icon:_e},{name:"Cardinality Dashboard",href:"/cardinality",icon:ct},{name:"System Health",href:"/health",icon:ur},{name:"Metrics",href:"/metrics",icon:Vm},{name:"Wiki",href:"/wiki",icon:eg}];function hg({children:e}){const t=Hy();return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsxs("div",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg",children:[i.jsx("div",{className:"flex h-16 items-center justify-between px-6",children:i.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Mimir Edge"})}),i.jsx("div",{className:"border-t border-gray-200"}),i.jsx("nav",{className:"mt-6 px-3",children:i.jsx("div",{className:"space-y-1",children:fg.map(r=>{const n=t.pathname===r.href;return i.jsxs(Hm,{to:r.href,className:`group flex items-center px-3 py-2 text-sm font-medium rounded-md ${n?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[i.jsx(r.icon,{className:`mr-3 h-5 w-5 ${n?"text-blue-700":"text-gray-400 group-hover:text-gray-500"}`}),r.name]},r.name)})})}),i.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[i.jsx("div",{className:"border-t border-gray-200 mb-4"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Pa,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>window.open("/settings","_blank"),children:[i.jsx(ks,{className:"mr-2 h-4 w-4"}),"Settings"]}),i.jsxs(Pa,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:dg,children:[i.jsx(Gm,{className:"mr-2 h-4 w-4"}),"Export CSV"]})]})]})]}),i.jsx("div",{className:"pl-64",children:i.jsx("main",{className:"py-6",children:i.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:e})})})]})}const q=I.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:fr("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));q.displayName="Card";const U=I.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:fr("flex flex-col space-y-1.5 p-6",e),...t}));U.displayName="CardHeader";const W=I.forwardRef(({className:e,...t},r)=>i.jsx("h3",{ref:r,className:fr("text-2xl font-semibold leading-none tracking-tight",e),...t}));W.displayName="CardTitle";const ie=I.forwardRef(({className:e,...t},r)=>i.jsx("p",{ref:r,className:fr("text-sm text-muted-foreground",e),...t}));ie.displayName="CardDescription";const H=I.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:fr("p-6 pt-0",e),...t}));H.displayName="CardContent";const mg=I.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:fr("flex items-center p-6 pt-0",e),...t}));mg.displayName="CardFooter";const pg=Km("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ae({className:e,variant:t,...r}){return i.jsx("div",{className:fr(pg({variant:t}),e),...r})}var vg=Array.isArray,Ze=vg,xg=typeof ua=="object"&&ua&&ua.Object===Object&&ua,Ym=xg,yg=Ym,gg=typeof self=="object"&&self&&self.Object===Object&&self,bg=yg||gg||Function("return this")(),It=bg,jg=It,wg=jg.Symbol,ea=wg,zu=ea,Zm=Object.prototype,_g=Zm.hasOwnProperty,Ng=Zm.toString,Jn=zu?zu.toStringTag:void 0;function Og(e){var t=_g.call(e,Jn),r=e[Jn];try{e[Jn]=void 0;var n=!0}catch{}var a=Ng.call(e);return n&&(t?e[Jn]=r:delete e[Jn]),a}var Sg=Og,Ag=Object.prototype,Pg=Ag.toString;function $g(e){return Pg.call(e)}var Tg=$g,Uu=ea,Eg=Sg,kg=Tg,Cg="[object Null]",Mg="[object Undefined]",Wu=Uu?Uu.toStringTag:void 0;function Ig(e){return e==null?e===void 0?Mg:Cg:Wu&&Wu in Object(e)?Eg(e):kg(e)}var Zt=Ig;function Dg(e){return e!=null&&typeof e=="object"}var Jt=Dg,Rg=Zt,Lg=Jt,Bg="[object Symbol]";function qg(e){return typeof e=="symbol"||Lg(e)&&Rg(e)==Bg}var Bn=qg,Fg=Ze,zg=Bn,Ug=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Wg=/^\w*$/;function Hg(e,t){if(Fg(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||zg(e)?!0:Wg.test(e)||!Ug.test(e)||t!=null&&e in Object(t)}var kc=Hg;function Kg(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var hr=Kg;const qn=me(hr);var Gg=Zt,Vg=hr,Xg="[object AsyncFunction]",Yg="[object Function]",Zg="[object GeneratorFunction]",Jg="[object Proxy]";function Qg(e){if(!Vg(e))return!1;var t=Gg(e);return t==Yg||t==Zg||t==Xg||t==Jg}var Cc=Qg;const J=me(Cc);var e0=It,t0=e0["__core-js_shared__"],r0=t0,So=r0,Hu=function(){var e=/[^.]+$/.exec(So&&So.keys&&So.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function n0(e){return!!Hu&&Hu in e}var i0=n0,a0=Function.prototype,s0=a0.toString;function o0(e){if(e!=null){try{return s0.call(e)}catch{}try{return e+""}catch{}}return""}var Jm=o0,l0=Cc,c0=i0,u0=hr,d0=Jm,f0=/[\\^$.*+?()[\]{}|]/g,h0=/^\[object .+?Constructor\]$/,m0=Function.prototype,p0=Object.prototype,v0=m0.toString,x0=p0.hasOwnProperty,y0=RegExp("^"+v0.call(x0).replace(f0,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function g0(e){if(!u0(e)||c0(e))return!1;var t=l0(e)?y0:h0;return t.test(d0(e))}var b0=g0;function j0(e,t){return e?.[t]}var w0=j0,_0=b0,N0=w0;function O0(e,t){var r=N0(e,t);return _0(r)?r:void 0}var Hr=O0,S0=Hr,A0=S0(Object,"create"),Cs=A0,Ku=Cs;function P0(){this.__data__=Ku?Ku(null):{},this.size=0}var $0=P0;function T0(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var E0=T0,k0=Cs,C0="__lodash_hash_undefined__",M0=Object.prototype,I0=M0.hasOwnProperty;function D0(e){var t=this.__data__;if(k0){var r=t[e];return r===C0?void 0:r}return I0.call(t,e)?t[e]:void 0}var R0=D0,L0=Cs,B0=Object.prototype,q0=B0.hasOwnProperty;function F0(e){var t=this.__data__;return L0?t[e]!==void 0:q0.call(t,e)}var z0=F0,U0=Cs,W0="__lodash_hash_undefined__";function H0(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=U0&&t===void 0?W0:t,this}var K0=H0,G0=$0,V0=E0,X0=R0,Y0=z0,Z0=K0;function Fn(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Fn.prototype.clear=G0;Fn.prototype.delete=V0;Fn.prototype.get=X0;Fn.prototype.has=Y0;Fn.prototype.set=Z0;var J0=Fn;function Q0(){this.__data__=[],this.size=0}var eb=Q0;function tb(e,t){return e===t||e!==e&&t!==t}var Mc=tb,rb=Mc;function nb(e,t){for(var r=e.length;r--;)if(rb(e[r][0],t))return r;return-1}var Ms=nb,ib=Ms,ab=Array.prototype,sb=ab.splice;function ob(e){var t=this.__data__,r=ib(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():sb.call(t,r,1),--this.size,!0}var lb=ob,cb=Ms;function ub(e){var t=this.__data__,r=cb(t,e);return r<0?void 0:t[r][1]}var db=ub,fb=Ms;function hb(e){return fb(this.__data__,e)>-1}var mb=hb,pb=Ms;function vb(e,t){var r=this.__data__,n=pb(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var xb=vb,yb=eb,gb=lb,bb=db,jb=mb,wb=xb;function zn(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}zn.prototype.clear=yb;zn.prototype.delete=gb;zn.prototype.get=bb;zn.prototype.has=jb;zn.prototype.set=wb;var Is=zn,_b=Hr,Nb=It,Ob=_b(Nb,"Map"),Ic=Ob,Gu=J0,Sb=Is,Ab=Ic;function Pb(){this.size=0,this.__data__={hash:new Gu,map:new(Ab||Sb),string:new Gu}}var $b=Pb;function Tb(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Eb=Tb,kb=Eb;function Cb(e,t){var r=e.__data__;return kb(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Ds=Cb,Mb=Ds;function Ib(e){var t=Mb(this,e).delete(e);return this.size-=t?1:0,t}var Db=Ib,Rb=Ds;function Lb(e){return Rb(this,e).get(e)}var Bb=Lb,qb=Ds;function Fb(e){return qb(this,e).has(e)}var zb=Fb,Ub=Ds;function Wb(e,t){var r=Ub(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Hb=Wb,Kb=$b,Gb=Db,Vb=Bb,Xb=zb,Yb=Hb;function Un(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Un.prototype.clear=Kb;Un.prototype.delete=Gb;Un.prototype.get=Vb;Un.prototype.has=Xb;Un.prototype.set=Yb;var Dc=Un,Qm=Dc,Zb="Expected a function";function Rc(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Zb);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var o=e.apply(this,n);return r.cache=s.set(a,o)||s,o};return r.cache=new(Rc.Cache||Qm),r}Rc.Cache=Qm;var ep=Rc;const Jb=me(ep);var Qb=ep,ej=500;function tj(e){var t=Qb(e,function(n){return r.size===ej&&r.clear(),n}),r=t.cache;return t}var rj=tj,nj=rj,ij=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,aj=/\\(\\)?/g,sj=nj(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(ij,function(r,n,a,s){t.push(a?s.replace(aj,"$1"):n||r)}),t}),oj=sj;function lj(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var Lc=lj,Vu=ea,cj=Lc,uj=Ze,dj=Bn,Xu=Vu?Vu.prototype:void 0,Yu=Xu?Xu.toString:void 0;function tp(e){if(typeof e=="string")return e;if(uj(e))return cj(e,tp)+"";if(dj(e))return Yu?Yu.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var fj=tp,hj=fj;function mj(e){return e==null?"":hj(e)}var rp=mj,pj=Ze,vj=kc,xj=oj,yj=rp;function gj(e,t){return pj(e)?e:vj(e,t)?[e]:xj(yj(e))}var np=gj,bj=Bn;function jj(e){if(typeof e=="string"||bj(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Rs=jj,wj=np,_j=Rs;function Nj(e,t){t=wj(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[_j(t[r++])];return r&&r==n?e:void 0}var Bc=Nj,Oj=Bc;function Sj(e,t,r){var n=e==null?void 0:Oj(e,t);return n===void 0?r:n}var ip=Sj;const nt=me(ip);function Aj(e){return e==null}var Pj=Aj;const te=me(Pj);var $j=Zt,Tj=Ze,Ej=Jt,kj="[object String]";function Cj(e){return typeof e=="string"||!Tj(e)&&Ej(e)&&$j(e)==kj}var Mj=Cj;const Dr=me(Mj);var ap={exports:{}},fe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qc=Symbol.for("react.element"),Fc=Symbol.for("react.portal"),Ls=Symbol.for("react.fragment"),Bs=Symbol.for("react.strict_mode"),qs=Symbol.for("react.profiler"),Fs=Symbol.for("react.provider"),zs=Symbol.for("react.context"),Ij=Symbol.for("react.server_context"),Us=Symbol.for("react.forward_ref"),Ws=Symbol.for("react.suspense"),Hs=Symbol.for("react.suspense_list"),Ks=Symbol.for("react.memo"),Gs=Symbol.for("react.lazy"),Dj=Symbol.for("react.offscreen"),sp;sp=Symbol.for("react.module.reference");function mt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case qc:switch(e=e.type,e){case Ls:case qs:case Bs:case Ws:case Hs:return e;default:switch(e=e&&e.$$typeof,e){case Ij:case zs:case Us:case Gs:case Ks:case Fs:return e;default:return t}}case Fc:return t}}}fe.ContextConsumer=zs;fe.ContextProvider=Fs;fe.Element=qc;fe.ForwardRef=Us;fe.Fragment=Ls;fe.Lazy=Gs;fe.Memo=Ks;fe.Portal=Fc;fe.Profiler=qs;fe.StrictMode=Bs;fe.Suspense=Ws;fe.SuspenseList=Hs;fe.isAsyncMode=function(){return!1};fe.isConcurrentMode=function(){return!1};fe.isContextConsumer=function(e){return mt(e)===zs};fe.isContextProvider=function(e){return mt(e)===Fs};fe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===qc};fe.isForwardRef=function(e){return mt(e)===Us};fe.isFragment=function(e){return mt(e)===Ls};fe.isLazy=function(e){return mt(e)===Gs};fe.isMemo=function(e){return mt(e)===Ks};fe.isPortal=function(e){return mt(e)===Fc};fe.isProfiler=function(e){return mt(e)===qs};fe.isStrictMode=function(e){return mt(e)===Bs};fe.isSuspense=function(e){return mt(e)===Ws};fe.isSuspenseList=function(e){return mt(e)===Hs};fe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ls||e===qs||e===Bs||e===Ws||e===Hs||e===Dj||typeof e=="object"&&e!==null&&(e.$$typeof===Gs||e.$$typeof===Ks||e.$$typeof===Fs||e.$$typeof===zs||e.$$typeof===Us||e.$$typeof===sp||e.getModuleId!==void 0)};fe.typeOf=mt;ap.exports=fe;var Rj=ap.exports,Lj=Zt,Bj=Jt,qj="[object Number]";function Fj(e){return typeof e=="number"||Bj(e)&&Lj(e)==qj}var op=Fj;const zj=me(op);var Uj=op;function Wj(e){return Uj(e)&&e!=+e}var Hj=Wj;const Wn=me(Hj);var He=function(t){return t===0?0:t>0?1:-1},Pr=function(t){return Dr(t)&&t.indexOf("%")===t.length-1},B=function(t){return zj(t)&&!Wn(t)},Kj=function(t){return te(t)},De=function(t){return B(t)||Dr(t)},Gj=0,Kr=function(t){var r=++Gj;return"".concat(t||"").concat(r)},Ke=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!B(t)&&!Dr(t))return n;var s;if(Pr(t)){var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return Wn(s)&&(s=n),a&&s>r&&(s=r),s},nr=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Vj=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Ie=function(t,r){return B(t)&&B(r)?function(n){return t+n*(r-t)}:function(){return r}};function $a(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):nt(n,t))===r})}var Xj=function(t,r){return B(t)&&B(r)?t-r:Dr(t)&&Dr(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function ln(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function rl(e){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rl(e)}var Yj=["viewBox","children"],Zj=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Zu=["points","pathLength"],Ao={svg:Yj,polygon:Zu,polyline:Zu},zc=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ta=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(I.isValidElement(t)&&(n=t.props),!qn(n))return null;var a={};return Object.keys(n).forEach(function(s){zc.includes(s)&&(a[s]=r||function(o){return n[s](n,o)})}),a},Jj=function(t,r,n){return function(a){return t(r,n,a),null}},Rr=function(t,r,n){if(!qn(t)||rl(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(s){var o=t[s];zc.includes(s)&&typeof o=="function"&&(a||(a={}),a[s]=Jj(o,r,n))}),a},Qj=["children"],ew=["children"];function Ju(e,t){if(e==null)return{};var r=tw(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tw(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nl(e){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nl(e)}var Qu={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ht=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},ed=null,Po=null,Uc=function e(t){if(t===ed&&Array.isArray(Po))return Po;var r=[];return I.Children.forEach(t,function(n){te(n)||(Rj.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Po=r,ed=t,r};function it(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Ht(a)}):n=[Ht(t)],Uc(e).forEach(function(a){var s=nt(a,"type.displayName")||nt(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function tt(e,t){var r=it(e,t);return r&&r[0]}var td=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!B(n)||n<=0||!B(a)||a<=0)},rw=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],nw=function(t){return t&&t.type&&Dr(t.type)&&rw.indexOf(t.type)>=0},lp=function(t){return t&&nl(t)==="object"&&"clipDot"in t},iw=function(t,r,n,a){var s,o=(s=Ao?.[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!J(t)&&(a&&o.includes(r)||Zj.includes(r))||n&&zc.includes(r)},X=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(I.isValidElement(t)&&(a=t.props),!qn(a))return null;var s={};return Object.keys(a).forEach(function(o){var l;iw((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=a[o])}),s},il=function e(t,r){if(t===r)return!0;var n=I.Children.count(t);if(n!==I.Children.count(r))return!1;if(n===0)return!0;if(n===1)return rd(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=t[a],o=r[a];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!rd(s,o))return!1}return!0},rd=function(t,r){if(te(t)&&te(r))return!0;if(!te(t)&&!te(r)){var n=t.props||{},a=n.children,s=Ju(n,Qj),o=r.props||{},l=o.children,c=Ju(o,ew);return a&&l?ln(s,c)&&il(a,l):!a&&!l?ln(s,c):!1}return!1},nd=function(t,r){var n=[],a={};return Uc(t).forEach(function(s,o){if(nw(s))n.push(s);else if(s){var l=Ht(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(s,l,o);n.push(f),a[l]=!0}}}),n},aw=function(t){var r=t&&t.type;return r&&Qu[r]?Qu[r]:null},sw=function(t,r){return Uc(r).indexOf(t)},ow=["children","width","height","viewBox","className","style","title","desc"];function al(){return al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},al.apply(this,arguments)}function lw(e,t){if(e==null)return{};var r=cw(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cw(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sl(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,s=e.className,o=e.style,l=e.title,c=e.desc,u=lw(e,ow),d=a||{width:r,height:n,x:0,y:0},f=re("recharts-surface",s);return O.createElement("svg",al({},X(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),O.createElement("title",null,l),O.createElement("desc",null,c),t)}var uw=["children","className"];function ol(){return ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ol.apply(this,arguments)}function dw(e,t){if(e==null)return{};var r=fw(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fw(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var se=O.forwardRef(function(e,t){var r=e.children,n=e.className,a=dw(e,uw),s=re("recharts-layer",n);return O.createElement("g",ol({className:s},X(a,!0),{ref:t}),r)}),bt=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function hw(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+t];return s}var mw=hw,pw=mw;function vw(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:pw(e,t,r)}var xw=vw,yw="\\ud800-\\udfff",gw="\\u0300-\\u036f",bw="\\ufe20-\\ufe2f",jw="\\u20d0-\\u20ff",ww=gw+bw+jw,_w="\\ufe0e\\ufe0f",Nw="\\u200d",Ow=RegExp("["+Nw+yw+ww+_w+"]");function Sw(e){return Ow.test(e)}var cp=Sw;function Aw(e){return e.split("")}var Pw=Aw,up="\\ud800-\\udfff",$w="\\u0300-\\u036f",Tw="\\ufe20-\\ufe2f",Ew="\\u20d0-\\u20ff",kw=$w+Tw+Ew,Cw="\\ufe0e\\ufe0f",Mw="["+up+"]",ll="["+kw+"]",cl="\\ud83c[\\udffb-\\udfff]",Iw="(?:"+ll+"|"+cl+")",dp="[^"+up+"]",fp="(?:\\ud83c[\\udde6-\\uddff]){2}",hp="[\\ud800-\\udbff][\\udc00-\\udfff]",Dw="\\u200d",mp=Iw+"?",pp="["+Cw+"]?",Rw="(?:"+Dw+"(?:"+[dp,fp,hp].join("|")+")"+pp+mp+")*",Lw=pp+mp+Rw,Bw="(?:"+[dp+ll+"?",ll,fp,hp,Mw].join("|")+")",qw=RegExp(cl+"(?="+cl+")|"+Bw+Lw,"g");function Fw(e){return e.match(qw)||[]}var zw=Fw,Uw=Pw,Ww=cp,Hw=zw;function Kw(e){return Ww(e)?Hw(e):Uw(e)}var Gw=Kw,Vw=xw,Xw=cp,Yw=Gw,Zw=rp;function Jw(e){return function(t){t=Zw(t);var r=Xw(t)?Yw(t):void 0,n=r?r[0]:t.charAt(0),a=r?Vw(r,1).join(""):t.slice(1);return n[e]()+a}}var Qw=Jw,e1=Qw,t1=e1("toUpperCase"),r1=t1;const Vs=me(r1);function xe(e){return function(){return e}}const vp=Math.cos,Ea=Math.sin,St=Math.sqrt,ka=Math.PI,Xs=2*ka,ul=Math.PI,dl=2*ul,Nr=1e-6,n1=dl-Nr;function xp(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function i1(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return xp;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class a1{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?xp:i1(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Nr)if(!(Math.abs(f*c-u*d)>Nr)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,p=a-l,x=c*c+u*u,v=m*m+p*p,j=Math.sqrt(x),b=Math.sqrt(h),w=s*Math.tan((ul-Math.acos((x+h-v)/(2*j*b)))/2),_=w/b,y=w/j;Math.abs(_-1)>Nr&&this._append`L${t+_*d},${r+_*f}`,this._append`A${s},${s},0,0,${+(f*m>d*p)},${this._x1=t+y*c},${this._y1=r+y*u}`}}arc(t,r,n,a,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Nr||Math.abs(this._y1-d)>Nr)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%dl+dl),h>n1?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Nr&&this._append`A${n},${n},0,${+(h>=ul)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Wc(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new a1(t)}function Hc(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function yp(e){this._context=e}yp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ys(e){return new yp(e)}function gp(e){return e[0]}function bp(e){return e[1]}function jp(e,t){var r=xe(!0),n=null,a=Ys,s=null,o=Wc(l);e=typeof e=="function"?e:e===void 0?gp:xe(e),t=typeof t=="function"?t:t===void 0?bp:xe(t);function l(c){var u,d=(c=Hc(c)).length,f,h=!1,m;for(n==null&&(s=a(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:xe(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:xe(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:xe(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function da(e,t,r){var n=null,a=xe(!0),s=null,o=Ys,l=null,c=Wc(u);e=typeof e=="function"?e:e===void 0?gp:xe(+e),t=typeof t=="function"?t:xe(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?bp:xe(+r);function u(f){var h,m,p,x=(f=Hc(f)).length,v,j=!1,b,w=new Array(x),_=new Array(x);for(s==null&&(l=o(b=c())),h=0;h<=x;++h){if(!(h<x&&a(v=f[h],h,f))===j)if(j=!j)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=h-1;p>=m;--p)l.point(w[p],_[p]);l.lineEnd(),l.areaEnd()}j&&(w[h]=+e(v,h,f),_[h]=+t(v,h,f),l.point(n?+n(v,h,f):w[h],r?+r(v,h,f):_[h]))}if(b)return l=null,b+""||null}function d(){return jp().defined(a).curve(o).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:xe(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:xe(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:xe(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:xe(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:xe(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:xe(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:xe(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,s!=null&&(l=o(s)),u):o},u.context=function(f){return arguments.length?(f==null?s=l=null:l=o(s=f),u):s},u}class wp{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function s1(e){return new wp(e,!0)}function o1(e){return new wp(e,!1)}const Kc={draw(e,t){const r=St(t/ka);e.moveTo(r,0),e.arc(0,0,r,0,Xs)}},l1={draw(e,t){const r=St(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},_p=St(1/3),c1=_p*2,u1={draw(e,t){const r=St(t/c1),n=r*_p;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},d1={draw(e,t){const r=St(t),n=-r/2;e.rect(n,n,r,r)}},f1=.8908130915292852,Np=Ea(ka/10)/Ea(7*ka/10),h1=Ea(Xs/10)*Np,m1=-vp(Xs/10)*Np,p1={draw(e,t){const r=St(t*f1),n=h1*r,a=m1*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const o=Xs*s/5,l=vp(o),c=Ea(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},$o=St(3),v1={draw(e,t){const r=-St(t/($o*3));e.moveTo(0,r*2),e.lineTo(-$o*r,-r),e.lineTo($o*r,-r),e.closePath()}},st=-.5,ot=St(3)/2,fl=1/St(12),x1=(fl/2+1)*3,y1={draw(e,t){const r=St(t/x1),n=r/2,a=r*fl,s=n,o=r*fl+r,l=-s,c=o;e.moveTo(n,a),e.lineTo(s,o),e.lineTo(l,c),e.lineTo(st*n-ot*a,ot*n+st*a),e.lineTo(st*s-ot*o,ot*s+st*o),e.lineTo(st*l-ot*c,ot*l+st*c),e.lineTo(st*n+ot*a,st*a-ot*n),e.lineTo(st*s+ot*o,st*o-ot*s),e.lineTo(st*l+ot*c,st*c-ot*l),e.closePath()}};function g1(e,t){let r=null,n=Wc(a);e=typeof e=="function"?e:xe(e||Kc),t=typeof t=="function"?t:xe(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:xe(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:xe(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function Ca(){}function Ma(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Op(e){this._context=e}Op.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ma(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ma(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function b1(e){return new Op(e)}function Sp(e){this._context=e}Sp.prototype={areaStart:Ca,areaEnd:Ca,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ma(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function j1(e){return new Sp(e)}function Ap(e){this._context=e}Ap.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ma(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function w1(e){return new Ap(e)}function Pp(e){this._context=e}Pp.prototype={areaStart:Ca,areaEnd:Ca,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function _1(e){return new Pp(e)}function id(e){return e<0?-1:1}function ad(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(s*a+o*n)/(n+a);return(id(s)+id(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function sd(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function To(e,t,r){var n=e._x0,a=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,o-l*r,s,o)}function Ia(e){this._context=e}Ia.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:To(this,this._t0,sd(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,To(this,sd(this,r=ad(this,e,t)),r);break;default:To(this,this._t0,r=ad(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function $p(e){this._context=new Tp(e)}($p.prototype=Object.create(Ia.prototype)).point=function(e,t){Ia.prototype.point.call(this,t,e)};function Tp(e){this._context=e}Tp.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function N1(e){return new Ia(e)}function O1(e){return new $p(e)}function Ep(e){this._context=e}Ep.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=od(e),a=od(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function od(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),o=new Array(r);for(a[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function S1(e){return new Ep(e)}function Zs(e,t){this._context=e,this._t=t}Zs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function A1(e){return new Zs(e,.5)}function P1(e){return new Zs(e,0)}function $1(e){return new Zs(e,1)}function hn(e,t){if((o=e.length)>1)for(var r=1,n,a,s=e[t[0]],o,l=s.length;r<o;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function hl(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function T1(e,t){return e[t]}function E1(e){const t=[];return t.key=e,t}function k1(){var e=xe([]),t=hl,r=hn,n=T1;function a(s){var o=Array.from(e.apply(this,arguments),E1),l,c=o.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,s)]).data=f;for(l=0,d=Hc(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:xe(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:xe(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?hl:typeof s=="function"?s:xe(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??hn,a):r},a}function C1(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,o;a<s;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}hn(e,t)}}function M1(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}hn(e,t)}}function I1(e,t){if(!(!((o=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,o;n<s;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,p=0;p<l;++p){var x=e[t[p]],v=x[n][1]||0,j=x[n-1][1]||0;m+=v-j}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,hn(e,t)}}function yi(e){"@babel/helpers - typeof";return yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yi(e)}var D1=["type","size","sizeType"];function ml(){return ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ml.apply(this,arguments)}function ld(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ld(Object(r),!0).forEach(function(n){R1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ld(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R1(e,t,r){return t=L1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L1(e){var t=B1(e,"string");return yi(t)=="symbol"?t:t+""}function B1(e,t){if(yi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q1(e,t){if(e==null)return{};var r=F1(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function F1(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var kp={symbolCircle:Kc,symbolCross:l1,symbolDiamond:u1,symbolSquare:d1,symbolStar:p1,symbolTriangle:v1,symbolWye:y1},z1=Math.PI/180,U1=function(t){var r="symbol".concat(Vs(t));return kp[r]||Kc},W1=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*z1;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},H1=function(t,r){kp["symbol".concat(Vs(t))]=r},Gc=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,s=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=q1(t,D1),u=cd(cd({},c),{},{type:n,size:s,sizeType:l}),d=function(){var v=U1(n),j=g1().type(v).size(W1(s,l,n));return j()},f=u.className,h=u.cx,m=u.cy,p=X(u,!0);return h===+h&&m===+m&&s===+s?O.createElement("path",ml({},p,{className:re("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};Gc.registerSymbol=H1;function mn(e){"@babel/helpers - typeof";return mn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mn(e)}function pl(){return pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pl.apply(this,arguments)}function ud(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function K1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ud(Object(r),!0).forEach(function(n){gi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ud(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Mp(n.key),n)}}function X1(e,t,r){return t&&V1(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y1(e,t,r){return t=Da(t),Z1(e,Cp()?Reflect.construct(t,r||[],Da(e).constructor):t.apply(e,r))}function Z1(e,t){if(t&&(mn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J1(e)}function J1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cp=function(){return!!e})()}function Da(e){return Da=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Da(e)}function Q1(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vl(e,t)}function vl(e,t){return vl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vl(e,t)}function gi(e,t,r){return t=Mp(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mp(e){var t=e_(e,"string");return mn(t)=="symbol"?t:t+""}function e_(e,t){if(mn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lt=32,Vc=function(e){function t(){return G1(this,t),Y1(this,t,arguments)}return Q1(t,e),X1(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=lt/2,o=lt/6,l=lt/3,c=n.inactive?a:n.color;if(n.type==="plainline")return O.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:lt,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return O.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(lt,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return O.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(lt/8,"h").concat(lt,"v").concat(lt*3/4,"h").concat(-lt,"z"),className:"recharts-legend-icon"});if(O.isValidElement(n.legendIcon)){var u=K1({},n);return delete u.legendIcon,O.cloneElement(n.legendIcon,u)}return O.createElement(Gc,{fill:c,cx:s,cy:s,size:lt,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:lt,height:lt},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(m,p){var x=m.formatter||c,v=re(gi(gi({"recharts-legend-item":!0},"legend-item-".concat(p),!0),"inactive",m.inactive));if(m.type==="none")return null;var j=J(m.value)?null:m.value;bt(!J(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=m.inactive?u:m.color;return O.createElement("li",pl({className:v,style:f,key:"legend-item-".concat(p)},Rr(n.props,m,p)),O.createElement(sl,{width:o,height:o,viewBox:d,style:h},n.renderIcon(m)),O.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},x?x(j,m,p):j))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return O.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(I.PureComponent);gi(Vc,"displayName","Legend");gi(Vc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var t_=Is;function r_(){this.__data__=new t_,this.size=0}var n_=r_;function i_(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var a_=i_;function s_(e){return this.__data__.get(e)}var o_=s_;function l_(e){return this.__data__.has(e)}var c_=l_,u_=Is,d_=Ic,f_=Dc,h_=200;function m_(e,t){var r=this.__data__;if(r instanceof u_){var n=r.__data__;if(!d_||n.length<h_-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new f_(n)}return r.set(e,t),this.size=r.size,this}var p_=m_,v_=Is,x_=n_,y_=a_,g_=o_,b_=c_,j_=p_;function Hn(e){var t=this.__data__=new v_(e);this.size=t.size}Hn.prototype.clear=x_;Hn.prototype.delete=y_;Hn.prototype.get=g_;Hn.prototype.has=b_;Hn.prototype.set=j_;var Ip=Hn,w_="__lodash_hash_undefined__";function __(e){return this.__data__.set(e,w_),this}var N_=__;function O_(e){return this.__data__.has(e)}var S_=O_,A_=Dc,P_=N_,$_=S_;function Ra(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new A_;++t<r;)this.add(e[t])}Ra.prototype.add=Ra.prototype.push=P_;Ra.prototype.has=$_;var Dp=Ra;function T_(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Rp=T_;function E_(e,t){return e.has(t)}var Lp=E_,k_=Dp,C_=Rp,M_=Lp,I_=1,D_=2;function R_(e,t,r,n,a,s){var o=r&I_,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&D_?new k_:void 0;for(s.set(e,t),s.set(t,e);++f<l;){var p=e[f],x=t[f];if(n)var v=o?n(x,p,f,t,e,s):n(p,x,f,e,t,s);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!C_(t,function(j,b){if(!M_(m,b)&&(p===j||a(p,j,r,n,s)))return m.push(b)})){h=!1;break}}else if(!(p===x||a(p,x,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var Bp=R_,L_=It,B_=L_.Uint8Array,q_=B_;function F_(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var z_=F_;function U_(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Xc=U_,dd=ea,fd=q_,W_=Mc,H_=Bp,K_=z_,G_=Xc,V_=1,X_=2,Y_="[object Boolean]",Z_="[object Date]",J_="[object Error]",Q_="[object Map]",eN="[object Number]",tN="[object RegExp]",rN="[object Set]",nN="[object String]",iN="[object Symbol]",aN="[object ArrayBuffer]",sN="[object DataView]",hd=dd?dd.prototype:void 0,Eo=hd?hd.valueOf:void 0;function oN(e,t,r,n,a,s,o){switch(r){case sN:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case aN:return!(e.byteLength!=t.byteLength||!s(new fd(e),new fd(t)));case Y_:case Z_:case eN:return W_(+e,+t);case J_:return e.name==t.name&&e.message==t.message;case tN:case nN:return e==t+"";case Q_:var l=K_;case rN:var c=n&V_;if(l||(l=G_),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=X_,o.set(e,t);var d=H_(l(e),l(t),n,a,s,o);return o.delete(e),d;case iN:if(Eo)return Eo.call(e)==Eo.call(t)}return!1}var lN=oN;function cN(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var qp=cN,uN=qp,dN=Ze;function fN(e,t,r){var n=t(e);return dN(e)?n:uN(n,r(e))}var hN=fN;function mN(e,t){for(var r=-1,n=e==null?0:e.length,a=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[a++]=o)}return s}var pN=mN;function vN(){return[]}var xN=vN,yN=pN,gN=xN,bN=Object.prototype,jN=bN.propertyIsEnumerable,md=Object.getOwnPropertySymbols,wN=md?function(e){return e==null?[]:(e=Object(e),yN(md(e),function(t){return jN.call(e,t)}))}:gN,_N=wN;function NN(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var ON=NN,SN=Zt,AN=Jt,PN="[object Arguments]";function $N(e){return AN(e)&&SN(e)==PN}var TN=$N,pd=TN,EN=Jt,Fp=Object.prototype,kN=Fp.hasOwnProperty,CN=Fp.propertyIsEnumerable,MN=pd(function(){return arguments}())?pd:function(e){return EN(e)&&kN.call(e,"callee")&&!CN.call(e,"callee")},Yc=MN,La={exports:{}};function IN(){return!1}var DN=IN;La.exports;(function(e,t){var r=It,n=DN,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(La,La.exports);var zp=La.exports,RN=9007199254740991,LN=/^(?:0|[1-9]\d*)$/;function BN(e,t){var r=typeof e;return t=t??RN,!!t&&(r=="number"||r!="symbol"&&LN.test(e))&&e>-1&&e%1==0&&e<t}var Zc=BN,qN=9007199254740991;function FN(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=qN}var Jc=FN,zN=Zt,UN=Jc,WN=Jt,HN="[object Arguments]",KN="[object Array]",GN="[object Boolean]",VN="[object Date]",XN="[object Error]",YN="[object Function]",ZN="[object Map]",JN="[object Number]",QN="[object Object]",eO="[object RegExp]",tO="[object Set]",rO="[object String]",nO="[object WeakMap]",iO="[object ArrayBuffer]",aO="[object DataView]",sO="[object Float32Array]",oO="[object Float64Array]",lO="[object Int8Array]",cO="[object Int16Array]",uO="[object Int32Array]",dO="[object Uint8Array]",fO="[object Uint8ClampedArray]",hO="[object Uint16Array]",mO="[object Uint32Array]",be={};be[sO]=be[oO]=be[lO]=be[cO]=be[uO]=be[dO]=be[fO]=be[hO]=be[mO]=!0;be[HN]=be[KN]=be[iO]=be[GN]=be[aO]=be[VN]=be[XN]=be[YN]=be[ZN]=be[JN]=be[QN]=be[eO]=be[tO]=be[rO]=be[nO]=!1;function pO(e){return WN(e)&&UN(e.length)&&!!be[zN(e)]}var vO=pO;function xO(e){return function(t){return e(t)}}var Up=xO,Ba={exports:{}};Ba.exports;(function(e,t){var r=Ym,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,o=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Ba,Ba.exports);var yO=Ba.exports,gO=vO,bO=Up,vd=yO,xd=vd&&vd.isTypedArray,jO=xd?bO(xd):gO,Wp=jO,wO=ON,_O=Yc,NO=Ze,OO=zp,SO=Zc,AO=Wp,PO=Object.prototype,$O=PO.hasOwnProperty;function TO(e,t){var r=NO(e),n=!r&&_O(e),a=!r&&!n&&OO(e),s=!r&&!n&&!a&&AO(e),o=r||n||a||s,l=o?wO(e.length,String):[],c=l.length;for(var u in e)(t||$O.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||SO(u,c)))&&l.push(u);return l}var EO=TO,kO=Object.prototype;function CO(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||kO;return e===r}var MO=CO;function IO(e,t){return function(r){return e(t(r))}}var Hp=IO,DO=Hp,RO=DO(Object.keys,Object),LO=RO,BO=MO,qO=LO,FO=Object.prototype,zO=FO.hasOwnProperty;function UO(e){if(!BO(e))return qO(e);var t=[];for(var r in Object(e))zO.call(e,r)&&r!="constructor"&&t.push(r);return t}var WO=UO,HO=Cc,KO=Jc;function GO(e){return e!=null&&KO(e.length)&&!HO(e)}var ta=GO,VO=EO,XO=WO,YO=ta;function ZO(e){return YO(e)?VO(e):XO(e)}var Js=ZO,JO=hN,QO=_N,eS=Js;function tS(e){return JO(e,eS,QO)}var rS=tS,yd=rS,nS=1,iS=Object.prototype,aS=iS.hasOwnProperty;function sS(e,t,r,n,a,s){var o=r&nS,l=yd(e),c=l.length,u=yd(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:aS.call(t,h)))return!1}var m=s.get(e),p=s.get(t);if(m&&p)return m==t&&p==e;var x=!0;s.set(e,t),s.set(t,e);for(var v=o;++f<c;){h=l[f];var j=e[h],b=t[h];if(n)var w=o?n(b,j,h,t,e,s):n(j,b,h,e,t,s);if(!(w===void 0?j===b||a(j,b,r,n,s):w)){x=!1;break}v||(v=h=="constructor")}if(x&&!v){var _=e.constructor,y=t.constructor;_!=y&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof y=="function"&&y instanceof y)&&(x=!1)}return s.delete(e),s.delete(t),x}var oS=sS,lS=Hr,cS=It,uS=lS(cS,"DataView"),dS=uS,fS=Hr,hS=It,mS=fS(hS,"Promise"),pS=mS,vS=Hr,xS=It,yS=vS(xS,"Set"),Kp=yS,gS=Hr,bS=It,jS=gS(bS,"WeakMap"),wS=jS,xl=dS,yl=Ic,gl=pS,bl=Kp,jl=wS,Gp=Zt,Kn=Jm,gd="[object Map]",_S="[object Object]",bd="[object Promise]",jd="[object Set]",wd="[object WeakMap]",_d="[object DataView]",NS=Kn(xl),OS=Kn(yl),SS=Kn(gl),AS=Kn(bl),PS=Kn(jl),Or=Gp;(xl&&Or(new xl(new ArrayBuffer(1)))!=_d||yl&&Or(new yl)!=gd||gl&&Or(gl.resolve())!=bd||bl&&Or(new bl)!=jd||jl&&Or(new jl)!=wd)&&(Or=function(e){var t=Gp(e),r=t==_S?e.constructor:void 0,n=r?Kn(r):"";if(n)switch(n){case NS:return _d;case OS:return gd;case SS:return bd;case AS:return jd;case PS:return wd}return t});var $S=Or,ko=Ip,TS=Bp,ES=lN,kS=oS,Nd=$S,Od=Ze,Sd=zp,CS=Wp,MS=1,Ad="[object Arguments]",Pd="[object Array]",fa="[object Object]",IS=Object.prototype,$d=IS.hasOwnProperty;function DS(e,t,r,n,a,s){var o=Od(e),l=Od(t),c=o?Pd:Nd(e),u=l?Pd:Nd(t);c=c==Ad?fa:c,u=u==Ad?fa:u;var d=c==fa,f=u==fa,h=c==u;if(h&&Sd(e)){if(!Sd(t))return!1;o=!0,d=!1}if(h&&!d)return s||(s=new ko),o||CS(e)?TS(e,t,r,n,a,s):ES(e,t,c,r,n,a,s);if(!(r&MS)){var m=d&&$d.call(e,"__wrapped__"),p=f&&$d.call(t,"__wrapped__");if(m||p){var x=m?e.value():e,v=p?t.value():t;return s||(s=new ko),a(x,v,r,n,s)}}return h?(s||(s=new ko),kS(e,t,r,n,a,s)):!1}var RS=DS,LS=RS,Td=Jt;function Vp(e,t,r,n,a){return e===t?!0:e==null||t==null||!Td(e)&&!Td(t)?e!==e&&t!==t:LS(e,t,r,n,Vp,a)}var Qc=Vp,BS=Ip,qS=Qc,FS=1,zS=2;function US(e,t,r,n){var a=r.length,s=a,o=!n;if(e==null)return!s;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new BS;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?qS(d,u,FS|zS,n,f):h))return!1}}return!0}var WS=US,HS=hr;function KS(e){return e===e&&!HS(e)}var Xp=KS,GS=Xp,VS=Js;function XS(e){for(var t=VS(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,GS(a)]}return t}var YS=XS;function ZS(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var Yp=ZS,JS=WS,QS=YS,eA=Yp;function tA(e){var t=QS(e);return t.length==1&&t[0][2]?eA(t[0][0],t[0][1]):function(r){return r===e||JS(r,e,t)}}var rA=tA;function nA(e,t){return e!=null&&t in Object(e)}var iA=nA,aA=np,sA=Yc,oA=Ze,lA=Zc,cA=Jc,uA=Rs;function dA(e,t,r){t=aA(t,e);for(var n=-1,a=t.length,s=!1;++n<a;){var o=uA(t[n]);if(!(s=e!=null&&r(e,o)))break;e=e[o]}return s||++n!=a?s:(a=e==null?0:e.length,!!a&&cA(a)&&lA(o,a)&&(oA(e)||sA(e)))}var fA=dA,hA=iA,mA=fA;function pA(e,t){return e!=null&&mA(e,t,hA)}var vA=pA,xA=Qc,yA=ip,gA=vA,bA=kc,jA=Xp,wA=Yp,_A=Rs,NA=1,OA=2;function SA(e,t){return bA(e)&&jA(t)?wA(_A(e),t):function(r){var n=yA(r,e);return n===void 0&&n===t?gA(r,e):xA(t,n,NA|OA)}}var AA=SA;function PA(e){return e}var Gn=PA;function $A(e){return function(t){return t?.[e]}}var TA=$A,EA=Bc;function kA(e){return function(t){return EA(t,e)}}var CA=kA,MA=TA,IA=CA,DA=kc,RA=Rs;function LA(e){return DA(e)?MA(RA(e)):IA(e)}var BA=LA,qA=rA,FA=AA,zA=Gn,UA=Ze,WA=BA;function HA(e){return typeof e=="function"?e:e==null?zA:typeof e=="object"?UA(e)?FA(e[0],e[1]):qA(e):WA(e)}var Dt=HA;function KA(e,t,r,n){for(var a=e.length,s=r+(n?1:-1);n?s--:++s<a;)if(t(e[s],s,e))return s;return-1}var Zp=KA;function GA(e){return e!==e}var VA=GA;function XA(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var YA=XA,ZA=Zp,JA=VA,QA=YA;function eP(e,t,r){return t===t?QA(e,t,r):ZA(e,JA,r)}var tP=eP,rP=tP;function nP(e,t){var r=e==null?0:e.length;return!!r&&rP(e,t,0)>-1}var iP=nP;function aP(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var sP=aP;function oP(){}var lP=oP,Co=Kp,cP=lP,uP=Xc,dP=1/0,fP=Co&&1/uP(new Co([,-0]))[1]==dP?function(e){return new Co(e)}:cP,hP=fP,mP=Dp,pP=iP,vP=sP,xP=Lp,yP=hP,gP=Xc,bP=200;function jP(e,t,r){var n=-1,a=pP,s=e.length,o=!0,l=[],c=l;if(r)o=!1,a=vP;else if(s>=bP){var u=t?null:yP(e);if(u)return gP(u);o=!1,a=xP,c=new mP}else c=t?[]:l;e:for(;++n<s;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var wP=jP,_P=Dt,NP=wP;function OP(e,t){return e&&e.length?NP(e,_P(t)):[]}var SP=OP;const Ed=me(SP);function Jp(e,t,r){return t===!0?Ed(e,r):J(t)?Ed(e,t):e}function pn(e){"@babel/helpers - typeof";return pn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pn(e)}var AP=["ref"];function kd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kd(Object(r),!0).forEach(function(n){Qs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kd(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ev(n.key),n)}}function $P(e,t,r){return t&&Cd(e.prototype,t),r&&Cd(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function TP(e,t,r){return t=qa(t),EP(e,Qp()?Reflect.construct(t,r||[],qa(e).constructor):t.apply(e,r))}function EP(e,t){if(t&&(pn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kP(e)}function kP(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qp=function(){return!!e})()}function qa(e){return qa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qa(e)}function CP(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wl(e,t)}function wl(e,t){return wl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wl(e,t)}function Qs(e,t,r){return t=ev(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ev(e){var t=MP(e,"string");return pn(t)=="symbol"?t:t+""}function MP(e,t){if(pn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function IP(e,t){if(e==null)return{};var r=DP(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DP(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function RP(e){return e.value}function LP(e,t){if(O.isValidElement(e))return O.cloneElement(e,t);if(typeof e=="function")return O.createElement(e,t);t.ref;var r=IP(t,AP);return O.createElement(Vc,r)}var Md=1,cn=function(e){function t(){var r;PP(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=TP(this,t,[].concat(a)),Qs(r,"lastBoundingBox",{width:-1,height:-1}),r}return CP(t,e),$P(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>Md||Math.abs(a.height-this.lastBoundingBox.height)>Md)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Bt({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var p=this.getBBoxSnapshot();h={top:((d||0)-p.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Bt(Bt({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Bt(Bt({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return O.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},LP(s,Bt(Bt({},this.props),{},{payload:Jp(d,u,RP)})))}}],[{key:"getWithHeight",value:function(n,a){var s=Bt(Bt({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&B(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(I.PureComponent);Qs(cn,"displayName","Legend");Qs(cn,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Id=ea,BP=Yc,qP=Ze,Dd=Id?Id.isConcatSpreadable:void 0;function FP(e){return qP(e)||BP(e)||!!(Dd&&e&&e[Dd])}var zP=FP,UP=qp,WP=zP;function tv(e,t,r,n,a){var s=-1,o=e.length;for(r||(r=WP),a||(a=[]);++s<o;){var l=e[s];t>0&&r(l)?t>1?tv(l,t-1,r,n,a):UP(a,l):n||(a[a.length]=l)}return a}var rv=tv;function HP(e){return function(t,r,n){for(var a=-1,s=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(s[c],c,s)===!1)break}return t}}var KP=HP,GP=KP,VP=GP(),XP=VP,YP=XP,ZP=Js;function JP(e,t){return e&&YP(e,t,ZP)}var nv=JP,QP=ta;function e2(e,t){return function(r,n){if(r==null)return r;if(!QP(r))return e(r,n);for(var a=r.length,s=t?a:-1,o=Object(r);(t?s--:++s<a)&&n(o[s],s,o)!==!1;);return r}}var t2=e2,r2=nv,n2=t2,i2=n2(r2),eu=i2,a2=eu,s2=ta;function o2(e,t){var r=-1,n=s2(e)?Array(e.length):[];return a2(e,function(a,s,o){n[++r]=t(a,s,o)}),n}var iv=o2;function l2(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var c2=l2,Rd=Bn;function u2(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,s=Rd(e),o=t!==void 0,l=t===null,c=t===t,u=Rd(t);if(!l&&!u&&!s&&e>t||s&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!s&&!u&&e<t||u&&r&&a&&!n&&!s||l&&r&&a||!o&&a||!c)return-1}return 0}var d2=u2,f2=d2;function h2(e,t,r){for(var n=-1,a=e.criteria,s=t.criteria,o=a.length,l=r.length;++n<o;){var c=f2(a[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var m2=h2,Mo=Lc,p2=Bc,v2=Dt,x2=iv,y2=c2,g2=Up,b2=m2,j2=Gn,w2=Ze;function _2(e,t,r){t.length?t=Mo(t,function(s){return w2(s)?function(o){return p2(o,s.length===1?s[0]:s)}:s}):t=[j2];var n=-1;t=Mo(t,g2(v2));var a=x2(e,function(s,o,l){var c=Mo(t,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return y2(a,function(s,o){return b2(s,o,r)})}var N2=_2;function O2(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var S2=O2,A2=S2,Ld=Math.max;function P2(e,t,r){return t=Ld(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,s=Ld(n.length-t,0),o=Array(s);++a<s;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),A2(e,this,l)}}var $2=P2;function T2(e){return function(){return e}}var E2=T2,k2=Hr,C2=function(){try{var e=k2(Object,"defineProperty");return e({},"",{}),e}catch{}}(),av=C2,M2=E2,Bd=av,I2=Gn,D2=Bd?function(e,t){return Bd(e,"toString",{configurable:!0,enumerable:!1,value:M2(t),writable:!0})}:I2,R2=D2,L2=800,B2=16,q2=Date.now;function F2(e){var t=0,r=0;return function(){var n=q2(),a=B2-(n-r);if(r=n,a>0){if(++t>=L2)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var z2=F2,U2=R2,W2=z2,H2=W2(U2),K2=H2,G2=Gn,V2=$2,X2=K2;function Y2(e,t){return X2(V2(e,t,G2),e+"")}var Z2=Y2,J2=Mc,Q2=ta,e$=Zc,t$=hr;function r$(e,t,r){if(!t$(r))return!1;var n=typeof t;return(n=="number"?Q2(r)&&e$(t,r.length):n=="string"&&t in r)?J2(r[t],e):!1}var eo=r$,n$=rv,i$=N2,a$=Z2,qd=eo,s$=a$(function(e,t){if(e==null)return[];var r=t.length;return r>1&&qd(e,t[0],t[1])?t=[]:r>2&&qd(t[0],t[1],t[2])&&(t=[t[0]]),i$(e,n$(t,1),[])}),o$=s$;const tu=me(o$);function bi(e){"@babel/helpers - typeof";return bi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bi(e)}function _l(){return _l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_l.apply(this,arguments)}function l$(e,t){return f$(e)||d$(e,t)||u$(e,t)||c$()}function c$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u$(e,t){if(e){if(typeof e=="string")return Fd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fd(e,t)}}function Fd(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d$(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function f$(e){if(Array.isArray(e))return e}function zd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Io(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zd(Object(r),!0).forEach(function(n){h$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zd(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h$(e,t,r){return t=m$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m$(e){var t=p$(e,"string");return bi(t)=="symbol"?t:t+""}function p$(e,t){if(bi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v$(e){return Array.isArray(e)&&De(e[0])&&De(e[1])?e.join(" ~ "):e}var x$=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,s=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,p=t.labelClassName,x=t.label,v=t.labelFormatter,j=t.accessibilityLayer,b=j===void 0?!1:j,w=function(){if(d&&d.length){var $={padding:0,margin:0},k=(h?tu(d,h):d).map(function(M,C){if(M.type==="none")return null;var D=Io({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},l),R=M.formatter||f||v$,F=M.value,z=M.name,Y=F,Q=z;if(R&&Y!=null&&Q!=null){var G=R(F,z,M,C,d);if(Array.isArray(G)){var ee=l$(G,2);Y=ee[0],Q=ee[1]}else Y=G}return O.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:D},De(Q)?O.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,De(Q)?O.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,O.createElement("span",{className:"recharts-tooltip-item-value"},Y),O.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return O.createElement("ul",{className:"recharts-tooltip-item-list",style:$},k)}return null},_=Io({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),y=Io({margin:0},u),g=!te(x),N=g?x:"",S=re("recharts-default-tooltip",m),A=re("recharts-tooltip-label",p);g&&v&&d!==void 0&&d!==null&&(N=v(x,d));var T=b?{role:"status","aria-live":"assertive"}:{};return O.createElement("div",_l({className:S,style:_},T),O.createElement("p",{className:A,style:y},O.isValidElement(N)?N:"".concat(N)),w())};function ji(e){"@babel/helpers - typeof";return ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ji(e)}function ha(e,t,r){return t=y$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y$(e){var t=g$(e,"string");return ji(t)=="symbol"?t:t+""}function g$(e,t){if(ji(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ji(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qn="recharts-tooltip-wrapper",b$={visibility:"hidden"};function j$(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return re(Qn,ha(ha(ha(ha({},"".concat(Qn,"-right"),B(r)&&t&&B(t.x)&&r>=t.x),"".concat(Qn,"-left"),B(r)&&t&&B(t.x)&&r<t.x),"".concat(Qn,"-bottom"),B(n)&&t&&B(t.y)&&n>=t.y),"".concat(Qn,"-top"),B(n)&&t&&B(t.y)&&n<t.y))}function Ud(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&B(s[n]))return s[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var p=f+l,x=c[n]+u;return p>x?Math.max(d,c[n]):Math.max(f,c[n])}function w$(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function _$(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,s=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=Ud({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=Ud({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=w$({translateX:d,translateY:f,useTranslate3d:l})):u=b$,{cssProperties:u,cssClasses:j$({translateX:d,translateY:f,coordinate:r})}}function vn(e){"@babel/helpers - typeof";return vn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vn(e)}function Wd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wd(Object(r),!0).forEach(function(n){Ol(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wd(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ov(n.key),n)}}function S$(e,t,r){return t&&O$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function A$(e,t,r){return t=Fa(t),P$(e,sv()?Reflect.construct(t,r||[],Fa(e).constructor):t.apply(e,r))}function P$(e,t){if(t&&(vn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $$(e)}function $$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sv=function(){return!!e})()}function Fa(e){return Fa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fa(e)}function T$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nl(e,t)}function Nl(e,t){return Nl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Nl(e,t)}function Ol(e,t,r){return t=ov(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ov(e){var t=E$(e,"string");return vn(t)=="symbol"?t:t+""}function E$(e,t){if(vn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Kd=1,k$=function(e){function t(){var r;N$(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=A$(this,t,[].concat(a)),Ol(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Ol(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return T$(t,e),S$(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Kd||Math.abs(n.height-this.state.lastBoundingBox.height)>Kd)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,m=a.offset,p=a.position,x=a.reverseDirection,v=a.useTranslate3d,j=a.viewBox,b=a.wrapperStyle,w=_$({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:p,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:j}),_=w.cssClasses,y=w.cssProperties,g=Hd(Hd({transition:h&&s?"transform ".concat(l,"ms ").concat(c):void 0},y),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return O.createElement("div",{tabIndex:-1,className:_,style:g,ref:function(S){n.wrapperNode=S}},u)}}])}(I.PureComponent),C$=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},mr={isSsr:C$()};function xn(e){"@babel/helpers - typeof";return xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xn(e)}function Gd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gd(Object(r),!0).forEach(function(n){ru(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gd(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cv(n.key),n)}}function D$(e,t,r){return t&&I$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function R$(e,t,r){return t=za(t),L$(e,lv()?Reflect.construct(t,r||[],za(e).constructor):t.apply(e,r))}function L$(e,t){if(t&&(xn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B$(e)}function B$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lv=function(){return!!e})()}function za(e){return za=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},za(e)}function q$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sl(e,t)}function Sl(e,t){return Sl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Sl(e,t)}function ru(e,t,r){return t=cv(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cv(e){var t=F$(e,"string");return xn(t)=="symbol"?t:t+""}function F$(e,t){if(xn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function z$(e){return e.dataKey}function U$(e,t){return O.isValidElement(e)?O.cloneElement(e,t):typeof e=="function"?O.createElement(e,t):O.createElement(x$,t)}var ze=function(e){function t(){return M$(this,t),R$(this,t,arguments)}return q$(t,e),D$(t,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,m=a.offset,p=a.payload,x=a.payloadUniqBy,v=a.position,j=a.reverseDirection,b=a.useTranslate3d,w=a.viewBox,_=a.wrapperStyle,y=p??[];f&&y.length&&(y=Jp(p.filter(function(N){return N.value!=null&&(N.hide!==!0||n.props.includeHidden)}),x,z$));var g=y.length>0;return O.createElement(k$,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:s,coordinate:d,hasPayload:g,offset:m,position:v,reverseDirection:j,useTranslate3d:b,viewBox:w,wrapperStyle:_},U$(u,Vd(Vd({},this.props),{},{payload:y})))}}])}(I.PureComponent);ru(ze,"displayName","Tooltip");ru(ze,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!mr.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var W$=It,H$=function(){return W$.Date.now()},K$=H$,G$=/\s/;function V$(e){for(var t=e.length;t--&&G$.test(e.charAt(t)););return t}var X$=V$,Y$=X$,Z$=/^\s+/;function J$(e){return e&&e.slice(0,Y$(e)+1).replace(Z$,"")}var Q$=J$,eT=Q$,Xd=hr,tT=Bn,Yd=NaN,rT=/^[-+]0x[0-9a-f]+$/i,nT=/^0b[01]+$/i,iT=/^0o[0-7]+$/i,aT=parseInt;function sT(e){if(typeof e=="number")return e;if(tT(e))return Yd;if(Xd(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Xd(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=eT(e);var r=nT.test(e);return r||iT.test(e)?aT(e.slice(2),r?2:8):rT.test(e)?Yd:+e}var uv=sT,oT=hr,Do=K$,Zd=uv,lT="Expected a function",cT=Math.max,uT=Math.min;function dT(e,t,r){var n,a,s,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(lT);t=Zd(t)||0,oT(r)&&(d=!!r.leading,f="maxWait"in r,s=f?cT(Zd(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h);function m(g){var N=n,S=a;return n=a=void 0,u=g,o=e.apply(S,N),o}function p(g){return u=g,l=setTimeout(j,t),d?m(g):o}function x(g){var N=g-c,S=g-u,A=t-N;return f?uT(A,s-S):A}function v(g){var N=g-c,S=g-u;return c===void 0||N>=t||N<0||f&&S>=s}function j(){var g=Do();if(v(g))return b(g);l=setTimeout(j,x(g))}function b(g){return l=void 0,h&&n?m(g):(n=a=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function _(){return l===void 0?o:b(Do())}function y(){var g=Do(),N=v(g);if(n=arguments,a=this,c=g,N){if(l===void 0)return p(c);if(f)return clearTimeout(l),l=setTimeout(j,t),m(c)}return l===void 0&&(l=setTimeout(j,t)),o}return y.cancel=w,y.flush=_,y}var fT=dT,hT=fT,mT=hr,pT="Expected a function";function vT(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(pT);return mT(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),hT(e,t,{leading:n,maxWait:t,trailing:a})}var xT=vT;const dv=me(xT);function wi(e){"@babel/helpers - typeof";return wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wi(e)}function Jd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ma(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jd(Object(r),!0).forEach(function(n){yT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jd(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yT(e,t,r){return t=gT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gT(e){var t=bT(e,"string");return wi(t)=="symbol"?t:t+""}function bT(e,t){if(wi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jT(e,t){return OT(e)||NT(e,t)||_T(e,t)||wT()}function wT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _T(e,t){if(e){if(typeof e=="string")return Qd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qd(e,t)}}function Qd(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NT(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function OT(e){if(Array.isArray(e))return e}var lr=I.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=e.width,o=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,p=e.debounce,x=p===void 0?0:p,v=e.id,j=e.className,b=e.onResize,w=e.style,_=w===void 0?{}:w,y=I.useRef(null),g=I.useRef();g.current=b,I.useImperativeHandle(t,function(){return Object.defineProperty(y.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),y.current},configurable:!0})});var N=I.useState({containerWidth:a.width,containerHeight:a.height}),S=jT(N,2),A=S[0],T=S[1],P=I.useCallback(function(k,M){T(function(C){var D=Math.round(k),R=Math.round(M);return C.containerWidth===D&&C.containerHeight===R?C:{containerWidth:D,containerHeight:R}})},[]);I.useEffect(function(){var k=function(z){var Y,Q=z[0].contentRect,G=Q.width,ee=Q.height;P(G,ee),(Y=g.current)===null||Y===void 0||Y.call(g,G,ee)};x>0&&(k=dv(k,x,{trailing:!0,leading:!1}));var M=new ResizeObserver(k),C=y.current.getBoundingClientRect(),D=C.width,R=C.height;return P(D,R),M.observe(y.current),function(){M.disconnect()}},[P,x]);var $=I.useMemo(function(){var k=A.containerWidth,M=A.containerHeight;if(k<0||M<0)return null;bt(Pr(o)||Pr(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),bt(!r||r>0,"The aspect(%s) must be greater than zero.",r);var C=Pr(o)?k:o,D=Pr(c)?M:c;r&&r>0&&(C?D=C/r:D&&(C=D*r),h&&D>h&&(D=h)),bt(C>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,C,D,o,c,d,f,r);var R=!Array.isArray(m)&&Ht(m.type).endsWith("Chart");return O.Children.map(m,function(F){return O.isValidElement(F)?I.cloneElement(F,ma({width:C,height:D},R?{style:ma({height:"100%",width:"100%",maxHeight:D,maxWidth:C},F.props.style)}:{})):F})},[r,m,c,h,f,d,A,o]);return O.createElement("div",{id:v?"".concat(v):void 0,className:re("recharts-responsive-container",j),style:ma(ma({},_),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:y},$)}),ra=function(t){return null};ra.displayName="Cell";function _i(e){"@babel/helpers - typeof";return _i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_i(e)}function ef(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Al(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ef(Object(r),!0).forEach(function(n){ST(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ef(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ST(e,t,r){return t=AT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AT(e){var t=PT(e,"string");return _i(t)=="symbol"?t:t+""}function PT(e,t){if(_i(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_i(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zr={widthCache:{},cacheCount:0},$T=2e3,TT={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},tf="recharts_measurement_span";function ET(e){var t=Al({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var ui=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||mr.isSsr)return{width:0,height:0};var n=ET(r),a=JSON.stringify({text:t,copyStyle:n});if(Zr.widthCache[a])return Zr.widthCache[a];try{var s=document.getElementById(tf);s||(s=document.createElement("span"),s.setAttribute("id",tf),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=Al(Al({},TT),n);Object.assign(s.style,o),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return Zr.widthCache[a]=c,++Zr.cacheCount>$T&&(Zr.cacheCount=0,Zr.widthCache={}),c}catch{return{width:0,height:0}}},kT=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Ni(e){"@babel/helpers - typeof";return Ni=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ni(e)}function Ua(e,t){return DT(e)||IT(e,t)||MT(e,t)||CT()}function CT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MT(e,t){if(e){if(typeof e=="string")return rf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rf(e,t)}}function rf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function IT(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function DT(e){if(Array.isArray(e))return e}function RT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nf(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BT(n.key),n)}}function LT(e,t,r){return t&&nf(e.prototype,t),r&&nf(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function BT(e){var t=qT(e,"string");return Ni(t)=="symbol"?t:t+""}function qT(e,t){if(Ni(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ni(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var af=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sf=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,FT=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,zT=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,fv={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},UT=Object.keys(fv),tn="NaN";function WT(e,t){return e*fv[t]}var pa=function(){function e(t,r){RT(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!FT.test(r)&&(this.num=NaN,this.unit=""),UT.includes(r)&&(this.num=WT(t,r),this.unit="px")}return LT(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=zT.exec(r))!==null&&n!==void 0?n:[],s=Ua(a,3),o=s[1],l=s[2];return new e(parseFloat(o),l??"")}}])}();function hv(e){if(e.includes(tn))return tn;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=af.exec(t))!==null&&r!==void 0?r:[],a=Ua(n,4),s=a[1],o=a[2],l=a[3],c=pa.parse(s??""),u=pa.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return tn;t=t.replace(af,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=sf.exec(t))!==null&&f!==void 0?f:[],m=Ua(h,4),p=m[1],x=m[2],v=m[3],j=pa.parse(p??""),b=pa.parse(v??""),w=x==="+"?j.add(b):j.subtract(b);if(w.isNaN())return tn;t=t.replace(sf,w.toString())}return t}var of=/\(([^()]*)\)/;function HT(e){for(var t=e;t.includes("(");){var r=of.exec(t),n=Ua(r,2),a=n[1];t=t.replace(of,hv(a))}return t}function KT(e){var t=e.replace(/\s+/g,"");return t=HT(t),t=hv(t),t}function GT(e){try{return KT(e)}catch{return tn}}function Ro(e){var t=GT(e.slice(5,-1));return t===tn?"":t}var VT=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],XT=["dx","dy","angle","className","breakAll"];function Pl(){return Pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pl.apply(this,arguments)}function lf(e,t){if(e==null)return{};var r=YT(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YT(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cf(e,t){return eE(e)||QT(e,t)||JT(e,t)||ZT()}function ZT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JT(e,t){if(e){if(typeof e=="string")return uf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uf(e,t)}}function uf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QT(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function eE(e){if(Array.isArray(e))return e}var mv=/[ \f\n\r\t\v\u2028\u2029]+/,pv=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var s=[];te(r)||(n?s=r.toString().split(""):s=r.toString().split(mv));var o=s.map(function(c){return{word:c,width:ui(c,a).width}}),l=n?0:ui(" ",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},tE=function(t,r,n,a,s){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=B(o),f=l,h=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return C.reduce(function(D,R){var F=R.word,z=R.width,Y=D[D.length-1];if(Y&&(a==null||s||Y.width+z+n<Number(a)))Y.words.push(F),Y.width+=z+n;else{var Q={words:[F],width:z};D.push(Q)}return D},[])},m=h(r),p=function(C){return C.reduce(function(D,R){return D.width>R.width?D:R})};if(!d)return m;for(var x="…",v=function(C){var D=f.slice(0,C),R=pv({breakAll:u,style:c,children:D+x}).wordsWithComputedWidth,F=h(R),z=F.length>o||p(F).width>Number(a);return[z,F]},j=0,b=f.length-1,w=0,_;j<=b&&w<=f.length-1;){var y=Math.floor((j+b)/2),g=y-1,N=v(g),S=cf(N,2),A=S[0],T=S[1],P=v(y),$=cf(P,1),k=$[0];if(!A&&!k&&(j=y+1),A&&k&&(b=y-1),!A&&k){_=T;break}w++}return _||m},df=function(t){var r=te(t)?[]:t.toString().split(mv);return[{words:r}]},rE=function(t){var r=t.width,n=t.scaleToFit,a=t.children,s=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!mr.isSsr){var c,u,d=pv({breakAll:o,children:a,style:s});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return df(a);return tE({breakAll:o,children:a,maxLines:l,style:s},c,u,r,n)}return df(a)},ff="#808080",Lr=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,p=t.verticalAnchor,x=p===void 0?"end":p,v=t.fill,j=v===void 0?ff:v,b=lf(t,VT),w=I.useMemo(function(){return rE({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),_=b.dx,y=b.dy,g=b.angle,N=b.className,S=b.breakAll,A=lf(b,XT);if(!De(n)||!De(s))return null;var T=n+(B(_)?_:0),P=s+(B(y)?y:0),$;switch(x){case"start":$=Ro("calc(".concat(u,")"));break;case"middle":$=Ro("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:$=Ro("calc(".concat(w.length-1," * -").concat(l,")"));break}var k=[];if(f){var M=w[0].width,C=b.width;k.push("scale(".concat((B(C)?C/M:1)/M,")"))}return g&&k.push("rotate(".concat(g,", ").concat(T,", ").concat(P,")")),k.length&&(A.transform=k.join(" ")),O.createElement("text",Pl({},X(A,!0),{x:T,y:P,className:re("recharts-text",N),textAnchor:m,fill:j.includes("url")?ff:j}),w.map(function(D,R){var F=D.words.join(S?"":" ");return O.createElement("tspan",{x:T,dy:R===0?$:l,key:"".concat(F,"-").concat(R)},F)}))};function cr(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function nE(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function nu(e){let t,r,n;e.length!==2?(t=cr,r=(l,c)=>cr(e(l),c),n=(l,c)=>e(l)-c):(t=e===cr||e===nE?e:iE,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:s}}function iE(){return 0}function vv(e){return e===null?NaN:+e}function*aE(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const sE=nu(cr),na=sE.right;nu(vv).center;class hf extends Map{constructor(t,r=cE){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(mf(this,t))}has(t){return super.has(mf(this,t))}set(t,r){return super.set(oE(this,t),r)}delete(t){return super.delete(lE(this,t))}}function mf({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function oE({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function lE({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function cE(e){return e!==null&&typeof e=="object"?e.valueOf():e}function uE(e=cr){if(e===cr)return xv;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function xv(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const dE=Math.sqrt(50),fE=Math.sqrt(10),hE=Math.sqrt(2);function Wa(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),o=s>=dE?10:s>=fE?5:s>=hE?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Wa(e,t,r*2):[l,c,u]}function $l(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,o]=n?Wa(t,e,r):Wa(e,t,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function Tl(e,t,r){return t=+t,e=+e,r=+r,Wa(e,t,r)[2]}function El(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Tl(t,e,r):Tl(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function pf(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function vf(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function yv(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?xv:uE(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),p=Math.min(n,Math.floor(t+(c-u)*f/c+h));yv(e,t,m,p,a)}const s=e[t];let o=r,l=n;for(ei(e,r,t),a(e[n],s)>0&&ei(e,r,n);o<l;){for(ei(e,o,l),++o,--l;a(e[o],s)<0;)++o;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?ei(e,r,l):(++l,ei(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function ei(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function mE(e,t,r){if(e=Float64Array.from(aE(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return vf(e);if(t>=1)return pf(e);var n,a=(n-1)*t,s=Math.floor(a),o=pf(yv(e,s).subarray(0,s+1)),l=vf(e.subarray(s+1));return o+(l-o)*(a-s)}}function pE(e,t,r=vv){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),o=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return o+(l-o)*(a-s)}}function vE(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function pt(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Qt(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const kl=Symbol("implicit");function iu(){var e=new hf,t=[],r=[],n=kl;function a(s){let o=e.get(s);if(o===void 0){if(n!==kl)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new hf;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return iu(t,r).unknown(n)},pt.apply(a,arguments),a}function Oi(){var e=iu().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,p=m?a:n,x=m?n:a;s=(x-p)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),p+=(x-p-s*(h-c))*d,o=s*(1-c),l&&(p=Math.round(p),o=Math.round(o));var v=vE(h).map(function(j){return p+s*j});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Oi(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},pt.apply(f(),arguments)}function gv(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return gv(t())},e}function di(){return gv(Oi.apply(null,arguments).paddingInner(1))}function au(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function bv(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function ia(){}var Si=.7,Ha=1/Si,un="\\s*([+-]?\\d+)\\s*",Ai="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Et="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xE=/^#([0-9a-f]{3,8})$/,yE=new RegExp(`^rgb\\(${un},${un},${un}\\)$`),gE=new RegExp(`^rgb\\(${Et},${Et},${Et}\\)$`),bE=new RegExp(`^rgba\\(${un},${un},${un},${Ai}\\)$`),jE=new RegExp(`^rgba\\(${Et},${Et},${Et},${Ai}\\)$`),wE=new RegExp(`^hsl\\(${Ai},${Et},${Et}\\)$`),_E=new RegExp(`^hsla\\(${Ai},${Et},${Et},${Ai}\\)$`),xf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};au(ia,Pi,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:yf,formatHex:yf,formatHex8:NE,formatHsl:OE,formatRgb:gf,toString:gf});function yf(){return this.rgb().formatHex()}function NE(){return this.rgb().formatHex8()}function OE(){return jv(this).formatHsl()}function gf(){return this.rgb().formatRgb()}function Pi(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=xE.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?bf(t):r===3?new Ye(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?va(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?va(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=yE.exec(e))?new Ye(t[1],t[2],t[3],1):(t=gE.exec(e))?new Ye(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=bE.exec(e))?va(t[1],t[2],t[3],t[4]):(t=jE.exec(e))?va(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=wE.exec(e))?_f(t[1],t[2]/100,t[3]/100,1):(t=_E.exec(e))?_f(t[1],t[2]/100,t[3]/100,t[4]):xf.hasOwnProperty(e)?bf(xf[e]):e==="transparent"?new Ye(NaN,NaN,NaN,0):null}function bf(e){return new Ye(e>>16&255,e>>8&255,e&255,1)}function va(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ye(e,t,r,n)}function SE(e){return e instanceof ia||(e=Pi(e)),e?(e=e.rgb(),new Ye(e.r,e.g,e.b,e.opacity)):new Ye}function Cl(e,t,r,n){return arguments.length===1?SE(e):new Ye(e,t,r,n??1)}function Ye(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}au(Ye,Cl,bv(ia,{brighter(e){return e=e==null?Ha:Math.pow(Ha,e),new Ye(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Si:Math.pow(Si,e),new Ye(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ye(Cr(this.r),Cr(this.g),Cr(this.b),Ka(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jf,formatHex:jf,formatHex8:AE,formatRgb:wf,toString:wf}));function jf(){return`#${$r(this.r)}${$r(this.g)}${$r(this.b)}`}function AE(){return`#${$r(this.r)}${$r(this.g)}${$r(this.b)}${$r((isNaN(this.opacity)?1:this.opacity)*255)}`}function wf(){const e=Ka(this.opacity);return`${e===1?"rgb(":"rgba("}${Cr(this.r)}, ${Cr(this.g)}, ${Cr(this.b)}${e===1?")":`, ${e})`}`}function Ka(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Cr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function $r(e){return e=Cr(e),(e<16?"0":"")+e.toString(16)}function _f(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new gt(e,t,r,n)}function jv(e){if(e instanceof gt)return new gt(e.h,e.s,e.l,e.opacity);if(e instanceof ia||(e=Pi(e)),!e)return new gt;if(e instanceof gt)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-a,c=(s+a)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?s+a:2-s-a,o*=60):l=c>0&&c<1?0:o,new gt(o,l,c,e.opacity)}function PE(e,t,r,n){return arguments.length===1?jv(e):new gt(e,t,r,n??1)}function gt(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}au(gt,PE,bv(ia,{brighter(e){return e=e==null?Ha:Math.pow(Ha,e),new gt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Si:Math.pow(Si,e),new gt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Ye(Lo(e>=240?e-240:e+120,a,n),Lo(e,a,n),Lo(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new gt(Nf(this.h),xa(this.s),xa(this.l),Ka(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ka(this.opacity);return`${e===1?"hsl(":"hsla("}${Nf(this.h)}, ${xa(this.s)*100}%, ${xa(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Nf(e){return e=(e||0)%360,e<0?e+360:e}function xa(e){return Math.max(0,Math.min(1,e||0))}function Lo(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const su=e=>()=>e;function $E(e,t){return function(r){return e+r*t}}function TE(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function EE(e){return(e=+e)==1?wv:function(t,r){return r-t?TE(t,r,e):su(isNaN(t)?r:t)}}function wv(e,t){var r=t-e;return r?$E(e,r):su(isNaN(e)?t:e)}const Of=function e(t){var r=EE(t);function n(a,s){var o=r((a=Cl(a)).r,(s=Cl(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=wv(a.opacity,s.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function kE(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function CE(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ME(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)a[o]=Vn(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<n;++o)s[o]=a[o](l);return s}}function IE(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Ga(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function DE(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Vn(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var Ml=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Bo=new RegExp(Ml.source,"g");function RE(e){return function(){return e}}function LE(e){return function(t){return e(t)+""}}function BE(e,t){var r=Ml.lastIndex=Bo.lastIndex=0,n,a,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Ml.exec(e))&&(a=Bo.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:Ga(n,a)})),r=Bo.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?LE(c[0].x):RE(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Vn(e,t){var r=typeof t,n;return t==null||r==="boolean"?su(t):(r==="number"?Ga:r==="string"?(n=Pi(t))?(t=n,Of):BE:t instanceof Pi?Of:t instanceof Date?IE:CE(t)?kE:Array.isArray(t)?ME:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?DE:Ga)(e,t)}function ou(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function qE(e,t){t===void 0&&(t=e,e=Vn);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function FE(e){return function(){return e}}function Va(e){return+e}var Sf=[0,1];function Ge(e){return e}function Il(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:FE(isNaN(t)?NaN:.5)}function zE(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function UE(e,t,r){var n=e[0],a=e[1],s=t[0],o=t[1];return a<n?(n=Il(a,n),s=r(o,s)):(n=Il(n,a),s=r(s,o)),function(l){return s(n(l))}}function WE(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=Il(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var c=na(e,l,1,n)-1;return s[c](a[c](l))}}function aa(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function to(){var e=Sf,t=Sf,r=Vn,n,a,s,o=Ge,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Ge&&(o=zE(e[0],e[h-1])),l=h>2?WE:UE,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),Ga)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Va),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=ou,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Ge,d()):o!==Ge},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,m){return n=h,a=m,d()}}function lu(){return to()(Ge,Ge)}function HE(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Xa(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function yn(e){return e=Xa(Math.abs(e)),e?e[1]:NaN}function KE(e,t){return function(r,n){for(var a=r.length,s=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function GE(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var VE=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $i(e){if(!(t=VE.exec(e)))throw new Error("invalid format: "+e);var t;return new cu({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}$i.prototype=cu.prototype;function cu(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}cu.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function XE(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var _v;function YE(e,t){var r=Xa(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(_v=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Xa(e,Math.max(0,t+s-1))[0]}function Af(e,t){var r=Xa(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const Pf={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:HE,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Af(e*100,t),r:Af,s:YE,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function $f(e){return e}var Tf=Array.prototype.map,Ef=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ZE(e){var t=e.grouping===void 0||e.thousands===void 0?$f:KE(Tf.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?$f:GE(Tf.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=$i(f);var h=f.fill,m=f.align,p=f.sign,x=f.symbol,v=f.zero,j=f.width,b=f.comma,w=f.precision,_=f.trim,y=f.type;y==="n"?(b=!0,y="g"):Pf[y]||(w===void 0&&(w=12),_=!0,y="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var g=x==="$"?r:x==="#"&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",N=x==="$"?n:/[%p]/.test(y)?o:"",S=Pf[y],A=/[defgprs%]/.test(y);w=w===void 0?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function T(P){var $=g,k=N,M,C,D;if(y==="c")k=S(P)+k,P="";else{P=+P;var R=P<0||1/P<0;if(P=isNaN(P)?c:S(Math.abs(P),w),_&&(P=XE(P)),R&&+P==0&&p!=="+"&&(R=!1),$=(R?p==="("?p:l:p==="-"||p==="("?"":p)+$,k=(y==="s"?Ef[8+_v/3]:"")+k+(R&&p==="("?")":""),A){for(M=-1,C=P.length;++M<C;)if(D=P.charCodeAt(M),48>D||D>57){k=(D===46?a+P.slice(M+1):P.slice(M))+k,P=P.slice(0,M);break}}}b&&!v&&(P=t(P,1/0));var F=$.length+P.length+k.length,z=F<j?new Array(j-F+1).join(h):"";switch(b&&v&&(P=t(z+P,z.length?j-k.length:1/0),z=""),m){case"<":P=$+P+k+z;break;case"=":P=$+z+P+k;break;case"^":P=z.slice(0,F=z.length>>1)+$+P+k+z.slice(F);break;default:P=z+$+P+k;break}return s(P)}return T.toString=function(){return f+""},T}function d(f,h){var m=u((f=$i(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(yn(h)/3)))*3,x=Math.pow(10,-p),v=Ef[8+p/3];return function(j){return m(x*j)+v}}return{format:u,formatPrefix:d}}var ya,uu,Nv;JE({thousands:",",grouping:[3],currency:["$",""]});function JE(e){return ya=ZE(e),uu=ya.format,Nv=ya.formatPrefix,ya}function QE(e){return Math.max(0,-yn(Math.abs(e)))}function ek(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(yn(t)/3)))*3-yn(Math.abs(e)))}function tk(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,yn(t)-yn(e))+1}function Ov(e,t,r,n){var a=El(e,t,r),s;switch(n=$i(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=ek(a,o))&&(n.precision=s),Nv(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=tk(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=QE(a))&&(n.precision=s-(n.type==="%")*2);break}}return uu(n)}function pr(e){var t=e.domain;return e.ticks=function(r){var n=t();return $l(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return Ov(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,o=n[a],l=n[s],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=Tl(o,l,r),u===c)return n[a]=o,n[s]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Ya(){var e=lu();return e.copy=function(){return aa(e,Ya())},pt.apply(e,arguments),pr(e)}function Sv(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Va),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return Sv(e).unknown(t)},e=arguments.length?Array.from(e,Va):[0,1],pr(r)}function Av(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],o;return s<a&&(o=r,r=n,n=o,o=a,a=s,s=o),e[r]=t.floor(a),e[n]=t.ceil(s),e}function kf(e){return Math.log(e)}function Cf(e){return Math.exp(e)}function rk(e){return-Math.log(-e)}function nk(e){return-Math.exp(-e)}function ik(e){return isFinite(e)?+("1e"+e):e<0?0:e}function ak(e){return e===10?ik:e===Math.E?Math.exp:t=>Math.pow(e,t)}function sk(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Mf(e){return(t,r)=>-e(-t,r)}function du(e){const t=e(kf,Cf),r=t.domain;let n=10,a,s;function o(){return a=sk(n),s=ak(n),r()[0]<0?(a=Mf(a),s=Mf(s),e(rk,nk)):e(kf,Cf),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),p,x;const v=l==null?10:+l;let j=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(p=1;p<n;++p)if(x=h<0?p/s(-h):p*s(h),!(x<u)){if(x>d)break;j.push(x)}}else for(;h<=m;++h)for(p=n-1;p>=1;--p)if(x=h>0?p/s(-h):p*s(h),!(x<u)){if(x>d)break;j.push(x)}j.length*2<v&&(j=$l(u,d,v))}else j=$l(h,m,Math.min(m-h,v)).map(s);return f?j.reverse():j},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=$i(c)).precision==null&&(c.trim=!0),c=uu(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(Av(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function Pv(){const e=du(to()).domain([1,10]);return e.copy=()=>aa(e,Pv()).base(e.base()),pt.apply(e,arguments),e}function If(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Df(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function fu(e){var t=1,r=e(If(t),Df(t));return r.constant=function(n){return arguments.length?e(If(t=+n),Df(t)):t},pr(r)}function $v(){var e=fu(to());return e.copy=function(){return aa(e,$v()).constant(e.constant())},pt.apply(e,arguments)}function Rf(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ok(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function lk(e){return e<0?-e*e:e*e}function hu(e){var t=e(Ge,Ge),r=1;function n(){return r===1?e(Ge,Ge):r===.5?e(ok,lk):e(Rf(r),Rf(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},pr(t)}function mu(){var e=hu(to());return e.copy=function(){return aa(e,mu()).exponent(e.exponent())},pt.apply(e,arguments),e}function ck(){return mu.apply(null,arguments).exponent(.5)}function Lf(e){return Math.sign(e)*e*e}function uk(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Tv(){var e=lu(),t=[0,1],r=!1,n;function a(s){var o=uk(e(s));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(s){return e.invert(Lf(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,Va)).map(Lf)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return Tv(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},pt.apply(a,arguments),pr(a)}function Ev(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=pE(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:t[na(r,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(cr),a()},s.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return Ev().domain(e).range(t).unknown(n)},pt.apply(s,arguments)}function kv(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function o(c){return c!=null&&c<=c?a[na(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return kv().domain([e,t]).range(a).unknown(s)},pt.apply(pr(o),arguments)}function Cv(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[na(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return Cv().domain(e).range(t).unknown(r)},pt.apply(a,arguments)}const qo=new Date,Fo=new Date;function Re(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const o=a(s),l=a.ceil(s);return s-o<l-s?o:l},a.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),a.range=(s,o,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<o);return c},a.filter=s=>Re(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),r&&(a.count=(s,o)=>(qo.setTime(+s),Fo.setTime(+o),e(qo),e(Fo),Math.floor(r(qo,Fo))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?o=>n(o)%s===0:o=>a.count(0,o)%s===0):a)),a}const Za=Re(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Za.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Re(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Za);Za.range;const zt=1e3,dt=zt*60,Ut=dt*60,Vt=Ut*24,pu=Vt*7,Bf=Vt*30,zo=Vt*365,Tr=Re(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*zt)},(e,t)=>(t-e)/zt,e=>e.getUTCSeconds());Tr.range;const vu=Re(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*zt)},(e,t)=>{e.setTime(+e+t*dt)},(e,t)=>(t-e)/dt,e=>e.getMinutes());vu.range;const xu=Re(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*dt)},(e,t)=>(t-e)/dt,e=>e.getUTCMinutes());xu.range;const yu=Re(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*zt-e.getMinutes()*dt)},(e,t)=>{e.setTime(+e+t*Ut)},(e,t)=>(t-e)/Ut,e=>e.getHours());yu.range;const gu=Re(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ut)},(e,t)=>(t-e)/Ut,e=>e.getUTCHours());gu.range;const sa=Re(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*dt)/Vt,e=>e.getDate()-1);sa.range;const ro=Re(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Vt,e=>e.getUTCDate()-1);ro.range;const Mv=Re(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Vt,e=>Math.floor(e/Vt));Mv.range;function Gr(e){return Re(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*dt)/pu)}const no=Gr(0),Ja=Gr(1),dk=Gr(2),fk=Gr(3),gn=Gr(4),hk=Gr(5),mk=Gr(6);no.range;Ja.range;dk.range;fk.range;gn.range;hk.range;mk.range;function Vr(e){return Re(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/pu)}const io=Vr(0),Qa=Vr(1),pk=Vr(2),vk=Vr(3),bn=Vr(4),xk=Vr(5),yk=Vr(6);io.range;Qa.range;pk.range;vk.range;bn.range;xk.range;yk.range;const bu=Re(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());bu.range;const ju=Re(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ju.range;const Xt=Re(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Xt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Re(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Xt.range;const Yt=Re(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Yt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Re(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Yt.range;function Iv(e,t,r,n,a,s){const o=[[Tr,1,zt],[Tr,5,5*zt],[Tr,15,15*zt],[Tr,30,30*zt],[s,1,dt],[s,5,5*dt],[s,15,15*dt],[s,30,30*dt],[a,1,Ut],[a,3,3*Ut],[a,6,6*Ut],[a,12,12*Ut],[n,1,Vt],[n,2,2*Vt],[r,1,pu],[t,1,Bf],[t,3,3*Bf],[e,1,zo]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),p=m?m.range(u,+d+1):[];return h?p.reverse():p}function c(u,d,f){const h=Math.abs(d-u)/f,m=nu(([,,v])=>v).right(o,h);if(m===o.length)return e.every(El(u/zo,d/zo,f));if(m===0)return Za.every(Math.max(El(u,d,f),1));const[p,x]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return p.every(x)}return[l,c]}const[gk,bk]=Iv(Yt,ju,io,Mv,gu,xu),[jk,wk]=Iv(Xt,bu,no,sa,yu,vu);function Uo(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Wo(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ti(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function _k(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=ri(a),d=ni(a),f=ri(s),h=ni(s),m=ri(o),p=ni(o),x=ri(l),v=ni(l),j=ri(c),b=ni(c),w={a:R,A:F,b:z,B:Y,c:null,d:Hf,e:Hf,f:Kk,g:rC,G:iC,H:Uk,I:Wk,j:Hk,L:Dv,m:Gk,M:Vk,p:Q,q:G,Q:Vf,s:Xf,S:Xk,u:Yk,U:Zk,V:Jk,w:Qk,W:eC,x:null,X:null,y:tC,Y:nC,Z:aC,"%":Gf},_={a:ee,A:ge,b:Pe,B:Je,c:null,d:Kf,e:Kf,f:cC,g:gC,G:jC,H:sC,I:oC,j:lC,L:Lv,m:uC,M:dC,p:yr,q:Ve,Q:Vf,s:Xf,S:fC,u:hC,U:mC,V:pC,w:vC,W:xC,x:null,X:null,y:yC,Y:bC,Z:wC,"%":Gf},y={a:T,A:P,b:$,B:k,c:M,d:Uf,e:Uf,f:Bk,g:zf,G:Ff,H:Wf,I:Wf,j:Ik,L:Lk,m:Mk,M:Dk,p:A,q:Ck,Q:Fk,s:zk,S:Rk,u:Pk,U:$k,V:Tk,w:Ak,W:Ek,x:C,X:D,y:zf,Y:Ff,Z:kk,"%":qk};w.x=g(r,w),w.X=g(n,w),w.c=g(t,w),_.x=g(r,_),_.X=g(n,_),_.c=g(t,_);function g(K,ne){return function(ae){var L=[],Ne=-1,le=0,Ee=K.length,ke,Xe,er;for(ae instanceof Date||(ae=new Date(+ae));++Ne<Ee;)K.charCodeAt(Ne)===37&&(L.push(K.slice(le,Ne)),(Xe=qf[ke=K.charAt(++Ne)])!=null?ke=K.charAt(++Ne):Xe=ke==="e"?" ":"0",(er=ne[ke])&&(ke=er(ae,Xe)),L.push(ke),le=Ne+1);return L.push(K.slice(le,Ne)),L.join("")}}function N(K,ne){return function(ae){var L=ti(1900,void 0,1),Ne=S(L,K,ae+="",0),le,Ee;if(Ne!=ae.length)return null;if("Q"in L)return new Date(L.Q);if("s"in L)return new Date(L.s*1e3+("L"in L?L.L:0));if(ne&&!("Z"in L)&&(L.Z=0),"p"in L&&(L.H=L.H%12+L.p*12),L.m===void 0&&(L.m="q"in L?L.q:0),"V"in L){if(L.V<1||L.V>53)return null;"w"in L||(L.w=1),"Z"in L?(le=Wo(ti(L.y,0,1)),Ee=le.getUTCDay(),le=Ee>4||Ee===0?Qa.ceil(le):Qa(le),le=ro.offset(le,(L.V-1)*7),L.y=le.getUTCFullYear(),L.m=le.getUTCMonth(),L.d=le.getUTCDate()+(L.w+6)%7):(le=Uo(ti(L.y,0,1)),Ee=le.getDay(),le=Ee>4||Ee===0?Ja.ceil(le):Ja(le),le=sa.offset(le,(L.V-1)*7),L.y=le.getFullYear(),L.m=le.getMonth(),L.d=le.getDate()+(L.w+6)%7)}else("W"in L||"U"in L)&&("w"in L||(L.w="u"in L?L.u%7:"W"in L?1:0),Ee="Z"in L?Wo(ti(L.y,0,1)).getUTCDay():Uo(ti(L.y,0,1)).getDay(),L.m=0,L.d="W"in L?(L.w+6)%7+L.W*7-(Ee+5)%7:L.w+L.U*7-(Ee+6)%7);return"Z"in L?(L.H+=L.Z/100|0,L.M+=L.Z%100,Wo(L)):Uo(L)}}function S(K,ne,ae,L){for(var Ne=0,le=ne.length,Ee=ae.length,ke,Xe;Ne<le;){if(L>=Ee)return-1;if(ke=ne.charCodeAt(Ne++),ke===37){if(ke=ne.charAt(Ne++),Xe=y[ke in qf?ne.charAt(Ne++):ke],!Xe||(L=Xe(K,ae,L))<0)return-1}else if(ke!=ae.charCodeAt(L++))return-1}return L}function A(K,ne,ae){var L=u.exec(ne.slice(ae));return L?(K.p=d.get(L[0].toLowerCase()),ae+L[0].length):-1}function T(K,ne,ae){var L=m.exec(ne.slice(ae));return L?(K.w=p.get(L[0].toLowerCase()),ae+L[0].length):-1}function P(K,ne,ae){var L=f.exec(ne.slice(ae));return L?(K.w=h.get(L[0].toLowerCase()),ae+L[0].length):-1}function $(K,ne,ae){var L=j.exec(ne.slice(ae));return L?(K.m=b.get(L[0].toLowerCase()),ae+L[0].length):-1}function k(K,ne,ae){var L=x.exec(ne.slice(ae));return L?(K.m=v.get(L[0].toLowerCase()),ae+L[0].length):-1}function M(K,ne,ae){return S(K,t,ne,ae)}function C(K,ne,ae){return S(K,r,ne,ae)}function D(K,ne,ae){return S(K,n,ne,ae)}function R(K){return o[K.getDay()]}function F(K){return s[K.getDay()]}function z(K){return c[K.getMonth()]}function Y(K){return l[K.getMonth()]}function Q(K){return a[+(K.getHours()>=12)]}function G(K){return 1+~~(K.getMonth()/3)}function ee(K){return o[K.getUTCDay()]}function ge(K){return s[K.getUTCDay()]}function Pe(K){return c[K.getUTCMonth()]}function Je(K){return l[K.getUTCMonth()]}function yr(K){return a[+(K.getUTCHours()>=12)]}function Ve(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var ne=g(K+="",w);return ne.toString=function(){return K},ne},parse:function(K){var ne=N(K+="",!1);return ne.toString=function(){return K},ne},utcFormat:function(K){var ne=g(K+="",_);return ne.toString=function(){return K},ne},utcParse:function(K){var ne=N(K+="",!0);return ne.toString=function(){return K},ne}}}var qf={"-":"",_:" ",0:"0"},qe=/^\s*\d+/,Nk=/^%/,Ok=/[\\^$*+?|[\]().{}]/g;function ce(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function Sk(e){return e.replace(Ok,"\\$&")}function ri(e){return new RegExp("^(?:"+e.map(Sk).join("|")+")","i")}function ni(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Ak(e,t,r){var n=qe.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Pk(e,t,r){var n=qe.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function $k(e,t,r){var n=qe.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Tk(e,t,r){var n=qe.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Ek(e,t,r){var n=qe.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Ff(e,t,r){var n=qe.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function zf(e,t,r){var n=qe.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function kk(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Ck(e,t,r){var n=qe.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Mk(e,t,r){var n=qe.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Uf(e,t,r){var n=qe.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Ik(e,t,r){var n=qe.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Wf(e,t,r){var n=qe.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Dk(e,t,r){var n=qe.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Rk(e,t,r){var n=qe.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Lk(e,t,r){var n=qe.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Bk(e,t,r){var n=qe.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function qk(e,t,r){var n=Nk.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Fk(e,t,r){var n=qe.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function zk(e,t,r){var n=qe.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Hf(e,t){return ce(e.getDate(),t,2)}function Uk(e,t){return ce(e.getHours(),t,2)}function Wk(e,t){return ce(e.getHours()%12||12,t,2)}function Hk(e,t){return ce(1+sa.count(Xt(e),e),t,3)}function Dv(e,t){return ce(e.getMilliseconds(),t,3)}function Kk(e,t){return Dv(e,t)+"000"}function Gk(e,t){return ce(e.getMonth()+1,t,2)}function Vk(e,t){return ce(e.getMinutes(),t,2)}function Xk(e,t){return ce(e.getSeconds(),t,2)}function Yk(e){var t=e.getDay();return t===0?7:t}function Zk(e,t){return ce(no.count(Xt(e)-1,e),t,2)}function Rv(e){var t=e.getDay();return t>=4||t===0?gn(e):gn.ceil(e)}function Jk(e,t){return e=Rv(e),ce(gn.count(Xt(e),e)+(Xt(e).getDay()===4),t,2)}function Qk(e){return e.getDay()}function eC(e,t){return ce(Ja.count(Xt(e)-1,e),t,2)}function tC(e,t){return ce(e.getFullYear()%100,t,2)}function rC(e,t){return e=Rv(e),ce(e.getFullYear()%100,t,2)}function nC(e,t){return ce(e.getFullYear()%1e4,t,4)}function iC(e,t){var r=e.getDay();return e=r>=4||r===0?gn(e):gn.ceil(e),ce(e.getFullYear()%1e4,t,4)}function aC(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ce(t/60|0,"0",2)+ce(t%60,"0",2)}function Kf(e,t){return ce(e.getUTCDate(),t,2)}function sC(e,t){return ce(e.getUTCHours(),t,2)}function oC(e,t){return ce(e.getUTCHours()%12||12,t,2)}function lC(e,t){return ce(1+ro.count(Yt(e),e),t,3)}function Lv(e,t){return ce(e.getUTCMilliseconds(),t,3)}function cC(e,t){return Lv(e,t)+"000"}function uC(e,t){return ce(e.getUTCMonth()+1,t,2)}function dC(e,t){return ce(e.getUTCMinutes(),t,2)}function fC(e,t){return ce(e.getUTCSeconds(),t,2)}function hC(e){var t=e.getUTCDay();return t===0?7:t}function mC(e,t){return ce(io.count(Yt(e)-1,e),t,2)}function Bv(e){var t=e.getUTCDay();return t>=4||t===0?bn(e):bn.ceil(e)}function pC(e,t){return e=Bv(e),ce(bn.count(Yt(e),e)+(Yt(e).getUTCDay()===4),t,2)}function vC(e){return e.getUTCDay()}function xC(e,t){return ce(Qa.count(Yt(e)-1,e),t,2)}function yC(e,t){return ce(e.getUTCFullYear()%100,t,2)}function gC(e,t){return e=Bv(e),ce(e.getUTCFullYear()%100,t,2)}function bC(e,t){return ce(e.getUTCFullYear()%1e4,t,4)}function jC(e,t){var r=e.getUTCDay();return e=r>=4||r===0?bn(e):bn.ceil(e),ce(e.getUTCFullYear()%1e4,t,4)}function wC(){return"+0000"}function Gf(){return"%"}function Vf(e){return+e}function Xf(e){return Math.floor(+e/1e3)}var Jr,qv,Fv;_C({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function _C(e){return Jr=_k(e),qv=Jr.format,Jr.parse,Fv=Jr.utcFormat,Jr.utcParse,Jr}function NC(e){return new Date(e)}function OC(e){return e instanceof Date?+e:+new Date(+e)}function wu(e,t,r,n,a,s,o,l,c,u){var d=lu(),f=d.invert,h=d.domain,m=u(".%L"),p=u(":%S"),x=u("%I:%M"),v=u("%I %p"),j=u("%a %d"),b=u("%b %d"),w=u("%B"),_=u("%Y");function y(g){return(c(g)<g?m:l(g)<g?p:o(g)<g?x:s(g)<g?v:n(g)<g?a(g)<g?j:b:r(g)<g?w:_)(g)}return d.invert=function(g){return new Date(f(g))},d.domain=function(g){return arguments.length?h(Array.from(g,OC)):h().map(NC)},d.ticks=function(g){var N=h();return e(N[0],N[N.length-1],g??10)},d.tickFormat=function(g,N){return N==null?y:u(N)},d.nice=function(g){var N=h();return(!g||typeof g.range!="function")&&(g=t(N[0],N[N.length-1],g??10)),g?h(Av(N,g)):d},d.copy=function(){return aa(d,wu(e,t,r,n,a,s,o,l,c,u))},d}function SC(){return pt.apply(wu(jk,wk,Xt,bu,no,sa,yu,vu,Tr,qv).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function AC(){return pt.apply(wu(gk,bk,Yt,ju,io,ro,gu,xu,Tr,Fv).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ao(){var e=0,t=1,r,n,a,s,o=Ge,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,o=f(m,p),u):[o(0),o(1)]}}return u.range=d(Vn),u.rangeRound=d(ou),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function vr(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function zv(){var e=pr(ao()(Ge));return e.copy=function(){return vr(e,zv())},Qt.apply(e,arguments)}function Uv(){var e=du(ao()).domain([1,10]);return e.copy=function(){return vr(e,Uv()).base(e.base())},Qt.apply(e,arguments)}function Wv(){var e=fu(ao());return e.copy=function(){return vr(e,Wv()).constant(e.constant())},Qt.apply(e,arguments)}function _u(){var e=hu(ao());return e.copy=function(){return vr(e,_u()).exponent(e.exponent())},Qt.apply(e,arguments)}function PC(){return _u.apply(null,arguments).exponent(.5)}function Hv(){var e=[],t=Ge;function r(n){if(n!=null&&!isNaN(n=+n))return t((na(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(cr),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>mE(e,s/n))},r.copy=function(){return Hv(t).domain(e)},Qt.apply(r,arguments)}function so(){var e=0,t=.5,r=1,n=1,a,s,o,l,c,u=Ge,d,f=!1,h;function m(x){return isNaN(x=+x)?h:(x=.5+((x=+d(x))-s)*(n*x<n*s?l:c),u(f?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t,r]=x,a=d(e=+e),s=d(t=+t),o=d(r=+r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,m):[e,t,r]},m.clamp=function(x){return arguments.length?(f=!!x,m):f},m.interpolator=function(x){return arguments.length?(u=x,m):u};function p(x){return function(v){var j,b,w;return arguments.length?([j,b,w]=v,u=qE(x,[j,b,w]),m):[u(0),u(.5),u(1)]}}return m.range=p(Vn),m.rangeRound=p(ou),m.unknown=function(x){return arguments.length?(h=x,m):h},function(x){return d=x,a=x(e),s=x(t),o=x(r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,m}}function Kv(){var e=pr(so()(Ge));return e.copy=function(){return vr(e,Kv())},Qt.apply(e,arguments)}function Gv(){var e=du(so()).domain([.1,1,10]);return e.copy=function(){return vr(e,Gv()).base(e.base())},Qt.apply(e,arguments)}function Vv(){var e=fu(so());return e.copy=function(){return vr(e,Vv()).constant(e.constant())},Qt.apply(e,arguments)}function Nu(){var e=hu(so());return e.copy=function(){return vr(e,Nu()).exponent(e.exponent())},Qt.apply(e,arguments)}function $C(){return Nu.apply(null,arguments).exponent(.5)}const Yf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Oi,scaleDiverging:Kv,scaleDivergingLog:Gv,scaleDivergingPow:Nu,scaleDivergingSqrt:$C,scaleDivergingSymlog:Vv,scaleIdentity:Sv,scaleImplicit:kl,scaleLinear:Ya,scaleLog:Pv,scaleOrdinal:iu,scalePoint:di,scalePow:mu,scaleQuantile:Ev,scaleQuantize:kv,scaleRadial:Tv,scaleSequential:zv,scaleSequentialLog:Uv,scaleSequentialPow:_u,scaleSequentialQuantile:Hv,scaleSequentialSqrt:PC,scaleSequentialSymlog:Wv,scaleSqrt:ck,scaleSymlog:$v,scaleThreshold:Cv,scaleTime:SC,scaleUtc:AC,tickFormat:Ov},Symbol.toStringTag,{value:"Module"}));var TC=Bn;function EC(e,t,r){for(var n=-1,a=e.length;++n<a;){var s=e[n],o=t(s);if(o!=null&&(l===void 0?o===o&&!TC(o):r(o,l)))var l=o,c=s}return c}var oo=EC;function kC(e,t){return e>t}var Xv=kC,CC=oo,MC=Xv,IC=Gn;function DC(e){return e&&e.length?CC(e,IC,MC):void 0}var RC=DC;const ar=me(RC);function LC(e,t){return e<t}var Yv=LC,BC=oo,qC=Yv,FC=Gn;function zC(e){return e&&e.length?BC(e,FC,qC):void 0}var UC=zC;const lo=me(UC);var WC=Lc,HC=Dt,KC=iv,GC=Ze;function VC(e,t){var r=GC(e)?WC:KC;return r(e,HC(t))}var XC=VC,YC=rv,ZC=XC;function JC(e,t){return YC(ZC(e,t),1)}var QC=JC;const eM=me(QC);var tM=Qc;function rM(e,t){return tM(e,t)}var nM=rM;const Br=me(nM);var Xn=1e9,iM={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Su,we=!0,ht="[DecimalError] ",Mr=ht+"Invalid argument: ",Ou=ht+"Exponent out of range: ",Yn=Math.floor,Sr=Math.pow,aM=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,rt,Le=1e7,je=7,Zv=9007199254740991,es=Yn(Zv/je),V={};V.absoluteValue=V.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};V.comparedTo=V.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};V.decimalPlaces=V.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*je;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};V.dividedBy=V.div=function(e){return Kt(this,new this.constructor(e))};V.dividedToIntegerBy=V.idiv=function(e){var t=this,r=t.constructor;return pe(Kt(t,new r(e),0,1),r.precision)};V.equals=V.eq=function(e){return!this.cmp(e)};V.exponent=function(){return Te(this)};V.greaterThan=V.gt=function(e){return this.cmp(e)>0};V.greaterThanOrEqualTo=V.gte=function(e){return this.cmp(e)>=0};V.isInteger=V.isint=function(){return this.e>this.d.length-2};V.isNegative=V.isneg=function(){return this.s<0};V.isPositive=V.ispos=function(){return this.s>0};V.isZero=function(){return this.s===0};V.lessThan=V.lt=function(e){return this.cmp(e)<0};V.lessThanOrEqualTo=V.lte=function(e){return this.cmp(e)<1};V.logarithm=V.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(rt))throw Error(ht+"NaN");if(r.s<1)throw Error(ht+(r.s?"NaN":"-Infinity"));return r.eq(rt)?new n(0):(we=!1,t=Kt(Ti(r,s),Ti(e,s),s),we=!0,pe(t,a))};V.minus=V.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ex(t,e):Jv(t,(e.s=-e.s,e))};V.modulo=V.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(ht+"NaN");return r.s?(we=!1,t=Kt(r,e,0,1).times(e),we=!0,r.minus(t)):pe(new n(r),a)};V.naturalExponential=V.exp=function(){return Qv(this)};V.naturalLogarithm=V.ln=function(){return Ti(this)};V.negated=V.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};V.plus=V.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Jv(t,e):ex(t,(e.s=-e.s,e))};V.precision=V.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Mr+e);if(t=Te(a)+1,n=a.d.length-1,r=n*je+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};V.squareRoot=V.sqrt=function(){var e,t,r,n,a,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ht+"NaN")}for(e=Te(l),we=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Pt(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Yn((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(s=n,n=s.plus(Kt(l,s,o+2)).times(.5),Pt(s.d).slice(0,o)===(t=Pt(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(pe(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;o+=4}return we=!0,pe(n,r)};V.times=V.mul=function(e){var t,r,n,a,s,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=s[a]+m[n]*h[a-n-1]+t,s[a--]=l%Le|0,t=l/Le|0;s[a]=(s[a]+t)%Le|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,we?pe(e,f.precision):e};V.toDecimalPlaces=V.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Mt(e,0,Xn),t===void 0?t=n.rounding:Mt(t,0,8),pe(r,e+Te(r)+1,t))};V.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=qr(n,!0):(Mt(e,0,Xn),t===void 0?t=a.rounding:Mt(t,0,8),n=pe(new a(n),e+1,t),r=qr(n,!0,e+1)),r};V.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?qr(a):(Mt(e,0,Xn),t===void 0?t=s.rounding:Mt(t,0,8),n=pe(new s(a),e+Te(a)+1,t),r=qr(n.abs(),!1,e+Te(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};V.toInteger=V.toint=function(){var e=this,t=e.constructor;return pe(new t(e),Te(e)+1,t.rounding)};V.toNumber=function(){return+this};V.toPower=V.pow=function(e){var t,r,n,a,s,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(rt);if(l=new c(l),!l.s){if(e.s<1)throw Error(ht+"Infinity");return l}if(l.eq(rt))return l;if(n=c.precision,e.eq(rt))return pe(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=l.s,o){if((r=d<0?-d:d)<=Zv){for(a=new c(rt),t=Math.ceil(n/je+4),we=!1;r%2&&(a=a.times(l),Jf(a.d,t)),r=Yn(r/2),r!==0;)l=l.times(l),Jf(l.d,t);return we=!0,e.s<0?new c(rt).div(a):pe(a,n)}}else if(s<0)throw Error(ht+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,we=!1,a=e.times(Ti(l,n+u)),we=!0,a=Qv(a),a.s=s,a};V.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=Te(a),n=qr(a,r<=s.toExpNeg||r>=s.toExpPos)):(Mt(e,1,Xn),t===void 0?t=s.rounding:Mt(t,0,8),a=pe(new s(a),e,t),r=Te(a),n=qr(a,e<=r||r<=s.toExpNeg,e)),n};V.toSignificantDigits=V.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Mt(e,1,Xn),t===void 0?t=n.rounding:Mt(t,0,8)),pe(new n(r),e,t)};V.toString=V.valueOf=V.val=V.toJSON=V[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Te(e),r=e.constructor;return qr(e,t<=r.toExpNeg||t>=r.toExpPos)};function Jv(e,t){var r,n,a,s,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),we?pe(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),s=o-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/je),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/Le|0,c[s]%=Le;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,we?pe(t,f):t}function Mt(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Mr+e)}function Pt(e){var t,r,n,a=e.length-1,s="",o=e[0];if(a>0){for(s+=o,t=1;t<a;t++)n=e[t]+"",r=je-n.length,r&&(s+=rr(r)),s+=n;o=e[t],n=o+"",r=je-n.length,r&&(s+=rr(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Kt=function(){function e(n,a){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+o,n[l]=s%Le|0,o=s/Le|0;return o&&n.unshift(o),n}function t(n,a,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var o=0;s--;)n[s]-=o,o=n[s]<a[s]?1:0,n[s]=o*Le+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,o){var l,c,u,d,f,h,m,p,x,v,j,b,w,_,y,g,N,S,A=n.constructor,T=n.s==a.s?1:-1,P=n.d,$=a.d;if(!n.s)return new A(n);if(!a.s)throw Error(ht+"Division by zero");for(c=n.e-a.e,N=$.length,y=P.length,m=new A(T),p=m.d=[],u=0;$[u]==(P[u]||0);)++u;if($[u]>(P[u]||0)&&--c,s==null?b=s=A.precision:o?b=s+(Te(n)-Te(a))+1:b=s,b<0)return new A(0);if(b=b/je+2|0,u=0,N==1)for(d=0,$=$[0],b++;(u<y||d)&&b--;u++)w=d*Le+(P[u]||0),p[u]=w/$|0,d=w%$|0;else{for(d=Le/($[0]+1)|0,d>1&&($=e($,d),P=e(P,d),N=$.length,y=P.length),_=N,x=P.slice(0,N),v=x.length;v<N;)x[v++]=0;S=$.slice(),S.unshift(0),g=$[0],$[1]>=Le/2&&++g;do d=0,l=t($,x,N,v),l<0?(j=x[0],N!=v&&(j=j*Le+(x[1]||0)),d=j/g|0,d>1?(d>=Le&&(d=Le-1),f=e($,d),h=f.length,v=x.length,l=t(f,x,h,v),l==1&&(d--,r(f,N<h?S:$,h))):(d==0&&(l=d=1),f=$.slice()),h=f.length,h<v&&f.unshift(0),r(x,f,v),l==-1&&(v=x.length,l=t($,x,N,v),l<1&&(d++,r(x,N<v?S:$,v))),v=x.length):l===0&&(d++,x=[0]),p[u++]=d,l&&x[0]?x[v++]=P[_]||0:(x=[P[_]],v=1);while((_++<y||x[0]!==void 0)&&b--)}return p[0]||p.shift(),m.e=c,pe(m,o?s+Te(m)+1:s)}}();function Qv(e,t){var r,n,a,s,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Te(e)>16)throw Error(Ou+Te(e));if(!e.s)return new d(rt);for(we=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Sr(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(rt),d.precision=l;;){if(a=pe(a.times(e),l),r=r.times(++c),o=s.plus(Kt(a,r,l)),Pt(o.d).slice(0,l)===Pt(s.d).slice(0,l)){for(;u--;)s=pe(s.times(s),l);return d.precision=f,t==null?(we=!0,pe(s,f)):s}s=o}}function Te(e){for(var t=e.e*je,r=e.d[0];r>=10;r/=10)t++;return t}function Ho(e,t,r){if(t>e.LN10.sd())throw we=!0,r&&(e.precision=r),Error(ht+"LN10 precision limit exceeded");return pe(new e(e.LN10),t)}function rr(e){for(var t="";e--;)t+="0";return t}function Ti(e,t){var r,n,a,s,o,l,c,u,d,f=1,h=10,m=e,p=m.d,x=m.constructor,v=x.precision;if(m.s<1)throw Error(ht+(m.s?"NaN":"-Infinity"));if(m.eq(rt))return new x(0);if(t==null?(we=!1,u=v):u=t,m.eq(10))return t==null&&(we=!0),Ho(x,u);if(u+=h,x.precision=u,r=Pt(p),n=r.charAt(0),s=Te(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Pt(m.d),n=r.charAt(0),f++;s=Te(m),n>1?(m=new x("0."+r),s++):m=new x(n+"."+r.slice(1))}else return c=Ho(x,u+2,v).times(s+""),m=Ti(new x(n+"."+r.slice(1)),u-h).plus(c),x.precision=v,t==null?(we=!0,pe(m,v)):m;for(l=o=m=Kt(m.minus(rt),m.plus(rt),u),d=pe(m.times(m),u),a=3;;){if(o=pe(o.times(d),u),c=l.plus(Kt(o,new x(a),u)),Pt(c.d).slice(0,u)===Pt(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(Ho(x,u+2,v).times(s+""))),l=Kt(l,new x(f),u),x.precision=v,t==null?(we=!0,pe(l,v)):l;l=c,a+=2}}function Zf(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Yn(r/je),e.d=[],n=(r+1)%je,r<0&&(n+=je),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=je;n<a;)e.d.push(+t.slice(n,n+=je));t=t.slice(n),n=je-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),we&&(e.e>es||e.e<-es))throw Error(Ou+r)}else e.s=0,e.e=0,e.d=[0];return e}function pe(e,t,r){var n,a,s,o,l,c,u,d,f=e.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=je,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/je),s=f.length,d>=s)return e;for(u=s=f[d],o=1;s>=10;s/=10)o++;n%=je,a=n-je+o}if(r!==void 0&&(s=Sr(10,o-a-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Sr(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=Te(e),f.length=1,t=t-s-1,f[0]=Sr(10,(je-t%je)%je),e.e=Yn(-t/je)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=Sr(10,je-n),f[d]=a>0?(u/Sr(10,o-a)%Sr(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==Le&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=Le)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(we&&(e.e>es||e.e<-es))throw Error(Ou+Te(e));return e}function ex(e,t){var r,n,a,s,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),we?pe(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/je),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=Le-1;--c[s],c[a]+=Le}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,we?pe(t,m):t):new h(0)}function qr(e,t,r){var n,a=Te(e),s=Pt(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+rr(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+rr(-a-1)+s,r&&(n=r-o)>0&&(s+=rr(n))):a>=o?(s+=rr(a+1-o),r&&(n=r-a-1)>0&&(s=s+"."+rr(n))):((n=a+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(s+="."),s+=rr(n))),e.s<0?"-"+s:s}function Jf(e,t){if(e.length>t)return e.length=t,!0}function tx(e){var t,r,n;function a(s){var o=this;if(!(o instanceof a))return new a(s);if(o.constructor=a,s instanceof a){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Mr+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return Zf(o,s.toString())}else if(typeof s!="string")throw Error(Mr+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,aM.test(s))Zf(o,s);else throw Error(Mr+s)}if(a.prototype=V,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=tx,a.config=a.set=sM,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function sM(e){if(!e||typeof e!="object")throw Error(ht+"Object expected");var t,r,n,a=["precision",1,Xn,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Yn(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Mr+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Mr+r+": "+n);return this}var Su=tx(iM);rt=new Su(1);const he=Su;function oM(e){return dM(e)||uM(e)||cM(e)||lM()}function lM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cM(e,t){if(e){if(typeof e=="string")return Dl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dl(e,t)}}function uM(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function dM(e){if(Array.isArray(e))return Dl(e)}function Dl(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var fM=function(t){return t},rx={},nx=function(t){return t===rx},Qf=function(t){return function r(){return arguments.length===0||arguments.length===1&&nx(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},hM=function e(t,r){return t===1?r:Qf(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var o=a.filter(function(l){return l!==rx}).length;return o>=t?r.apply(void 0,a):e(t-o,Qf(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return nx(f)?c.shift():f});return r.apply(void 0,oM(d).concat(c))}))})},co=function(t){return hM(t.length,t)},Rl=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},mM=co(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),pM=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return fM;var a=r.reverse(),s=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},Ll=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},ix=function(t){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function vM(e){var t;return e===0?t=1:t=Math.floor(new he(e).abs().log(10).toNumber())+1,t}function xM(e,t,r){for(var n=new he(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var yM=co(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),gM=co(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),bM=co(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const uo={rangeStep:xM,getDigitCount:vM,interpolateNumber:yM,uninterpolateNumber:gM,uninterpolateTruncation:bM};function Bl(e){return _M(e)||wM(e)||ax(e)||jM()}function jM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wM(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function _M(e){if(Array.isArray(e))return ql(e)}function Ei(e,t){return SM(e)||OM(e,t)||ax(e,t)||NM()}function NM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ax(e,t){if(e){if(typeof e=="string")return ql(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ql(e,t)}}function ql(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OM(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,s=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw s}}return r}}function SM(e){if(Array.isArray(e))return e}function sx(e){var t=Ei(e,2),r=t[0],n=t[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function ox(e,t,r){if(e.lte(0))return new he(0);var n=uo.getDigitCount(e.toNumber()),a=new he(10).pow(n),s=e.div(a),o=n!==1?.05:.1,l=new he(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new he(Math.ceil(c))}function AM(e,t,r){var n=1,a=new he(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new he(10).pow(uo.getDigitCount(e)-1),a=new he(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new he(Math.floor(e)))}else e===0?a=new he(Math.floor((t-1)/2)):r||(a=new he(Math.floor(e)));var o=Math.floor((t-1)/2),l=pM(mM(function(c){return a.add(new he(c-o).mul(n)).toNumber()}),Rl);return l(0,t)}function lx(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new he(0),tickMin:new he(0),tickMax:new he(0)};var s=ox(new he(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new he(0):(o=new he(e).add(t).div(2),o=o.sub(new he(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new he(t).sub(o).div(s).toNumber()),u=l+c+1;return u>r?lx(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:s,tickMin:o.sub(new he(l).mul(s)),tickMax:o.add(new he(c).mul(s))})}function PM(e){var t=Ei(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=sx([r,n]),c=Ei(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(Bl(Rl(0,a-1).map(function(){return 1/0}))):[].concat(Bl(Rl(0,a-1).map(function(){return-1/0})),[d]);return r>n?Ll(f):f}if(u===d)return AM(u,a,s);var h=lx(u,d,o,s),m=h.step,p=h.tickMin,x=h.tickMax,v=uo.rangeStep(p,x.add(new he(.1).mul(m)),m);return r>n?Ll(v):v}function $M(e,t){var r=Ei(e,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=sx([n,a]),l=Ei(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=ox(new he(u).sub(c).div(d-1),s,0),h=[].concat(Bl(uo.rangeStep(new he(c),new he(u).sub(new he(.99).mul(f)),f)),[u]);return n>a?Ll(h):h}var TM=ix(PM),EM=ix($M),kM="Invariant failed";function Fr(e,t){throw new Error(kM)}var CM=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function jn(e){"@babel/helpers - typeof";return jn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jn(e)}function ts(){return ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ts.apply(this,arguments)}function MM(e,t){return LM(e)||RM(e,t)||DM(e,t)||IM()}function IM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DM(e,t){if(e){if(typeof e=="string")return eh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eh(e,t)}}function eh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RM(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function LM(e){if(Array.isArray(e))return e}function BM(e,t){if(e==null)return{};var r=qM(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qM(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function FM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dx(n.key),n)}}function UM(e,t,r){return t&&zM(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WM(e,t,r){return t=rs(t),HM(e,cx()?Reflect.construct(t,r||[],rs(e).constructor):t.apply(e,r))}function HM(e,t){if(t&&(jn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KM(e)}function KM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cx=function(){return!!e})()}function rs(e){return rs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rs(e)}function GM(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fl(e,t)}function Fl(e,t){return Fl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Fl(e,t)}function ux(e,t,r){return t=dx(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dx(e){var t=VM(e,"string");return jn(t)=="symbol"?t:t+""}function VM(e,t){if(jn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var oa=function(e){function t(){return FM(this,t),WM(this,t,arguments)}return GM(t,e),UM(t,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=BM(n,CM),m=X(h,!1);this.props.direction==="x"&&d.type!=="number"&&Fr();var p=c.map(function(x){var v=u(x,l),j=v.x,b=v.y,w=v.value,_=v.errorVal;if(!_)return null;var y=[],g,N;if(Array.isArray(_)){var S=MM(_,2);g=S[0],N=S[1]}else g=N=_;if(s==="vertical"){var A=d.scale,T=b+a,P=T+o,$=T-o,k=A(w-g),M=A(w+N);y.push({x1:M,y1:P,x2:M,y2:$}),y.push({x1:k,y1:T,x2:M,y2:T}),y.push({x1:k,y1:P,x2:k,y2:$})}else if(s==="horizontal"){var C=f.scale,D=j+a,R=D-o,F=D+o,z=C(w-g),Y=C(w+N);y.push({x1:R,y1:Y,x2:F,y2:Y}),y.push({x1:D,y1:z,x2:D,y2:Y}),y.push({x1:R,y1:z,x2:F,y2:z})}return O.createElement(se,ts({className:"recharts-errorBar",key:"bar-".concat(y.map(function(Q){return"".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))},m),y.map(function(Q){return O.createElement("line",ts({},Q,{key:"line-".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))}))});return O.createElement(se,{className:"recharts-errorBars"},p)}}])}(O.Component);ux(oa,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});ux(oa,"displayName","ErrorBar");function ki(e){"@babel/helpers - typeof";return ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ki(e)}function th(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?th(Object(r),!0).forEach(function(n){XM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):th(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XM(e,t,r){return t=YM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YM(e){var t=ZM(e,"string");return ki(t)=="symbol"?t:t+""}function ZM(e,t){if(ki(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ki(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fx=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,s=t.legendContent,o=tt(r,cn);if(!o)return null;var l=cn.defaultProps,c=l!==void 0?jr(jr({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,p=m.sectors||m.data||[];return d.concat(p.map(function(x){return{type:o.props.iconType||h.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?jr(jr({},h),f.props):{},p=m.dataKey,x=m.name,v=m.legendType,j=m.hide;return{inactive:j,dataKey:p,type:c.iconType||v||"square",color:Au(f),value:x||p,payload:m}}),jr(jr(jr({},c),cn.getWithHeight(o,a)),{},{payload:u,item:o})};function Ci(e){"@babel/helpers - typeof";return Ci=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ci(e)}function rh(e){return tI(e)||eI(e)||QM(e)||JM()}function JM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QM(e,t){if(e){if(typeof e=="string")return zl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zl(e,t)}}function eI(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tI(e){if(Array.isArray(e))return zl(e)}function zl(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nh(Object(r),!0).forEach(function(n){dn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dn(e,t,r){return t=rI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rI(e){var t=nI(e,"string");return Ci(t)=="symbol"?t:t+""}function nI(e,t){if(Ci(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ci(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Se(e,t,r){return te(e)||te(t)?r:De(t)?nt(e,t,r):J(t)?t(e):r}function fi(e,t,r,n){var a=eM(e,function(l){return Se(l,t)});if(r==="number"){var s=a.filter(function(l){return B(l)||parseFloat(l)});return s.length?[lo(s),ar(s)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!te(l)}):a;return o.map(function(l){return De(l)||l instanceof Date?l:""})}var iI=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n?.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(He(f-d)!==He(h-f)){var p=[];if(He(h-f)===He(c[1]-c[0])){m=h;var x=f+c[1]-c[0];p[0]=Math.min(x,(x+d)/2),p[1]=Math.max(x,(x+d)/2)}else{m=d;var v=h+c[1]-c[0];p[0]=Math.min(f,(v+f)/2),p[1]=Math.max(f,(v+f)/2)}var j=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>j[0]&&t<=j[1]||t>=p[0]&&t<=p[1]){o=a[u].index;break}}else{var b=Math.min(d,h),w=Math.max(d,h);if(t>(b+f)/2&&t<=(w+f)/2){o=a[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}return o},Au=function(t){var r,n=t,a=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Oe(Oe({},t.type.defaultProps),t.props):t.props,o=s.stroke,l=s.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},aI=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var p=d[f[h]],x=p.items,v=p.cateAxisId,j=x.filter(function(N){return Ht(N.type).indexOf("Bar")>=0});if(j&&j.length){var b=j[0].type.defaultProps,w=b!==void 0?Oe(Oe({},b),j[0].props):j[0].props,_=w.barSize,y=w[v];o[y]||(o[y]=[]);var g=te(_)?r:_;o[y].push({item:j[0],stackList:j.slice(1),barSize:te(g)?void 0:Ke(g,n,0)})}}return o},sI=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,s=t.sizeList,o=s===void 0?[]:s,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Ke(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=a/c,p=o.reduce(function(_,y){return _+y.barSize||0},0);p+=(c-1)*u,p>=a&&(p-=(c-1)*u,u=0),p>=a&&m>0&&(h=!0,m*=.9,p=c*m);var x=(a-p)/2>>0,v={offset:x-u,size:0};d=o.reduce(function(_,y){var g={item:y.item,position:{offset:v.offset+v.size+u,size:h?m:y.barSize}},N=[].concat(rh(_),[g]);return v=N[N.length-1].position,y.stackList&&y.stackList.length&&y.stackList.forEach(function(S){N.push({item:S,position:v})}),N},f)}else{var j=Ke(n,a,0,!0);a-2*j-(c-1)*u<=0&&(u=0);var b=(a-2*j-(c-1)*u)/c;b>1&&(b>>=0);var w=l===+l?Math.min(b,l):b;d=o.reduce(function(_,y,g){var N=[].concat(rh(_),[{item:y.item,position:{offset:j+(b+u)*g+(b-w)/2,size:w}}]);return y.stackList&&y.stackList.length&&y.stackList.forEach(function(S){N.push({item:S,position:N[N.length-1].position})}),N},f)}return d},oI=function(t,r,n,a){var s=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=fx({children:s,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,m=u.align,p=u.verticalAlign,x=u.layout;if((x==="vertical"||x==="horizontal"&&p==="middle")&&m!=="center"&&B(t[m]))return Oe(Oe({},t),{},dn({},m,t[m]+(f||0)));if((x==="horizontal"||x==="vertical"&&m==="center")&&p!=="middle"&&B(t[p]))return Oe(Oe({},t),{},dn({},p,t[p]+(h||0)))}return t},lI=function(t,r,n){return te(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},hx=function(t,r,n,a,s){var o=r.props.children,l=it(o,oa).filter(function(u){return lI(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Se(d,n);if(te(f))return u;var h=Array.isArray(f)?[lo(f),ar(f)]:[f,f],m=c.reduce(function(p,x){var v=Se(d,x,0),j=h[0]-Math.abs(Array.isArray(v)?v[0]:v),b=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(j,p[0]),Math.max(b,p[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},cI=function(t,r,n,a,s){var o=r.map(function(l){return hx(t,l,n,s,a)}).filter(function(l){return!te(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},mx=function(t,r,n,a,s){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&hx(t,c,u,a)||fi(t,u,n,s)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},px=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},vx=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var s,o,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(n),l},Wt=function(t,r,n){if(!t)return null;var a=t.scale,s=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&l?.length>=2?He(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!Wn(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:s?s[f]:f,index:h,offset:u}})},Ko=new WeakMap,ga=function(t,r){if(typeof r!="function")return t;Ko.has(t)||Ko.set(t,new WeakMap);var n=Ko.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},xx=function(t,r,n){var a=t.scale,s=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Oi(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Ya(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:di(),realScaleType:"point"}:s==="category"?{scale:Oi(),realScaleType:"band"}:{scale:Ya(),realScaleType:"linear"};if(Dr(a)){var c="scale".concat(Vs(a));return{scale:(Yf[c]||di)(),realScaleType:Yf[c]?c:"point"}}return J(a)?{scale:a}:{scale:di(),realScaleType:"point"}},ih=1e-4,yx=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),s=Math.min(a[0],a[1])-ih,o=Math.max(a[0],a[1])+ih,l=t(r[0]),c=t(r[n-1]);(l<s||l>o||c<s||c>o)&&t.domain([r[0],r[n-1]])}},uI=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},dI=function(t,r){if(!r||r.length!==2||!B(r[0])||!B(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!B(t[0])||t[0]<n)&&(s[0]=n),(!B(t[1])||t[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},fI=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0,l=0;l<r;++l){var c=Wn(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},hI=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0;o<r;++o){var l=Wn(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},mI={sign:fI,expand:C1,none:hn,silhouette:M1,wiggle:I1,positive:hI},pI=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),s=mI[n],o=k1().keys(a).value(function(l,c){return+Se(l,c,0)}).order(hl).offset(s);return o(t)},vI=function(t,r,n,a,s,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var m,p=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Oe(Oe({},h.type.defaultProps),h.props):h.props,x=p.stackId,v=p.hide;if(v)return f;var j=p[n],b=f[j]||{hasStack:!1,stackGroups:{}};if(De(x)){var w=b.stackGroups[x]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(h),b.hasStack=!0,b.stackGroups[x]=w}else b.stackGroups[Kr("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Oe(Oe({},f),{},dn({},j,b))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var p={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(x,v){var j=m.stackGroups[v];return Oe(Oe({},x),{},dn({},v,{numericAxisId:n,cateAxisId:a,items:j.items,stackedData:pI(t,j.items,s)}))},p)}return Oe(Oe({},f),{},dn({},h,m))},d)},gx=function(t,r){var n=r.realScaleType,a=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=TM(u,s,l);return t.domain([lo(d),ar(d)]),{niceTicks:d}}if(s&&a==="number"){var f=t.domain(),h=EM(f,s,l);return{niceTicks:h}}return null};function ns(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,s=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!te(a[t.dataKey])){var l=$a(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=Se(a,te(o)?t.dataKey:o);return te(c)?null:t.scale(c)}var ah=function(t){var r=t.axis,n=t.ticks,a=t.offset,s=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Se(o,r.dataKey,r.domain[l]);return te(c)?null:r.scale(c)-s/2+a},xI=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},yI=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Oe(Oe({},t.type.defaultProps),t.props):t.props,s=a.stackId;if(De(s)){var o=r[s];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},gI=function(t){return t.reduce(function(r,n){return[lo(n.concat([r[0]]).filter(B)),ar(n.concat([r[1]]).filter(B))]},[1/0,-1/0])},bx=function(t,r,n){return Object.keys(t).reduce(function(a,s){var o=t[s],l=o.stackedData,c=l.reduce(function(u,d){var f=gI(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},sh=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,oh=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ul=function(t,r,n){if(J(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(B(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(sh.test(t[0])){var s=+sh.exec(t[0])[1];a[0]=r[0]-s}else J(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(B(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(oh.test(t[1])){var o=+oh.exec(t[1])[1];a[1]=r[1]+o}else J(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},is=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var s=tu(r,function(f){return f.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},lh=function(t,r,n){return!t||!t.length||Br(t,nt(n,"type.defaultProps.domain"))?r:t},jx=function(t,r){var n=t.type.defaultProps?Oe(Oe({},t.type.defaultProps),t.props):t.props,a=n.dataKey,s=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Oe(Oe({},X(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:s||a,color:Au(t),value:Se(r,a),type:c,payload:r,chartType:u,hide:d})};function Mi(e){"@babel/helpers - typeof";return Mi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mi(e)}function ch(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ch(Object(r),!0).forEach(function(n){wx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ch(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wx(e,t,r){return t=bI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bI(e){var t=jI(e,"string");return Mi(t)=="symbol"?t:t+""}function jI(e,t){if(Mi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wI(e,t){return SI(e)||OI(e,t)||NI(e,t)||_I()}function _I(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NI(e,t){if(e){if(typeof e=="string")return uh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uh(e,t)}}function uh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OI(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function SI(e){if(Array.isArray(e))return e}var as=Math.PI/180,AI=function(t){return t*180/Math.PI},ye=function(t,r,n,a){return{x:t+Math.cos(-as*a)*n,y:r+Math.sin(-as*a)*n}},_x=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},PI=function(t,r,n,a,s){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Ke(t.cx,o,o/2),f=Ke(t.cy,l,l/2),h=_x(o,l,n),m=Ke(t.innerRadius,h,0),p=Ke(t.outerRadius,h,h*.8),x=Object.keys(r);return x.reduce(function(v,j){var b=r[j],w=b.domain,_=b.reversed,y;if(te(b.range))a==="angleAxis"?y=[c,u]:a==="radiusAxis"&&(y=[m,p]),_&&(y=[y[1],y[0]]);else{y=b.range;var g=y,N=wI(g,2);c=N[0],u=N[1]}var S=xx(b,s),A=S.realScaleType,T=S.scale;T.domain(w).range(y),yx(T);var P=gx(T,qt(qt({},b),{},{realScaleType:A})),$=qt(qt(qt({},b),P),{},{range:y,radius:p,realScaleType:A,scale:T,cx:d,cy:f,innerRadius:m,outerRadius:p,startAngle:c,endAngle:u});return qt(qt({},v),{},wx({},j,$))},{})},$I=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-o,2))},TI=function(t,r){var n=t.x,a=t.y,s=r.cx,o=r.cy,l=$I({x:n,y:a},{x:s,y:o});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:AI(u),angleInRadian:u}},EI=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(a,s);return{startAngle:r-o*360,endAngle:n-o*360}},kI=function(t,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(s,o);return t+l*360},dh=function(t,r){var n=t.x,a=t.y,s=TI({x:n,y:a},r),o=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=EI(r),f=d.startAngle,h=d.endAngle,m=l,p;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;p=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;p=m>=h&&m<=f}return p?qt(qt({},r),{},{radius:o,angle:kI(m,r)}):null},Nx=function(t){return!I.isValidElement(t)&&!J(t)&&typeof t!="boolean"?t.className:""};function Ii(e){"@babel/helpers - typeof";return Ii=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ii(e)}var CI=["offset"];function MI(e){return LI(e)||RI(e)||DI(e)||II()}function II(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DI(e,t){if(e){if(typeof e=="string")return Wl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wl(e,t)}}function RI(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function LI(e){if(Array.isArray(e))return Wl(e)}function Wl(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BI(e,t){if(e==null)return{};var r=qI(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qI(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Me(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fh(Object(r),!0).forEach(function(n){FI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FI(e,t,r){return t=zI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zI(e){var t=UI(e,"string");return Ii(t)=="symbol"?t:t+""}function UI(e,t){if(Ii(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ii(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Di(){return Di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Di.apply(this,arguments)}var WI=function(t){var r=t.value,n=t.formatter,a=te(t.children)?r:t.children;return J(n)?n(a):a},HI=function(t,r){var n=He(r-t),a=Math.min(Math.abs(r-t),360);return n*a},KI=function(t,r,n){var a=t.position,s=t.viewBox,o=t.offset,l=t.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,p=c.endAngle,x=c.clockWise,v=(f+h)/2,j=HI(m,p),b=j>=0?1:-1,w,_;a==="insideStart"?(w=m+b*o,_=x):a==="insideEnd"?(w=p-b*o,_=!x):a==="end"&&(w=p+b*o,_=x),_=j<=0?_:!_;var y=ye(u,d,v,w),g=ye(u,d,v,w+(_?1:-1)*359),N="M".concat(y.x,",").concat(y.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(g.x,",").concat(g.y),S=te(t.id)?Kr("recharts-radial-line-"):t.id;return O.createElement("text",Di({},n,{dominantBaseline:"central",className:re("recharts-radial-bar-label",l)}),O.createElement("defs",null,O.createElement("path",{id:S,d:N})),O.createElement("textPath",{xlinkHref:"#".concat(S)},r))},GI=function(t){var r=t.viewBox,n=t.offset,a=t.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,h=(d+f)/2;if(a==="outside"){var m=ye(o,l,u+n,h),p=m.x,x=m.y;return{x:p,y:x,textAnchor:p>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,j=ye(o,l,v,h),b=j.x,w=j.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},VI=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,s=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,m=f>0?"end":"start",p=f>0?"start":"end",x=u>=0?1:-1,v=x*a,j=x>0?"end":"start",b=x>0?"start":"end";if(s==="top"){var w={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:m};return Me(Me({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:p};return Me(Me({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var y={x:l-v,y:c+d/2,textAnchor:j,verticalAnchor:"middle"};return Me(Me({},y),n?{width:Math.max(y.x-n.x,0),height:d}:{})}if(s==="right"){var g={x:l+u+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Me(Me({},g),n?{width:Math.max(n.x+n.width-g.x,0),height:d}:{})}var N=n?{width:u,height:d}:{};return s==="insideLeft"?Me({x:l+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},N):s==="insideRight"?Me({x:l+u-v,y:c+d/2,textAnchor:j,verticalAnchor:"middle"},N):s==="insideTop"?Me({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:p},N):s==="insideBottom"?Me({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},N):s==="insideTopLeft"?Me({x:l+v,y:c+h,textAnchor:b,verticalAnchor:p},N):s==="insideTopRight"?Me({x:l+u-v,y:c+h,textAnchor:j,verticalAnchor:p},N):s==="insideBottomLeft"?Me({x:l+v,y:c+d-h,textAnchor:b,verticalAnchor:m},N):s==="insideBottomRight"?Me({x:l+u-v,y:c+d-h,textAnchor:j,verticalAnchor:m},N):qn(s)&&(B(s.x)||Pr(s.x))&&(B(s.y)||Pr(s.y))?Me({x:l+Ke(s.x,u),y:c+Ke(s.y,d),textAnchor:"end",verticalAnchor:"end"},N):Me({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},XI=function(t){return"cx"in t&&B(t.cx)};function Be(e){var t=e.offset,r=t===void 0?5:t,n=BI(e,CI),a=Me({offset:r},n),s=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!s||te(l)&&te(c)&&!I.isValidElement(u)&&!J(u))return null;if(I.isValidElement(u))return I.cloneElement(u,a);var m;if(J(u)){if(m=I.createElement(u,a),I.isValidElement(m))return m}else m=WI(a);var p=XI(s),x=X(a,!0);if(p&&(o==="insideStart"||o==="insideEnd"||o==="end"))return KI(a,m,x);var v=p?GI(a):VI(a);return O.createElement(Lr,Di({className:re("recharts-label",f)},x,v,{breakAll:h}),m)}Be.displayName="Label";var Ox=function(t){var r=t.cx,n=t.cy,a=t.angle,s=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,p=t.left,x=t.width,v=t.height,j=t.clockWise,b=t.labelViewBox;if(b)return b;if(B(x)&&B(v)){if(B(f)&&B(h))return{x:f,y:h,width:x,height:v};if(B(m)&&B(p))return{x:m,y:p,width:x,height:v}}return B(f)&&B(h)?{x:f,y:h,width:0,height:0}:B(r)&&B(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:j}:t.viewBox?t.viewBox:{}},YI=function(t,r){return t?t===!0?O.createElement(Be,{key:"label-implicit",viewBox:r}):De(t)?O.createElement(Be,{key:"label-implicit",viewBox:r,value:t}):I.isValidElement(t)?t.type===Be?I.cloneElement(t,{key:"label-implicit",viewBox:r}):O.createElement(Be,{key:"label-implicit",content:t,viewBox:r}):J(t)?O.createElement(Be,{key:"label-implicit",content:t,viewBox:r}):qn(t)?O.createElement(Be,Di({viewBox:r},t,{key:"label-implicit"})):null:null},ZI=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,s=Ox(t),o=it(a,Be).map(function(c,u){return I.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return o;var l=YI(t.label,r||s);return[l].concat(MI(o))};Be.parseViewBox=Ox;Be.renderCallByParent=ZI;function JI(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var QI=JI;const eD=me(QI);function Ri(e){"@babel/helpers - typeof";return Ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ri(e)}var tD=["valueAccessor"],rD=["data","dataKey","clockWise","id","textBreakAll"];function nD(e){return oD(e)||sD(e)||aD(e)||iD()}function iD(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aD(e,t){if(e){if(typeof e=="string")return Hl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hl(e,t)}}function sD(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oD(e){if(Array.isArray(e))return Hl(e)}function Hl(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ss(){return ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ss.apply(this,arguments)}function hh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hh(Object(r),!0).forEach(function(n){lD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lD(e,t,r){return t=cD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cD(e){var t=uD(e,"string");return Ri(t)=="symbol"?t:t+""}function uD(e,t){if(Ri(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ri(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ph(e,t){if(e==null)return{};var r=dD(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dD(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var fD=function(t){return Array.isArray(t.value)?eD(t.value):t.value};function kt(e){var t=e.valueAccessor,r=t===void 0?fD:t,n=ph(e,tD),a=n.data,s=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=ph(n,rD);return!a||!a.length?null:O.createElement(se,{className:"recharts-label-list"},a.map(function(d,f){var h=te(s)?r(d,f):Se(d&&d.payload,s),m=te(l)?{}:{id:"".concat(l,"-").concat(f)};return O.createElement(Be,ss({},X(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Be.parseViewBox(te(o)?d:mh(mh({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}kt.displayName="LabelList";function hD(e,t){return e?e===!0?O.createElement(kt,{key:"labelList-implicit",data:t}):O.isValidElement(e)||J(e)?O.createElement(kt,{key:"labelList-implicit",data:t,content:e}):qn(e)?O.createElement(kt,ss({data:t},e,{key:"labelList-implicit"})):null:null}function mD(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=it(n,kt).map(function(o,l){return I.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var s=hD(e.label,t);return[s].concat(nD(a))}kt.renderCallByParent=mD;function Li(e){"@babel/helpers - typeof";return Li=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Li(e)}function Kl(){return Kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kl.apply(this,arguments)}function vh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vh(Object(r),!0).forEach(function(n){pD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pD(e,t,r){return t=vD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vD(e){var t=xD(e,"string");return Li(t)=="symbol"?t:t+""}function xD(e,t){if(Li(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Li(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yD=function(t,r){var n=He(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},ba=function(t){var r=t.cx,n=t.cy,a=t.radius,s=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/as,h=u?s:s+o*f,m=ye(r,n,d,h),p=ye(r,n,a,h),x=u?s-o*f:s,v=ye(r,n,d*Math.cos(f*as),x);return{center:m,circleTangency:p,lineTangency:v,theta:f}},Sx=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.startAngle,l=t.endAngle,c=yD(o,l),u=o+c,d=ye(r,n,s,o),f=ye(r,n,s,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var m=ye(r,n,a,o),p=ye(r,n,a,u);h+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},gD=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=He(d-u),h=ba({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,p=h.lineTangency,x=h.theta,v=ba({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),j=v.circleTangency,b=v.lineTangency,w=v.theta,_=c?Math.abs(u-d):Math.abs(u-d)-x-w;if(_<0)return l?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Sx({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d});var y="M ".concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var g=ba({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),N=g.circleTangency,S=g.lineTangency,A=g.theta,T=ba({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=T.circleTangency,$=T.lineTangency,k=T.theta,M=c?Math.abs(u-d):Math.abs(u-d)-A-k;if(M<0&&o===0)return"".concat(y,"L").concat(r,",").concat(n,"Z");y+="L".concat($.x,",").concat($.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(M>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,"Z")}else y+="L".concat(r,",").concat(n,"Z");return y},bD={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Ax=function(t){var r=xh(xh({},bD),t),n=r.cx,a=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<s||d===f)return null;var m=re("recharts-sector",h),p=o-s,x=Ke(l,p,0,!0),v;return x>0&&Math.abs(d-f)<360?v=gD({cx:n,cy:a,innerRadius:s,outerRadius:o,cornerRadius:Math.min(x,p/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=Sx({cx:n,cy:a,innerRadius:s,outerRadius:o,startAngle:d,endAngle:f}),O.createElement("path",Kl({},X(r,!0),{className:m,d:v,role:"img"}))};function Bi(e){"@babel/helpers - typeof";return Bi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bi(e)}function Gl(){return Gl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gl.apply(this,arguments)}function yh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yh(Object(r),!0).forEach(function(n){jD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jD(e,t,r){return t=wD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wD(e){var t=_D(e,"string");return Bi(t)=="symbol"?t:t+""}function _D(e,t){if(Bi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bh={curveBasisClosed:j1,curveBasisOpen:w1,curveBasis:b1,curveBumpX:s1,curveBumpY:o1,curveLinearClosed:_1,curveLinear:Ys,curveMonotoneX:N1,curveMonotoneY:O1,curveNatural:S1,curveStep:A1,curveStepAfter:$1,curveStepBefore:P1},ja=function(t){return t.x===+t.x&&t.y===+t.y},ii=function(t){return t.x},ai=function(t){return t.y},ND=function(t,r){if(J(t))return t;var n="curve".concat(Vs(t));return(n==="curveMonotone"||n==="curveBump")&&r?bh["".concat(n).concat(r==="vertical"?"Y":"X")]:bh[n]||Ys},OD=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,s=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=ND(n,l),f=u?s.filter(function(x){return ja(x)}):s,h;if(Array.isArray(o)){var m=u?o.filter(function(x){return ja(x)}):o,p=f.map(function(x,v){return gh(gh({},x),{},{base:m[v]})});return l==="vertical"?h=da().y(ai).x1(ii).x0(function(x){return x.base.x}):h=da().x(ii).y1(ai).y0(function(x){return x.base.y}),h.defined(ja).curve(d),h(p)}return l==="vertical"&&B(o)?h=da().y(ai).x1(ii).x0(o):B(o)?h=da().x(ii).y1(ai).y0(o):h=jp().x(ii).y(ai),h.defined(ja).curve(d),h(f)},Ir=function(t){var r=t.className,n=t.points,a=t.path,s=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?OD(t):a;return I.createElement("path",Gl({},X(t,!1),Ta(t),{className:re("recharts-curve",r),d:o,ref:s}))},Px={exports:{}},SD="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",AD=SD,PD=AD;function $x(){}function Tx(){}Tx.resetWarningCache=$x;var $D=function(){function e(n,a,s,o,l,c){if(c!==PD){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Tx,resetWarningCache:$x};return r.PropTypes=r,r};Px.exports=$D();var TD=Px.exports;const de=me(TD);var ED=Object.getOwnPropertyNames,kD=Object.getOwnPropertySymbols,CD=Object.prototype.hasOwnProperty;function jh(e,t){return function(n,a,s){return e(n,a,s)&&t(n,a,s)}}function wa(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var s=a.cache,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);var c=e(r,n,a);return s.delete(r),s.delete(n),c}}function wh(e){return ED(e).concat(kD(e))}var MD=Object.hasOwn||function(e,t){return CD.call(e,t)};function Xr(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var ID="__v",DD="__o",RD="_owner",_h=Object.getOwnPropertyDescriptor,Nh=Object.keys;function LD(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function BD(e,t){return Xr(e.getTime(),t.getTime())}function qD(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function FD(e,t){return e===t}function Oh(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.entries(),o,l,c=0;(o=s.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var h=o.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var zD=Xr;function UD(e,t,r){var n=Nh(e),a=n.length;if(Nh(t).length!==a)return!1;for(;a-- >0;)if(!Ex(e,t,r,n[a]))return!1;return!0}function si(e,t,r){var n=wh(e),a=n.length;if(wh(t).length!==a)return!1;for(var s,o,l;a-- >0;)if(s=n[a],!Ex(e,t,r,s)||(o=_h(e,s),l=_h(t,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function WD(e,t){return Xr(e.valueOf(),t.valueOf())}function HD(e,t){return e.source===t.source&&e.flags===t.flags}function Sh(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.values(),o,l;(o=s.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function KD(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function GD(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Ex(e,t,r,n){return(n===RD||n===DD||n===ID)&&(e.$$typeof||t.$$typeof)?!0:MD(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var VD="[object Arguments]",XD="[object Boolean]",YD="[object Date]",ZD="[object Error]",JD="[object Map]",QD="[object Number]",eR="[object Object]",tR="[object RegExp]",rR="[object Set]",nR="[object String]",iR="[object URL]",aR=Array.isArray,Ah=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Ph=Object.assign,sR=Object.prototype.toString.call.bind(Object.prototype.toString);function oR(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,s=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(p,x,v){if(p===x)return!0;if(p==null||x==null)return!1;var j=typeof p;if(j!==typeof x)return!1;if(j!=="object")return j==="number"?o(p,x,v):j==="function"?a(p,x,v):!1;var b=p.constructor;if(b!==x.constructor)return!1;if(b===Object)return l(p,x,v);if(aR(p))return t(p,x,v);if(Ah!=null&&Ah(p))return f(p,x,v);if(b===Date)return r(p,x,v);if(b===RegExp)return u(p,x,v);if(b===Map)return s(p,x,v);if(b===Set)return d(p,x,v);var w=sR(p);return w===YD?r(p,x,v):w===tR?u(p,x,v):w===JD?s(p,x,v):w===rR?d(p,x,v):w===eR?typeof p.then!="function"&&typeof x.then!="function"&&l(p,x,v):w===iR?h(p,x,v):w===ZD?n(p,x,v):w===VD?l(p,x,v):w===XD||w===QD||w===nR?c(p,x,v):!1}}function lR(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?si:LD,areDatesEqual:BD,areErrorsEqual:qD,areFunctionsEqual:FD,areMapsEqual:n?jh(Oh,si):Oh,areNumbersEqual:zD,areObjectsEqual:n?si:UD,arePrimitiveWrappersEqual:WD,areRegExpsEqual:HD,areSetsEqual:n?jh(Sh,si):Sh,areTypedArraysEqual:n?si:KD,areUrlsEqual:GD};if(r&&(a=Ph({},a,r(a))),t){var s=wa(a.areArraysEqual),o=wa(a.areMapsEqual),l=wa(a.areObjectsEqual),c=wa(a.areSetsEqual);a=Ph({},a,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function cR(e){return function(t,r,n,a,s,o,l){return e(t,r,l)}}function uR(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,s=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return r(c,u,{cache:h,equals:a,meta:m,strict:s})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var o={cache:void 0,equals:a,meta:void 0,strict:s};return function(c,u){return r(c,u,o)}}var dR=xr();xr({strict:!0});xr({circular:!0});xr({circular:!0,strict:!0});xr({createInternalComparator:function(){return Xr}});xr({strict:!0,createInternalComparator:function(){return Xr}});xr({circular:!0,createInternalComparator:function(){return Xr}});xr({circular:!0,createInternalComparator:function(){return Xr},strict:!0});function xr(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,s=e.strict,o=s===void 0?!1:s,l=lR(e),c=oR(l),u=n?n(c):cR(c);return uR({circular:r,comparator:c,createState:a,equals:u,strict:o})}function fR(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function $h(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>t?(e(s),r=-1):fR(a)};requestAnimationFrame(n)}function Vl(e){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vl(e)}function hR(e){return xR(e)||vR(e)||pR(e)||mR()}function mR(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pR(e,t){if(e){if(typeof e=="string")return Th(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Th(e,t)}}function Th(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vR(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xR(e){if(Array.isArray(e))return e}function yR(){var e={},t=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=hR(o),c=l[0],u=l.slice(1);if(typeof c=="number"){$h(a.bind(null,u),c);return}a(c),$h(a.bind(null,u));return}Vl(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function qi(e){"@babel/helpers - typeof";return qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qi(e)}function Eh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Eh(Object(r),!0).forEach(function(n){kx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Eh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kx(e,t,r){return t=gR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gR(e){var t=bR(e,"string");return qi(t)==="symbol"?t:String(t)}function bR(e,t){if(qi(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qi(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jR=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},wR=function(t){return t},_R=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},hi=function(t,r){return Object.keys(r).reduce(function(n,a){return kh(kh({},n),{},kx({},a,t(a,r[a])))},{})},Ch=function(t,r,n){return t.map(function(a){return"".concat(_R(a)," ").concat(r,"ms ").concat(n)}).join(",")};function NR(e,t){return AR(e)||SR(e,t)||Cx(e,t)||OR()}function OR(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SR(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function AR(e){if(Array.isArray(e))return e}function PR(e){return ER(e)||TR(e)||Cx(e)||$R()}function $R(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cx(e,t){if(e){if(typeof e=="string")return Xl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xl(e,t)}}function TR(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ER(e){if(Array.isArray(e))return Xl(e)}function Xl(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var os=1e-4,Mx=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},Ix=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},Mh=function(t,r){return function(n){var a=Mx(t,r);return Ix(a,n)}},kR=function(t,r){return function(n){var a=Mx(t,r),s=[].concat(PR(a.map(function(o,l){return o*l}).slice(1)),[0]);return Ix(s,n)}},Ih=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,o=1,l=1;break;case"ease":a=.25,s=.1,o=.25,l=1;break;case"ease-in":a=.42,s=0,o=1,l=1;break;case"ease-out":a=.42,s=0,o=.58,l=1;break;case"ease-in-out":a=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=NR(u,4);a=d[0],s=d[1],o=d[2],l=d[3]}}}var f=Mh(a,o),h=Mh(s,l),m=kR(a,o),p=function(j){return j>1?1:j<0?0:j},x=function(j){for(var b=j>1?1:j,w=b,_=0;_<8;++_){var y=f(w)-b,g=m(w);if(Math.abs(y-b)<os||g<os)return h(w);w=p(w-y/g)}return h(w)};return x.isStepper=!1,x},CR=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,s=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*n,p=h*s,x=h+(m-p)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<os&&Math.abs(x)<os?[f,0]:[v,x]};return c.isStepper=!0,c.dt=l,c},MR=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Ih(a);case"spring":return CR();default:if(a.split("(")[0]==="cubic-bezier")return Ih(a)}return typeof a=="function"?a:null};function Fi(e){"@babel/helpers - typeof";return Fi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fi(e)}function Dh(e){return RR(e)||DR(e)||Dx(e)||IR()}function IR(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DR(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function RR(e){if(Array.isArray(e))return Zl(e)}function Rh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rh(Object(r),!0).forEach(function(n){Yl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yl(e,t,r){return t=LR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LR(e){var t=BR(e,"string");return Fi(t)==="symbol"?t:String(t)}function BR(e,t){if(Fi(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fi(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qR(e,t){return UR(e)||zR(e,t)||Dx(e,t)||FR()}function FR(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dx(e,t){if(e){if(typeof e=="string")return Zl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zl(e,t)}}function Zl(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zR(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function UR(e){if(Array.isArray(e))return e}var ls=function(t,r,n){return t+(r-t)*n},Jl=function(t){var r=t.from,n=t.to;return r!==n},WR=function e(t,r,n){var a=hi(function(s,o){if(Jl(o)){var l=t(o.from,o.to,o.velocity),c=qR(l,2),u=c[0],d=c[1];return Fe(Fe({},o),{},{from:u,velocity:d})}return o},r);return n<1?hi(function(s,o){return Jl(o)?Fe(Fe({},o),{},{velocity:ls(o.velocity,a[s].velocity,n),from:ls(o.from,a[s].from,n)}):o},r):e(t,a,n-1)};const HR=function(e,t,r,n,a){var s=jR(e,t),o=s.reduce(function(v,j){return Fe(Fe({},v),{},Yl({},j,[e[j],t[j]]))},{}),l=s.reduce(function(v,j){return Fe(Fe({},v),{},Yl({},j,{from:e[j],velocity:0,to:t[j]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return hi(function(j,b){return b.from},l)},m=function(){return!Object.values(l).filter(Jl).length},p=function(j){u||(u=j);var b=j-u,w=b/r.dt;l=WR(r,l,w),a(Fe(Fe(Fe({},e),t),h())),u=j,m()||(c=requestAnimationFrame(f))},x=function(j){d||(d=j);var b=(j-d)/n,w=hi(function(y,g){return ls.apply(void 0,Dh(g).concat([r(b)]))},o);if(a(Fe(Fe(Fe({},e),t),w)),b<1)c=requestAnimationFrame(f);else{var _=hi(function(y,g){return ls.apply(void 0,Dh(g).concat([r(1)]))},o);a(Fe(Fe(Fe({},e),t),_))}};return f=r.isStepper?p:x,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function wn(e){"@babel/helpers - typeof";return wn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wn(e)}var KR=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function GR(e,t){if(e==null)return{};var r=VR(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VR(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Go(e){return JR(e)||ZR(e)||YR(e)||XR()}function XR(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YR(e,t){if(e){if(typeof e=="string")return Ql(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ql(e,t)}}function ZR(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function JR(e){if(Array.isArray(e))return Ql(e)}function Ql(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lh(Object(r),!0).forEach(function(n){ci(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ci(e,t,r){return t=Rx(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Rx(n.key),n)}}function t4(e,t,r){return t&&e4(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rx(e){var t=r4(e,"string");return wn(t)==="symbol"?t:String(t)}function r4(e,t){if(wn(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wn(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n4(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ec(e,t)}function ec(e,t){return ec=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ec(e,t)}function i4(e){var t=a4();return function(){var n=cs(e),a;if(t){var s=cs(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return tc(this,a)}}function tc(e,t){if(t&&(wn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rc(e)}function rc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a4(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cs(e){return cs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cs(e)}var _t=function(e){n4(r,e);var t=i4(r);function r(n,a){var s;QR(this,r),s=t.call(this,n,a);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(rc(s)),s.changeStyle=s.changeStyle.bind(rc(s)),!l||m<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),tc(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof h=="function")return s.state={style:u},tc(s);s.state={style:c?ci({},c,u):u}}else s.state={style:{}};return s}return t4(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,o=a.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,h=this.state.style;if(l){if(!o){var m={style:c?ci({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(dR(a.to,d)&&a.canBegin&&a.isActive)){var p=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=p||u?f:a.to;if(this.state&&h){var v={style:c?ci({},c,x):x};(c&&h[c]!==x||!c&&h!==x)&&this.setState(v)}this.runAnimation(vt(vt({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,m=HR(o,l,MR(u),c,this.changeStyle),p=function(){s.stopJSAnimation=m()};this.manager.start([h,d,p,c,f])}},{key:"runStepAnimation",value:function(a){var s=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(x,v,j){if(j===0)return x;var b=v.duration,w=v.easing,_=w===void 0?"ease":w,y=v.style,g=v.properties,N=v.onAnimationEnd,S=j>0?o[j-1]:v,A=g||Object.keys(y);if(typeof _=="function"||_==="spring")return[].concat(Go(x),[s.runJSAnimation.bind(s,{from:S.style,to:y,duration:b,easing:_}),b]);var T=Ch(A,b,_),P=vt(vt(vt({},S.style),y),{},{transition:T});return[].concat(Go(x),[P,b,N]).filter(wR)};return this.manager.start([c].concat(Go(o.reduce(m,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=yR());var s=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,m=a.children,p=this.manager;if(this.unSubscribe=p.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var x=l?ci({},l,c):c,v=Ch(Object.keys(x),o,u);p.start([d,s,vt(vt({},x),{},{transition:v}),o,f])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=GR(a,KR),u=I.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||o<=0)return s;var f=function(m){var p=m.props,x=p.style,v=x===void 0?{}:x,j=p.className,b=I.cloneElement(m,vt(vt({},c),{},{style:vt(vt({},v),d),className:j}));return b};return u===1?f(I.Children.only(s)):O.createElement("div",null,I.Children.map(s,function(h){return f(h)}))}}]),r}(I.PureComponent);_t.displayName="Animate";_t.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};_t.propTypes={from:de.oneOfType([de.object,de.string]),to:de.oneOfType([de.object,de.string]),attributeName:de.string,duration:de.number,begin:de.number,easing:de.oneOfType([de.string,de.func]),steps:de.arrayOf(de.shape({duration:de.number.isRequired,style:de.object.isRequired,easing:de.oneOfType([de.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),de.func]),properties:de.arrayOf("string"),onAnimationEnd:de.func})),children:de.oneOfType([de.node,de.func]),isActive:de.bool,canBegin:de.bool,onAnimationEnd:de.func,shouldReAnimate:de.bool,onAnimationStart:de.func,onAnimationReStart:de.func};function zi(e){"@babel/helpers - typeof";return zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zi(e)}function us(){return us=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},us.apply(this,arguments)}function s4(e,t){return u4(e)||c4(e,t)||l4(e,t)||o4()}function o4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l4(e,t){if(e){if(typeof e=="string")return Bh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bh(e,t)}}function Bh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c4(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function u4(e){if(Array.isArray(e))return e}function qh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qh(Object(r),!0).forEach(function(n){d4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d4(e,t,r){return t=f4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f4(e){var t=h4(e,"string");return zi(t)=="symbol"?t:t+""}function h4(e,t){if(zi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zh=function(t,r,n,a,s){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=s[h]>o?o:s[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var p=Math.min(o,s);d="M ".concat(t,",").concat(r+l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t+c*p,",").concat(r,`
            L `).concat(t+n-c*p,",").concat(r,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*p,`
            L `).concat(t+n,",").concat(r+a-l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t+n-c*p,",").concat(r+a,`
            L `).concat(t+c*p,",").concat(r+a,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*p," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},m4=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},p4={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Pu=function(t){var r=Fh(Fh({},p4),t),n=I.useRef(),a=I.useState(-1),s=s4(a,2),o=s[0],l=s[1];I.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,p=r.animationEasing,x=r.animationDuration,v=r.animationBegin,j=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=re("recharts-rectangle",m);return b?O.createElement(_t,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:x,animationEasing:p,isActive:b},function(_){var y=_.width,g=_.height,N=_.x,S=_.y;return O.createElement(_t,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:x,isActive:j,easing:p},O.createElement("path",us({},X(r,!0),{className:w,d:zh(N,S,y,g,h),ref:n})))}):O.createElement("path",us({},X(r,!0),{className:w,d:zh(c,u,d,f,h)}))},v4=["points","className","baseLinePoints","connectNulls"];function rn(){return rn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rn.apply(this,arguments)}function x4(e,t){if(e==null)return{};var r=y4(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function y4(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Uh(e){return w4(e)||j4(e)||b4(e)||g4()}function g4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b4(e,t){if(e){if(typeof e=="string")return nc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nc(e,t)}}function j4(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function w4(e){if(Array.isArray(e))return nc(e)}function nc(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Wh=function(t){return t&&t.x===+t.x&&t.y===+t.y},_4=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){Wh(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),Wh(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},mi=function(t,r){var n=_4(t);r&&(n=[n.reduce(function(s,o){return[].concat(Uh(s),Uh(o))},[])]);var a=n.map(function(s){return s.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},N4=function(t,r,n){var a=mi(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(mi(r.reverse(),n).slice(1))},O4=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,s=t.connectNulls,o=x4(t,v4);if(!r||!r.length)return null;var l=re("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=N4(r,a,s);return O.createElement("g",{className:l},O.createElement("path",rn({},X(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?O.createElement("path",rn({},X(o,!0),{fill:"none",d:mi(r,s)})):null,c?O.createElement("path",rn({},X(o,!0),{fill:"none",d:mi(a,s)})):null)}var d=mi(r,s);return O.createElement("path",rn({},X(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function ic(){return ic=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ic.apply(this,arguments)}var la=function(t){var r=t.cx,n=t.cy,a=t.r,s=t.className,o=re("recharts-dot",s);return r===+r&&n===+n&&a===+a?I.createElement("circle",ic({},X(t,!1),Ta(t),{className:o,cx:r,cy:n,r:a})):null};function Ui(e){"@babel/helpers - typeof";return Ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ui(e)}var S4=["x","y","top","left","width","height","className"];function ac(){return ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ac.apply(this,arguments)}function Hh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function A4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hh(Object(r),!0).forEach(function(n){P4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P4(e,t,r){return t=$4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $4(e){var t=T4(e,"string");return Ui(t)=="symbol"?t:t+""}function T4(e,t){if(Ui(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ui(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E4(e,t){if(e==null)return{};var r=k4(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function k4(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var C4=function(t,r,n,a,s,o){return"M".concat(t,",").concat(s,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},M4=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,p=t.className,x=E4(t,S4),v=A4({x:n,y:s,top:l,left:u,width:f,height:m},x);return!B(n)||!B(s)||!B(f)||!B(m)||!B(l)||!B(u)?null:O.createElement("path",ac({},X(v,!0),{className:re("recharts-cross",p),d:C4(n,s,f,m,l,u)}))},I4=oo,D4=Xv,R4=Dt;function L4(e,t){return e&&e.length?I4(e,R4(t),D4):void 0}var B4=L4;const q4=me(B4);var F4=oo,z4=Dt,U4=Yv;function W4(e,t){return e&&e.length?F4(e,z4(t),U4):void 0}var H4=W4;const K4=me(H4);var G4=["cx","cy","angle","ticks","axisLine"],V4=["ticks","tick","angle","tickFormatter","stroke"];function _n(e){"@babel/helpers - typeof";return _n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_n(e)}function pi(){return pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pi.apply(this,arguments)}function Kh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kh(Object(r),!0).forEach(function(n){fo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gh(e,t){if(e==null)return{};var r=X4(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function X4(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Y4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Bx(n.key),n)}}function Z4(e,t,r){return t&&Vh(e.prototype,t),r&&Vh(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function J4(e,t,r){return t=ds(t),Q4(e,Lx()?Reflect.construct(t,r||[],ds(e).constructor):t.apply(e,r))}function Q4(e,t){if(t&&(_n(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eL(e)}function eL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lx=function(){return!!e})()}function ds(e){return ds=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ds(e)}function tL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sc(e,t)}function sc(e,t){return sc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sc(e,t)}function fo(e,t,r){return t=Bx(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bx(e){var t=rL(e,"string");return _n(t)=="symbol"?t:t+""}function rL(e,t){if(_n(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_n(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ho=function(e){function t(){return Y4(this,t),J4(this,t,arguments)}return tL(t,e),Z4(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,s=this.props,o=s.angle,l=s.cx,c=s.cy;return ye(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=q4(l,function(d){return d.coordinate||0}),u=K4(l,function(d){return d.coordinate||0});return{cx:a,cy:s,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=Gh(n,G4),d=l.reduce(function(p,x){return[Math.min(p[0],x.coordinate),Math.max(p[1],x.coordinate)]},[1/0,-1/0]),f=ye(a,s,d[0],o),h=ye(a,s,d[1],o),m=wr(wr(wr({},X(u,!1)),{},{fill:"none"},X(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return O.createElement("line",pi({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=Gh(a,V4),f=this.getTickTextAnchor(),h=X(d,!1),m=X(o,!1),p=s.map(function(x,v){var j=n.getTickValueCoord(x),b=wr(wr(wr(wr({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(j.x,", ").concat(j.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:v},j),{},{payload:x});return O.createElement(se,pi({className:re("recharts-polar-radius-axis-tick",Nx(o)),key:"tick-".concat(x.coordinate)},Rr(n.props,x,v)),t.renderTickItem(o,b,c?c(x.value,v):x.value))});return O.createElement(se,{className:"recharts-polar-radius-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.axisLine,o=n.tick;return!a||!a.length?null:O.createElement(se,{className:re("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),Be.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,s){var o;return O.isValidElement(n)?o=O.cloneElement(n,a):J(n)?o=n(a):o=O.createElement(Lr,pi({},a,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])}(I.PureComponent);fo(ho,"displayName","PolarRadiusAxis");fo(ho,"axisType","radiusAxis");fo(ho,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Nn(e){"@babel/helpers - typeof";return Nn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nn(e)}function Ar(){return Ar=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ar.apply(this,arguments)}function Xh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xh(Object(r),!0).forEach(function(n){mo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Fx(n.key),n)}}function iL(e,t,r){return t&&Yh(e.prototype,t),r&&Yh(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function aL(e,t,r){return t=fs(t),sL(e,qx()?Reflect.construct(t,r||[],fs(e).constructor):t.apply(e,r))}function sL(e,t){if(t&&(Nn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oL(e)}function oL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qx=function(){return!!e})()}function fs(e){return fs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fs(e)}function lL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oc(e,t)}function oc(e,t){return oc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},oc(e,t)}function mo(e,t,r){return t=Fx(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fx(e){var t=cL(e,"string");return Nn(t)=="symbol"?t:t+""}function cL(e,t){if(Nn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var uL=Math.PI/180,Zh=1e-5,po=function(e){function t(){return nL(this,t),aL(this,t,arguments)}return lL(t,e),iL(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=ye(s,o,l,n.coordinate),h=ye(s,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,s=Math.cos(-n.coordinate*uL),o;return s>Zh?o=a==="outer"?"start":"end":s<-Zh?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=_r(_r({},X(this.props,!1)),{},{fill:"none"},X(l,!1));if(c==="circle")return O.createElement(la,Ar({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:s,r:o}));var d=this.props.ticks,f=d.map(function(h){return ye(a,s,o,h.coordinate)});return O.createElement(O4,Ar({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=X(this.props,!1),f=X(o,!1),h=_r(_r({},d),{},{fill:"none"},X(l,!1)),m=s.map(function(p,x){var v=n.getTickLineCoord(p),j=n.getTickTextAnchor(p),b=_r(_r(_r({textAnchor:j},d),{},{stroke:"none",fill:u},f),{},{index:x,payload:p,x:v.x2,y:v.y2});return O.createElement(se,Ar({className:re("recharts-polar-angle-axis-tick",Nx(o)),key:"tick-".concat(p.coordinate)},Rr(n.props,p,x)),l&&O.createElement("line",Ar({className:"recharts-polar-angle-axis-tick-line"},h,v)),o&&t.renderTickItem(o,b,c?c(p.value,x):p.value))});return O.createElement(se,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.radius,o=n.axisLine;return s<=0||!a||!a.length?null:O.createElement(se,{className:re("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,s){var o;return O.isValidElement(n)?o=O.cloneElement(n,a):J(n)?o=n(a):o=O.createElement(Lr,Ar({},a,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])}(I.PureComponent);mo(po,"displayName","PolarAngleAxis");mo(po,"axisType","angleAxis");mo(po,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var dL=Hp,fL=dL(Object.getPrototypeOf,Object),hL=fL,mL=Zt,pL=hL,vL=Jt,xL="[object Object]",yL=Function.prototype,gL=Object.prototype,zx=yL.toString,bL=gL.hasOwnProperty,jL=zx.call(Object);function wL(e){if(!vL(e)||mL(e)!=xL)return!1;var t=pL(e);if(t===null)return!0;var r=bL.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&zx.call(r)==jL}var _L=wL;const NL=me(_L);var OL=Zt,SL=Jt,AL="[object Boolean]";function PL(e){return e===!0||e===!1||SL(e)&&OL(e)==AL}var $L=PL;const TL=me($L);function Wi(e){"@babel/helpers - typeof";return Wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wi(e)}function hs(){return hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hs.apply(this,arguments)}function EL(e,t){return IL(e)||ML(e,t)||CL(e,t)||kL()}function kL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CL(e,t){if(e){if(typeof e=="string")return Jh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jh(e,t)}}function Jh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ML(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function IL(e){if(Array.isArray(e))return e}function Qh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function em(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qh(Object(r),!0).forEach(function(n){DL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DL(e,t,r){return t=RL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RL(e){var t=LL(e,"string");return Wi(t)=="symbol"?t:t+""}function LL(e,t){if(Wi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tm=function(t,r,n,a,s){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+s),l+="L ".concat(t+n-o/2-a,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},BL={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qL=function(t){var r=em(em({},BL),t),n=I.useRef(),a=I.useState(-1),s=EL(a,2),o=s[0],l=s[1];I.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,p=r.animationEasing,x=r.animationDuration,v=r.animationBegin,j=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=re("recharts-trapezoid",m);return j?O.createElement(_t,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:x,animationEasing:p,isActive:j},function(w){var _=w.upperWidth,y=w.lowerWidth,g=w.height,N=w.x,S=w.y;return O.createElement(_t,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:x,easing:p},O.createElement("path",hs({},X(r,!0),{className:b,d:tm(N,S,_,y,g),ref:n})))}):O.createElement("g",null,O.createElement("path",hs({},X(r,!0),{className:b,d:tm(c,u,d,f,h)})))},FL=["option","shapeType","propTransformer","activeClassName","isActive"];function Hi(e){"@babel/helpers - typeof";return Hi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hi(e)}function zL(e,t){if(e==null)return{};var r=UL(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function UL(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ms(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rm(Object(r),!0).forEach(function(n){WL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WL(e,t,r){return t=HL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HL(e){var t=KL(e,"string");return Hi(t)=="symbol"?t:t+""}function KL(e,t){if(Hi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GL(e,t){return ms(ms({},t),e)}function VL(e,t){return e==="symbols"}function nm(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return O.createElement(Pu,r);case"trapezoid":return O.createElement(qL,r);case"sector":return O.createElement(Ax,r);case"symbols":if(VL(t))return O.createElement(Gc,r);break;default:return null}}function XL(e){return I.isValidElement(e)?e.props:e}function Ux(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?GL:n,s=e.activeClassName,o=s===void 0?"recharts-active-shape":s,l=e.isActive,c=zL(e,FL),u;if(I.isValidElement(t))u=I.cloneElement(t,ms(ms({},c),XL(t)));else if(J(t))u=t(c);else if(NL(t)&&!TL(t)){var d=a(t,c);u=O.createElement(nm,{shapeType:r,elementProps:d})}else{var f=c;u=O.createElement(nm,{shapeType:r,elementProps:f})}return l?O.createElement(se,{className:o},u):u}function vo(e,t){return t!=null&&"trapezoids"in e.props}function xo(e,t){return t!=null&&"sectors"in e.props}function Ki(e,t){return t!=null&&"points"in e.props}function YL(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&s}function ZL(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function JL(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function QL(e,t){var r;return vo(e,t)?r=YL:xo(e,t)?r=ZL:Ki(e,t)&&(r=JL),r}function e5(e,t){var r;return vo(e,t)?r="trapezoids":xo(e,t)?r="sectors":Ki(e,t)&&(r="points"),r}function t5(e,t){if(vo(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(xo(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Ki(e,t)?t.payload:{}}function r5(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=e5(r,t),s=t5(r,t),o=n.filter(function(c,u){var d=Br(s,c),f=r.props[a].filter(function(p){var x=QL(r,t);return x(p,t)}),h=r.props[a].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var Aa;function On(e){"@babel/helpers - typeof";return On=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},On(e)}function nn(){return nn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nn.apply(this,arguments)}function im(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ve(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?im(Object(r),!0).forEach(function(n){ut(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):im(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function am(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Hx(n.key),n)}}function i5(e,t,r){return t&&am(e.prototype,t),r&&am(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a5(e,t,r){return t=ps(t),s5(e,Wx()?Reflect.construct(t,r||[],ps(e).constructor):t.apply(e,r))}function s5(e,t){if(t&&(On(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o5(e)}function o5(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wx=function(){return!!e})()}function ps(e){return ps=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ps(e)}function l5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lc(e,t)}function lc(e,t){return lc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lc(e,t)}function ut(e,t,r){return t=Hx(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hx(e){var t=c5(e,"string");return On(t)=="symbol"?t:t+""}function c5(e,t){if(On(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(On(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Rt=function(e){function t(r){var n;return n5(this,t),n=a5(this,t,[r]),ut(n,"pieRef",null),ut(n,"sectorRefs",[]),ut(n,"id",Kr("recharts-pie-")),ut(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),J(a)&&a()}),ut(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),J(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return l5(t,e),i5(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,d=X(this.props,!1),f=X(o,!1),h=X(l,!1),m=o&&o.offsetRadius||20,p=n.map(function(x,v){var j=(x.startAngle+x.endAngle)/2,b=ye(x.cx,x.cy,x.outerRadius+m,j),w=ve(ve(ve(ve({},d),x),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(b.x,x.cx)},b),_=ve(ve(ve(ve({},d),x),{},{fill:"none",stroke:x.fill},h),{},{index:v,points:[ye(x.cx,x.cy,x.outerRadius,j),b]}),y=c;return te(c)&&te(u)?y="value":te(c)&&(y=u),O.createElement(se,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,_,"line"),t.renderLabelItem(o,w,Se(x,y)))});return O.createElement(se,{className:"recharts-pie-labels"},p)}},{key:"renderSectorsStatically",value:function(n){var a=this,s=this.props,o=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,d){if(u?.startAngle===0&&u?.endAngle===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,m=f?o:h,p=ve(ve({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return O.createElement(se,nn({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Rr(a.props,u,d),{key:"sector-".concat(u?.startAngle,"-").concat(u?.endAngle,"-").concat(u.midAngle,"-").concat(d)}),O.createElement(Ux,nn({option:m,isActive:f,shapeType:"sector"},p)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,s=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return O.createElement(_t,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(p){var x=p.t,v=[],j=s&&s[0],b=j.startAngle;return s.forEach(function(w,_){var y=h&&h[_],g=_>0?nt(w,"paddingAngle",0):0;if(y){var N=Ie(y.endAngle-y.startAngle,w.endAngle-w.startAngle),S=ve(ve({},w),{},{startAngle:b+g,endAngle:b+N(x)+g});v.push(S),b=S.endAngle}else{var A=w.endAngle,T=w.startAngle,P=Ie(0,A-T),$=P(x),k=ve(ve({},w),{},{startAngle:b+g,endAngle:b+$+g});v.push(k),b=k.endAngle}}),O.createElement(se,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,s=n.isAnimationActive,o=this.state.prevSectors;return s&&a&&a.length&&(!o||!Br(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,s=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,m=a.isAnimationActive,p=this.state.isAnimationFinished;if(s||!o||!o.length||!B(u)||!B(d)||!B(f)||!B(h))return null;var x=re("recharts-pie",l);return O.createElement(se,{tabIndex:this.props.rootTabIndex,className:x,ref:function(j){n.pieRef=j}},this.renderSectors(),c&&this.renderLabels(o),Be.renderCallByParent(this.props,null,!1),(!m||p)&&kt.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,s){if(O.isValidElement(n))return O.cloneElement(n,a);if(J(n))return n(a);var o=re("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return O.createElement(Ir,nn({},a,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,s){if(O.isValidElement(n))return O.cloneElement(n,a);var o=s;if(J(n)&&(o=n(a),O.isValidElement(o)))return o;var l=re("recharts-pie-label-text",typeof n!="boolean"&&!J(n)?n.className:"");return O.createElement(Lr,nn({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(I.PureComponent);Aa=Rt;ut(Rt,"displayName","Pie");ut(Rt,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!mr.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ut(Rt,"parseDeltaAngle",function(e,t){var r=He(t-e),n=Math.min(Math.abs(t-e),360);return r*n});ut(Rt,"getRealPieData",function(e){var t=e.data,r=e.children,n=X(e,!1),a=it(r,ra);return t&&t.length?t.map(function(s,o){return ve(ve(ve({payload:s},n),s),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(s){return ve(ve({},n),s.props)}):[]});ut(Rt,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,s=t.height,o=_x(a,s),l=n+Ke(e.cx,a,a/2),c=r+Ke(e.cy,s,s/2),u=Ke(e.innerRadius,o,0),d=Ke(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});ut(Rt,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?ve(ve({},t.type.defaultProps),t.props):t.props,a=Aa.getRealPieData(n);if(!a||!a.length)return null;var s=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),p=Aa.parseCoordinateOfPie(n,r),x=Aa.parseDeltaAngle(o,l),v=Math.abs(x),j=u;te(u)&&te(f)?(bt(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j="value"):te(u)&&(bt(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j=f);var b=a.filter(function(S){return Se(S,j,0)!==0}).length,w=(v>=360?b:b-1)*c,_=v-b*m-w,y=a.reduce(function(S,A){var T=Se(A,j,0);return S+(B(T)?T:0)},0),g;if(y>0){var N;g=a.map(function(S,A){var T=Se(S,j,0),P=Se(S,d,A),$=(B(T)?T:0)/y,k;A?k=N.endAngle+He(x)*c*(T!==0?1:0):k=o;var M=k+He(x)*((T!==0?m:0)+$*_),C=(k+M)/2,D=(p.innerRadius+p.outerRadius)/2,R=[{name:P,value:T,payload:S,dataKey:j,type:h}],F=ye(p.cx,p.cy,D,C);return N=ve(ve(ve({percent:$,cornerRadius:s,name:P,tooltipPayload:R,midAngle:C,middleRadius:D,tooltipPosition:F},S),p),{},{value:Se(S,j),startAngle:k,endAngle:M,payload:S,paddingAngle:He(x)*c}),N})}return ve(ve({},p),{},{sectors:g,data:a})});var u5=Math.ceil,d5=Math.max;function f5(e,t,r,n){for(var a=-1,s=d5(u5((t-e)/(r||1)),0),o=Array(s);s--;)o[n?s:++a]=e,e+=r;return o}var h5=f5,m5=uv,sm=1/0,p5=17976931348623157e292;function v5(e){if(!e)return e===0?e:0;if(e=m5(e),e===sm||e===-sm){var t=e<0?-1:1;return t*p5}return e===e?e:0}var Kx=v5,x5=h5,y5=eo,Vo=Kx;function g5(e){return function(t,r,n){return n&&typeof n!="number"&&y5(t,r,n)&&(r=n=void 0),t=Vo(t),r===void 0?(r=t,t=0):r=Vo(r),n=n===void 0?t<r?1:-1:Vo(n),x5(t,r,n,e)}}var b5=g5,j5=b5,w5=j5(),_5=w5;const vs=me(_5);function Gi(e){"@babel/helpers - typeof";return Gi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gi(e)}function om(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?om(Object(r),!0).forEach(function(n){Gx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):om(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gx(e,t,r){return t=N5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N5(e){var t=O5(e,"string");return Gi(t)=="symbol"?t:t+""}function O5(e,t){if(Gi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var S5=["Webkit","Moz","O","ms"],A5=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),a=S5.reduce(function(s,o){return lm(lm({},s),{},Gx({},o+n,r))},{});return a[t]=r,a};function Sn(e){"@babel/helpers - typeof";return Sn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sn(e)}function xs(){return xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xs.apply(this,arguments)}function cm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cm(Object(r),!0).forEach(function(n){et(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function um(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xx(n.key),n)}}function $5(e,t,r){return t&&um(e.prototype,t),r&&um(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function T5(e,t,r){return t=ys(t),E5(e,Vx()?Reflect.construct(t,r||[],ys(e).constructor):t.apply(e,r))}function E5(e,t){if(t&&(Sn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k5(e)}function k5(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vx=function(){return!!e})()}function ys(e){return ys=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ys(e)}function C5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cc(e,t)}function cc(e,t){return cc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cc(e,t)}function et(e,t,r){return t=Xx(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xx(e){var t=M5(e,"string");return Sn(t)=="symbol"?t:t+""}function M5(e,t){if(Sn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var I5=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,s=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=di().domain(vs(0,c)).range([s,s+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},dm=function(t){return t.changedTouches&&!!t.changedTouches.length},An=function(e){function t(r){var n;return P5(this,t),n=T5(this,t,[r]),et(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),et(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),et(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,o=a.onDragEnd,l=a.startIndex;o?.({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),et(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),et(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),et(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),et(n,"handleSlideDragStart",function(a){var s=dm(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return C5(t,e),$5(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,s),h=Math.max(a,s),m=t.getIndexInRange(o,f),p=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:p===d?d:p-p%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,o=a.tickFormatter,l=a.dataKey,c=Se(s[n],l,n);return J(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,p=c.onChange,x=n.pageX-s;x>0?x=Math.min(x,u+d-f-l,u+d-f-o):x<0&&(x=Math.max(x,u-o,u-l));var v=this.getIndex({startX:o+x,endX:l+x});(v.startIndex!==h||v.endIndex!==m)&&p&&p(v),this.setState({startX:o+x,endX:l+x,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=dm(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,p=d.onChange,x=d.gap,v=d.data,j={startX:this.state.startX,endX:this.state.endX},b=n.pageX-s;b>0?b=Math.min(b,f+h-m-u):b<0&&(b=Math.max(b,f-u)),j[o]=u+b;var w=this.getIndex(j),_=w.startIndex,y=w.endIndex,g=function(){var S=v.length-1;return o==="startX"&&(l>c?_%x===0:y%x===0)||l<c&&y===S||o==="endX"&&(l>c?y%x===0:_%x===0)||l>c&&y===S};this.setState(et(et({},o,u+b),"brushMoveStartX",n.pageX),function(){p&&g()&&p(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(et({},a,m),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return O.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=I.Children.only(u);return f?O.cloneElement(f,{x:a,y:s,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,p=c.data,x=c.startIndex,v=c.endIndex,j=Math.max(n,this.props.x),b=Xo(Xo({},X(this.props,!1)),{},{x:j,y:u,width:d,height:f}),w=m||"Min value: ".concat((s=p[x])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=p[v])===null||o===void 0?void 0:o.name);return O.createElement(se,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(y){["ArrowLeft","ArrowRight"].includes(y.key)&&(y.preventDefault(),y.stopPropagation(),l.handleTravellerMoveKeyboard(y.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,a){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return O.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,p={pointerEvents:"none",fill:u};return O.createElement(se,{className:"recharts-brush-texts"},O.createElement(Lr,xs({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+l/2},p),this.getTextOfTick(a)),O.createElement(Lr,xs({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+l/2},p),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,p=h.endX,x=h.isTextActive,v=h.isSlideMoving,j=h.isTravellerMoving,b=h.isTravellerFocused;if(!a||!a.length||!B(l)||!B(c)||!B(u)||!B(d)||u<=0||d<=0)return null;var w=re("recharts-brush",s),_=O.Children.count(o)===1,y=A5("userSelect","none");return O.createElement(se,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:y},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(m,p),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(p,"endX"),(x||v||j||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return O.createElement(O.Fragment,null,O.createElement("rect",{x:a,y:s,width:o,height:l,fill:c,stroke:"none"}),O.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),O.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return O.isValidElement(n)?s=O.cloneElement(n,a):J(n)?s=n(a):s=t.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return Xo({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?I5({data:s,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(I.PureComponent);et(An,"displayName","Brush");et(An,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var D5=eu;function R5(e,t){var r;return D5(e,function(n,a,s){return r=t(n,a,s),!r}),!!r}var L5=R5,B5=Rp,q5=Dt,F5=L5,z5=Ze,U5=eo;function W5(e,t,r){var n=z5(e)?B5:F5;return r&&U5(e,t,r)&&(t=void 0),n(e,q5(t))}var H5=W5;const K5=me(H5);var Ct=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},fm=av;function G5(e,t,r){t=="__proto__"&&fm?fm(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var V5=G5,X5=V5,Y5=nv,Z5=Dt;function J5(e,t){var r={};return t=Z5(t),Y5(e,function(n,a,s){X5(r,a,t(n,a,s))}),r}var Q5=J5;const e3=me(Q5);function t3(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var r3=t3,n3=eu;function i3(e,t){var r=!0;return n3(e,function(n,a,s){return r=!!t(n,a,s),r}),r}var a3=i3,s3=r3,o3=a3,l3=Dt,c3=Ze,u3=eo;function d3(e,t,r){var n=c3(e)?s3:o3;return r&&u3(e,t,r)&&(t=void 0),n(e,l3(t))}var f3=d3;const Yx=me(f3);var h3=["x","y"];function Vi(e){"@babel/helpers - typeof";return Vi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vi(e)}function uc(){return uc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uc.apply(this,arguments)}function hm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hm(Object(r),!0).forEach(function(n){m3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m3(e,t,r){return t=p3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p3(e){var t=v3(e,"string");return Vi(t)=="symbol"?t:t+""}function v3(e,t){if(Vi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x3(e,t){if(e==null)return{};var r=y3(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function y3(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function g3(e,t){var r=e.x,n=e.y,a=x3(e,h3),s="".concat(r),o=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return oi(oi(oi(oi(oi({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function mm(e){return O.createElement(Ux,uc({shapeType:"rectangle",propTransformer:g3,activeClassName:"recharts-active-bar"},e))}var b3=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var s=B(n)||Kj(n);return s?t(n,a):(s||Fr(),r)}},j3=["value","background"],Zx;function Pn(e){"@babel/helpers - typeof";return Pn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pn(e)}function w3(e,t){if(e==null)return{};var r=_3(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _3(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gs(){return gs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gs.apply(this,arguments)}function pm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pm(Object(r),!0).forEach(function(n){sr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vm(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qx(n.key),n)}}function O3(e,t,r){return t&&vm(e.prototype,t),r&&vm(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function S3(e,t,r){return t=bs(t),A3(e,Jx()?Reflect.construct(t,r||[],bs(e).constructor):t.apply(e,r))}function A3(e,t){if(t&&(Pn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P3(e)}function P3(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jx=function(){return!!e})()}function bs(e){return bs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bs(e)}function $3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dc(e,t)}function dc(e,t){return dc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dc(e,t)}function sr(e,t,r){return t=Qx(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qx(e){var t=T3(e,"string");return Pn(t)=="symbol"?t:t+""}function T3(e,t){if(Pn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Gt=function(e){function t(){var r;N3(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=S3(this,t,[].concat(a)),sr(r,"state",{isAnimationFinished:!1}),sr(r,"id",Kr("recharts-bar-")),sr(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),sr(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return $3(t,e),O3(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=X(this.props,!1);return n&&n.map(function(f,h){var m=h===c,p=m?u:o,x=$e($e($e({},d),f),{},{isActive:m,option:p,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return O.createElement(se,gs({className:"recharts-bar-rectangle"},Rr(a.props,f,h),{key:"rectangle-".concat(f?.x,"-").concat(f?.y,"-").concat(f?.value,"-").concat(h)}),O.createElement(mm,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return O.createElement(_t,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var p=m.t,x=s.map(function(v,j){var b=h&&h[j];if(b){var w=Ie(b.x,v.x),_=Ie(b.y,v.y),y=Ie(b.width,v.width),g=Ie(b.height,v.height);return $e($e({},v),{},{x:w(p),y:_(p),width:y(p),height:g(p)})}if(o==="horizontal"){var N=Ie(0,v.height),S=N(p);return $e($e({},v),{},{y:v.y+v.height-S,height:S})}var A=Ie(0,v.width),T=A(p);return $e($e({},v),{},{width:T})});return O.createElement(se,null,n.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&a&&a.length&&(!o||!Br(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,o=a.dataKey,l=a.activeIndex,c=X(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,h=w3(u,j3);if(!f)return null;var m=$e($e($e($e($e({},h),{},{fill:"#eee"},f),c),Rr(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return O.createElement(mm,gs({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=it(d,oa);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(v,j){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:Se(v,j)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return O.createElement(se,p,f.map(function(x){return O.cloneElement(x,{key:"error-bar-".concat(a,"-").concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,p=n.background,x=n.id;if(a||!s||!s.length)return null;var v=this.state.isAnimationFinished,j=re("recharts-bar",o),b=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,_=b||w,y=te(x)?this.id:x;return O.createElement(se,{className:j},b||w?O.createElement("defs",null,O.createElement("clipPath",{id:"clipPath-".concat(y)},O.createElement("rect",{x:b?u:u-f/2,y:w?d:d-h/2,width:b?f:f*2,height:w?h:h*2}))):null,O.createElement(se,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(y,")"):null},p?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,y),(!m||v)&&kt.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(I.PureComponent);Zx=Gt;sr(Gt,"displayName","Bar");sr(Gt,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!mr.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});sr(Gt,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,s=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=uI(n,r);if(!m)return null;var p=t.layout,x=r.type.defaultProps,v=x!==void 0?$e($e({},x),r.props):r.props,j=v.dataKey,b=v.children,w=v.minPointSize,_=p==="horizontal"?o:s,y=u?_.scale.domain():null,g=xI({numericAxis:_}),N=it(b,ra),S=f.map(function(A,T){var P,$,k,M,C,D;u?P=dI(u[d+T],y):(P=Se(A,j),Array.isArray(P)||(P=[g,P]));var R=b3(w,Zx.defaultProps.minPointSize)(P[1],T);if(p==="horizontal"){var F,z=[o.scale(P[0]),o.scale(P[1])],Y=z[0],Q=z[1];$=ah({axis:s,ticks:l,bandSize:a,offset:m.offset,entry:A,index:T}),k=(F=Q??Y)!==null&&F!==void 0?F:void 0,M=m.size;var G=Y-Q;if(C=Number.isNaN(G)?0:G,D={x:$,y:o.y,width:M,height:o.height},Math.abs(R)>0&&Math.abs(C)<Math.abs(R)){var ee=He(C||R)*(Math.abs(R)-Math.abs(C));k-=ee,C+=ee}}else{var ge=[s.scale(P[0]),s.scale(P[1])],Pe=ge[0],Je=ge[1];if($=Pe,k=ah({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:A,index:T}),M=Je-Pe,C=m.size,D={x:s.x,y:k,width:s.width,height:C},Math.abs(R)>0&&Math.abs(M)<Math.abs(R)){var yr=He(M||R)*(Math.abs(R)-Math.abs(M));M+=yr}}return $e($e($e({},A),{},{x:$,y:k,width:M,height:C,value:u?P:P[1],payload:A,background:D},N&&N[T]&&N[T].props),{},{tooltipPayload:[jx(r,A)],tooltipPosition:{x:$+M/2,y:k+C/2}})});return $e({data:S,layout:p},h)});function Xi(e){"@babel/helpers - typeof";return Xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xi(e)}function E3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xm(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ey(n.key),n)}}function k3(e,t,r){return t&&xm(e.prototype,t),r&&xm(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ym(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ym(Object(r),!0).forEach(function(n){yo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ym(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yo(e,t,r){return t=ey(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ey(e){var t=C3(e,"string");return Xi(t)=="symbol"?t:t+""}function C3(e,t){if(Xi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $u=function(t,r,n,a,s){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!tt(u,Gt);return d.reduce(function(m,p){var x=r[p],v=x.orientation,j=x.domain,b=x.padding,w=b===void 0?{}:b,_=x.mirror,y=x.reversed,g="".concat(v).concat(_?"Mirror":""),N,S,A,T,P;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var $=j[1]-j[0],k=1/0,M=x.categoricalDomain.sort(Xj);if(M.forEach(function(ge,Pe){Pe>0&&(k=Math.min((ge||0)-(M[Pe-1]||0),k))}),Number.isFinite(k)){var C=k/$,D=x.layout==="vertical"?n.height:n.width;if(x.padding==="gap"&&(N=C*D/2),x.padding==="no-gap"){var R=Ke(t.barCategoryGap,C*D),F=C*D/2;N=F-R-(F-R)/D*R}}}a==="xAxis"?S=[n.left+(w.left||0)+(N||0),n.left+n.width-(w.right||0)-(N||0)]:a==="yAxis"?S=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(N||0),n.top+n.height-(w.bottom||0)-(N||0)]:S=x.range,y&&(S=[S[1],S[0]]);var z=xx(x,s,h),Y=z.scale,Q=z.realScaleType;Y.domain(j).range(S),yx(Y);var G=gx(Y,xt(xt({},x),{},{realScaleType:Q}));a==="xAxis"?(P=v==="top"&&!_||v==="bottom"&&_,A=n.left,T=f[g]-P*x.height):a==="yAxis"&&(P=v==="left"&&!_||v==="right"&&_,A=f[g]-P*x.width,T=n.top);var ee=xt(xt(xt({},x),G),{},{realScaleType:Q,x:A,y:T,scale:Y,width:a==="xAxis"?n.width:x.width,height:a==="yAxis"?n.height:x.height});return ee.bandSize=is(ee,G),!x.hide&&a==="xAxis"?f[g]+=(P?-1:1)*ee.height:x.hide||(f[g]+=(P?-1:1)*ee.width),xt(xt({},m),{},yo({},p,ee))},{})},ty=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(a,o),width:Math.abs(s-n),height:Math.abs(o-a)}},M3=function(t){var r=t.x1,n=t.y1,a=t.x2,s=t.y2;return ty({x:r,y:n},{x:a,y:s})},ry=function(){function e(t){E3(this,e),this.scale=t}return k3(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();yo(ry,"EPS",1e-4);var Tu=function(t){var r=Object.keys(t).reduce(function(n,a){return xt(xt({},n),{},yo({},a,ry.create(t[a])))},{});return xt(xt({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return e3(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return Yx(a,function(s,o){return r[o].isInRange(s)})}})};function I3(e){return(e%180+180)%180}var D3=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=I3(a),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},R3=Dt,L3=ta,B3=Js;function q3(e){return function(t,r,n){var a=Object(t);if(!L3(t)){var s=R3(r);t=B3(t),r=function(l){return s(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[s?t[o]:o]:void 0}}var F3=q3,z3=Kx;function U3(e){var t=z3(e),r=t%1;return t===t?r?t-r:t:0}var W3=U3,H3=Zp,K3=Dt,G3=W3,V3=Math.max;function X3(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:G3(r);return a<0&&(a=V3(n+a,0)),H3(e,K3(t),a)}var Y3=X3,Z3=F3,J3=Y3,Q3=Z3(J3),eB=Q3;const tB=me(eB);var rB=Jb(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Eu=I.createContext(void 0),ku=I.createContext(void 0),ny=I.createContext(void 0),iy=I.createContext({}),ay=I.createContext(void 0),sy=I.createContext(0),oy=I.createContext(0),gm=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=rB(s);return O.createElement(Eu.Provider,{value:n},O.createElement(ku.Provider,{value:a},O.createElement(iy.Provider,{value:s},O.createElement(ny.Provider,{value:d},O.createElement(ay.Provider,{value:o},O.createElement(sy.Provider,{value:u},O.createElement(oy.Provider,{value:c},l)))))))},nB=function(){return I.useContext(ay)},ly=function(t){var r=I.useContext(Eu);r==null&&Fr();var n=r[t];return n==null&&Fr(),n},iB=function(){var t=I.useContext(Eu);return nr(t)},aB=function(){var t=I.useContext(ku),r=tB(t,function(n){return Yx(n.domain,Number.isFinite)});return r||nr(t)},cy=function(t){var r=I.useContext(ku);r==null&&Fr();var n=r[t];return n==null&&Fr(),n},sB=function(){var t=I.useContext(ny);return t},oB=function(){return I.useContext(iy)},Cu=function(){return I.useContext(oy)},Mu=function(){return I.useContext(sy)};function $n(e){"@babel/helpers - typeof";return $n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$n(e)}function lB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dy(n.key),n)}}function uB(e,t,r){return t&&cB(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dB(e,t,r){return t=js(t),fB(e,uy()?Reflect.construct(t,r||[],js(e).constructor):t.apply(e,r))}function fB(e,t){if(t&&($n(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hB(e)}function hB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uy=function(){return!!e})()}function js(e){return js=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},js(e)}function mB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fc(e,t)}function fc(e,t){return fc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fc(e,t)}function bm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bm(Object(r),!0).forEach(function(n){Iu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iu(e,t,r){return t=dy(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dy(e){var t=pB(e,"string");return $n(t)=="symbol"?t:t+""}function pB(e,t){if($n(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($n(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function vB(e,t){return bB(e)||gB(e,t)||yB(e,t)||xB()}function xB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yB(e,t){if(e){if(typeof e=="string")return wm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wm(e,t)}}function wm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gB(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function bB(e){if(Array.isArray(e))return e}function hc(){return hc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hc.apply(this,arguments)}var jB=function(t,r){var n;return O.isValidElement(t)?n=O.cloneElement(t,r):J(t)?n=t(r):n=O.createElement("line",hc({},r,{className:"recharts-reference-line-line"})),n},wB=function(t,r,n,a,s,o,l,c,u){var d=s.x,f=s.y,h=s.width,m=s.height;if(n){var p=u.y,x=t.y.apply(p,{position:o});if(Ct(u,"discard")&&!t.y.isInRange(x))return null;var v=[{x:d+h,y:x},{x:d,y:x}];return c==="left"?v.reverse():v}if(r){var j=u.x,b=t.x.apply(j,{position:o});if(Ct(u,"discard")&&!t.x.isInRange(b))return null;var w=[{x:b,y:f+m},{x:b,y:f}];return l==="top"?w.reverse():w}if(a){var _=u.segment,y=_.map(function(g){return t.apply(g,{position:o})});return Ct(u,"discard")&&K5(y,function(g){return!t.isInRange(g)})?null:y}return null};function _B(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,s=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=nB(),d=ly(a),f=cy(s),h=sB();if(!u||!h)return null;bt(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Tu({x:d.scale,y:f.scale}),p=De(t),x=De(r),v=n&&n.length===2,j=wB(m,p,x,v,h,e.position,d.orientation,f.orientation,e);if(!j)return null;var b=vB(j,2),w=b[0],_=w.x,y=w.y,g=b[1],N=g.x,S=g.y,A=Ct(e,"hidden")?"url(#".concat(u,")"):void 0,T=jm(jm({clipPath:A},X(e,!0)),{},{x1:_,y1:y,x2:N,y2:S});return O.createElement(se,{className:re("recharts-reference-line",l)},jB(o,T),Be.renderCallByParent(e,M3({x1:_,y1:y,x2:N,y2:S})))}var Du=function(e){function t(){return lB(this,t),dB(this,t,arguments)}return mB(t,e),uB(t,[{key:"render",value:function(){return O.createElement(_B,this.props)}}])}(O.Component);Iu(Du,"displayName","ReferenceLine");Iu(Du,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function mc(){return mc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mc.apply(this,arguments)}function Tn(e){"@babel/helpers - typeof";return Tn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tn(e)}function _m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_m(Object(r),!0).forEach(function(n){go(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_m(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hy(n.key),n)}}function SB(e,t,r){return t&&OB(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function AB(e,t,r){return t=ws(t),PB(e,fy()?Reflect.construct(t,r||[],ws(e).constructor):t.apply(e,r))}function PB(e,t){if(t&&(Tn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $B(e)}function $B(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fy=function(){return!!e})()}function ws(e){return ws=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ws(e)}function TB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pc(e,t)}function pc(e,t){return pc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pc(e,t)}function go(e,t,r){return t=hy(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hy(e){var t=EB(e,"string");return Tn(t)=="symbol"?t:t+""}function EB(e,t){if(Tn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var kB=function(t){var r=t.x,n=t.y,a=t.xAxis,s=t.yAxis,o=Tu({x:a.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Ct(t,"discard")&&!o.isInRange(l)?null:l},bo=function(e){function t(){return NB(this,t),AB(this,t,arguments)}return TB(t,e),SB(t,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=De(a),d=De(s);if(bt(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=kB(this.props);if(!f)return null;var h=f.x,m=f.y,p=this.props,x=p.shape,v=p.className,j=Ct(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=Nm(Nm({clipPath:j},X(this.props,!0)),{},{cx:h,cy:m});return O.createElement(se,{className:re("recharts-reference-dot",v)},t.renderDot(x,b),Be.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(O.Component);go(bo,"displayName","ReferenceDot");go(bo,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});go(bo,"renderDot",function(e,t){var r;return O.isValidElement(e)?r=O.cloneElement(e,t):J(e)?r=e(t):r=O.createElement(la,mc({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function vc(){return vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vc.apply(this,arguments)}function En(e){"@babel/helpers - typeof";return En=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},En(e)}function Om(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Om(Object(r),!0).forEach(function(n){jo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Om(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,py(n.key),n)}}function IB(e,t,r){return t&&MB(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function DB(e,t,r){return t=_s(t),RB(e,my()?Reflect.construct(t,r||[],_s(e).constructor):t.apply(e,r))}function RB(e,t){if(t&&(En(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LB(e)}function LB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function my(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(my=function(){return!!e})()}function _s(e){return _s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_s(e)}function BB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xc(e,t)}function xc(e,t){return xc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xc(e,t)}function jo(e,t,r){return t=py(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function py(e){var t=qB(e,"string");return En(t)=="symbol"?t:t+""}function qB(e,t){if(En(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(En(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var FB=function(t,r,n,a,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var h=Tu({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},p={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Ct(s,"discard")&&(!h.isInRange(m)||!h.isInRange(p))?null:ty(m,p)},wo=function(e){function t(){return CB(this,t),DB(this,t,arguments)}return BB(t,e),IB(t,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;bt(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=De(a),h=De(s),m=De(o),p=De(l),x=this.props.shape;if(!f&&!h&&!m&&!p&&!x)return null;var v=FB(f,h,m,p,this.props);if(!v&&!x)return null;var j=Ct(this.props,"hidden")?"url(#".concat(d,")"):void 0;return O.createElement(se,{className:re("recharts-reference-area",c)},t.renderRect(x,Sm(Sm({clipPath:j},X(this.props,!0)),v)),Be.renderCallByParent(this.props,v))}}])}(O.Component);jo(wo,"displayName","ReferenceArea");jo(wo,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});jo(wo,"renderRect",function(e,t){var r;return O.isValidElement(e)?r=O.cloneElement(e,t):J(e)?r=e(t):r=O.createElement(Pu,vc({},t,{className:"recharts-reference-area-rect"})),r});function vy(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function zB(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return D3(n,r)}function UB(e,t,r){var n=r==="width",a=e.x,s=e.y,o=e.width,l=e.height;return t===1?{start:n?a:s,end:n?a+o:s+l}:{start:n?a+o:s+l,end:n?a:s}}function Ns(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function WB(e,t){return vy(e,t+1)}function HB(e,t,r,n,a){for(var s=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var p=n?.[c];if(p===void 0)return{v:vy(n,u)};var x=c,v,j=function(){return v===void 0&&(v=r(p,x)),v},b=p.coordinate,w=c===0||Ns(e,b,j,d,l);w||(c=0,d=o,u+=1),w&&(d=b+e*(j()/2+a),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function Yi(e){"@babel/helpers - typeof";return Yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yi(e)}function Am(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Am(Object(r),!0).forEach(function(n){KB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Am(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KB(e,t,r){return t=GB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GB(e){var t=VB(e,"string");return Yi(t)=="symbol"?t:t+""}function VB(e,t){if(Yi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XB(e,t,r,n,a){for(var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end,u=function(h){var m=s[h],p,x=function(){return p===void 0&&(p=r(m,h)),p};if(h===o-1){var v=e*(m.coordinate+e*x()/2-c);s[h]=m=Ue(Ue({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else s[h]=m=Ue(Ue({},m),{},{tickCoord:m.coordinate});var j=Ns(e,m.tickCoord,x,l,c);j&&(c=m.tickCoord-e*(x()/2+a),s[h]=Ue(Ue({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return s}function YB(e,t,r,n,a,s){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(s){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=Ue(Ue({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=Ns(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+a),o[l-1]=Ue(Ue({},d),{},{isShow:!0}))}for(var p=s?l-1:l,x=function(b){var w=o[b],_,y=function(){return _===void 0&&(_=r(w,b)),_};if(b===0){var g=e*(w.coordinate-e*y()/2-c);o[b]=w=Ue(Ue({},w),{},{tickCoord:g<0?w.coordinate-g*e:w.coordinate})}else o[b]=w=Ue(Ue({},w),{},{tickCoord:w.coordinate});var N=Ns(e,w.tickCoord,y,c,u);N&&(c=w.tickCoord+e*(y()/2+a),o[b]=Ue(Ue({},w),{},{isShow:!0}))},v=0;v<p;v++)x(v);return o}function Ru(e,t,r){var n=e.tick,a=e.ticks,s=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(B(c)||mr.isSsr)return WB(a,typeof c=="number"&&B(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",p=d&&m==="width"?ui(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=function(w,_){var y=J(u)?u(w.value,_):w.value;return m==="width"?zB(ui(y,{fontSize:t,letterSpacing:r}),p,f):ui(y,{fontSize:t,letterSpacing:r})[m]},v=a.length>=2?He(a[1].coordinate-a[0].coordinate):1,j=UB(s,v,m);return c==="equidistantPreserveStart"?HB(v,j,x,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=YB(v,j,x,a,o,c==="preserveStartEnd"):h=XB(v,j,x,a,o),h.filter(function(b){return b.isShow}))}var ZB=["viewBox"],JB=["viewBox"],QB=["ticks"];function kn(e){"@babel/helpers - typeof";return kn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kn(e)}function an(){return an=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},an.apply(this,arguments)}function Pm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pm(Object(r),!0).forEach(function(n){Lu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yo(e,t){if(e==null)return{};var r=e6(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function e6(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function t6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yy(n.key),n)}}function r6(e,t,r){return t&&$m(e.prototype,t),r&&$m(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function n6(e,t,r){return t=Os(t),i6(e,xy()?Reflect.construct(t,r||[],Os(e).constructor):t.apply(e,r))}function i6(e,t){if(t&&(kn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a6(e)}function a6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xy=function(){return!!e})()}function Os(e){return Os=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Os(e)}function s6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yc(e,t)}function yc(e,t){return yc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yc(e,t)}function Lu(e,t,r){return t=yy(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yy(e){var t=o6(e,"string");return kn(t)=="symbol"?t:t+""}function o6(e,t){if(kn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Zn=function(e){function t(r){var n;return t6(this,t),n=n6(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return s6(t,e),r6(t,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,o=Yo(n,ZB),l=this.props,c=l.viewBox,u=Yo(l,JB);return!ln(s,c)||!ln(o,u)||!ln(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,m,p,x,v,j,b,w=f?-1:1,_=n.tickSize||d,y=B(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=p=n.coordinate,v=o+ +!f*c,x=v-w*_,b=x-w*h,j=y;break;case"left":x=v=n.coordinate,p=s+ +!f*l,m=p-w*_,j=m-w*h,b=y;break;case"right":x=v=n.coordinate,p=s+ +f*l,m=p+w*_,j=m+w*h,b=y;break;default:m=p=n.coordinate,v=o+ +f*c,x=v+w*_,b=x+w*h,j=y;break}return{line:{x1:m,y1:x,x2:p,y2:v},tick:{x:j,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o;switch(a){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Ce(Ce(Ce({},X(this.props,!1)),X(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Ce(Ce({},f),{},{x1:a,y1:s+h*l,x2:a+o,y2:s+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=Ce(Ce({},f),{},{x1:a+m*o,y1:s,x2:a+m*o,y2:s+l})}return O.createElement("line",an({},f,{className:re("recharts-cartesian-axis-line",nt(d,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=Ru(Ce(Ce({},this.props),{},{ticks:n}),a,s),p=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),v=X(this.props,!1),j=X(d,!1),b=Ce(Ce({},v),{},{fill:"none"},X(c,!1)),w=m.map(function(_,y){var g=o.getTickLineCoord(_),N=g.line,S=g.tick,A=Ce(Ce(Ce(Ce({textAnchor:p,verticalAnchor:x},v),{},{stroke:"none",fill:u},j),S),{},{index:y,payload:_,visibleTicksCount:m.length,tickFormatter:f});return O.createElement(se,an({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},Rr(o.props,_,y)),c&&O.createElement("line",an({},b,N,{className:re("recharts-cartesian-axis-tick-line",nt(c,"className"))})),d&&t.renderTickItem(d,A,"".concat(J(f)?f(_.value,y):_.value).concat(h||"")))});return O.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,m=Yo(f,QB),p=h;return J(c)&&(p=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!p||!p.length?null:O.createElement(se,{className:re("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},s&&this.renderAxisLine(),this.renderTicks(p,this.state.fontSize,this.state.letterSpacing),Be.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var o,l=re(a.className,"recharts-cartesian-axis-tick-value");return O.isValidElement(n)?o=O.cloneElement(n,Ce(Ce({},a),{},{className:l})):J(n)?o=n(Ce(Ce({},a),{},{className:l})):o=O.createElement(Lr,an({},a,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(I.Component);Lu(Zn,"displayName","CartesianAxis");Lu(Zn,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var l6=["x1","y1","x2","y2","key"],c6=["offset"];function zr(e){"@babel/helpers - typeof";return zr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zr(e)}function Tm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tm(Object(r),!0).forEach(function(n){u6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u6(e,t,r){return t=d6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d6(e){var t=f6(e,"string");return zr(t)=="symbol"?t:t+""}function f6(e,t){if(zr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Er(){return Er=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Er.apply(this,arguments)}function Em(e,t){if(e==null)return{};var r=h6(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function h6(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var m6=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.ry;return O.createElement("rect",{x:a,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function gy(e,t){var r;if(O.isValidElement(e))r=O.cloneElement(e,t);else if(J(e))r=e(t);else{var n=t.x1,a=t.y1,s=t.x2,o=t.y2,l=t.key,c=Em(t,l6),u=X(c,!1);u.offset;var d=Em(u,c6);r=O.createElement("line",Er({},d,{x1:n,y1:a,x2:s,y2:o,fill:"none",key:l}))}return r}function p6(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,s=e.horizontalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=We(We({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return gy(a,u)});return O.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function v6(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,s=e.verticalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=We(We({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return gy(a,u)});return O.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function x6(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,s=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var p=!d[m+1],x=p?a+o-h:d[m+1]-h;if(x<=0)return null;var v=m%t.length;return O.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:x,width:s,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function y6(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,s=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,m){return h-m});s!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var p=!d[m+1],x=p?s+l-h:d[m+1]-h;if(x<=0)return null;var v=m%n.length;return O.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:x,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var g6=function(t,r){var n=t.xAxis,a=t.width,s=t.height,o=t.offset;return vx(Ru(We(We(We({},Zn.defaultProps),n),{},{ticks:Wt(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.left,o.left+o.width,r)},b6=function(t,r){var n=t.yAxis,a=t.width,s=t.height,o=t.offset;return vx(Ru(We(We(We({},Zn.defaultProps),n),{},{ticks:Wt(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.top,o.top+o.height,r)},Qr={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ur(e){var t,r,n,a,s,o,l=Cu(),c=Mu(),u=oB(),d=We(We({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Qr.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Qr.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Qr.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Qr.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:Qr.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Qr.verticalFill,x:B(e.x)?e.x:u.left,y:B(e.y)?e.y:u.top,width:B(e.width)?e.width:u.width,height:B(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,p=d.height,x=d.syncWithTicks,v=d.horizontalValues,j=d.verticalValues,b=iB(),w=aB();if(!B(m)||m<=0||!B(p)||p<=0||!B(f)||f!==+f||!B(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||g6,y=d.horizontalCoordinatesGenerator||b6,g=d.horizontalPoints,N=d.verticalPoints;if((!g||!g.length)&&J(y)){var S=v&&v.length,A=y({yAxis:w?We(We({},w),{},{ticks:S?v:w.ticks}):void 0,width:l,height:c,offset:u},S?!0:x);bt(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(zr(A),"]")),Array.isArray(A)&&(g=A)}if((!N||!N.length)&&J(_)){var T=j&&j.length,P=_({xAxis:b?We(We({},b),{},{ticks:T?j:b.ticks}):void 0,width:l,height:c,offset:u},T?!0:x);bt(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(zr(P),"]")),Array.isArray(P)&&(N=P)}return O.createElement("g",{className:"recharts-cartesian-grid"},O.createElement(m6,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),O.createElement(p6,Er({},d,{offset:u,horizontalPoints:g,xAxis:b,yAxis:w})),O.createElement(v6,Er({},d,{offset:u,verticalPoints:N,xAxis:b,yAxis:w})),O.createElement(x6,Er({},d,{horizontalPoints:g})),O.createElement(y6,Er({},d,{verticalPoints:N})))}Ur.displayName="CartesianGrid";var j6=["type","layout","connectNulls","ref"],w6=["key"];function Cn(e){"@babel/helpers - typeof";return Cn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cn(e)}function km(e,t){if(e==null)return{};var r=_6(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _6(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vi(){return vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vi.apply(this,arguments)}function Cm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cm(Object(r),!0).forEach(function(n){yt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function en(e){return A6(e)||S6(e)||O6(e)||N6()}function N6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O6(e,t){if(e){if(typeof e=="string")return gc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gc(e,t)}}function S6(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function A6(e){if(Array.isArray(e))return gc(e)}function gc(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function P6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mm(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jy(n.key),n)}}function $6(e,t,r){return t&&Mm(e.prototype,t),r&&Mm(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function T6(e,t,r){return t=Ss(t),E6(e,by()?Reflect.construct(t,r||[],Ss(e).constructor):t.apply(e,r))}function E6(e,t){if(t&&(Cn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k6(e)}function k6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function by(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(by=function(){return!!e})()}function Ss(e){return Ss=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ss(e)}function C6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bc(e,t)}function bc(e,t){return bc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bc(e,t)}function yt(e,t,r){return t=jy(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jy(e){var t=M6(e,"string");return Cn(t)=="symbol"?t:t+""}function M6(e,t){if(Cn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wr=function(e){function t(){var r;P6(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=T6(this,t,[].concat(a)),yt(r,"state",{isAnimationFinished:!0,totalLength:0}),yt(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),yt(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(j,b){return j+b});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,m=[],p=0,x=0;p<c.length;x+=c[p],++p)if(x+c[p]>f){m=[].concat(en(c.slice(0,p)),[f-x]);break}var v=m.length%2===0?[0,h]:[h];return[].concat(en(t.repeat(c,d)),en(m),v).map(function(j){return"".concat(j,"px")}).join(", ")}),yt(r,"id",Kr("recharts-line-")),yt(r,"pathRef",function(o){r.mainCurve=o}),yt(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),yt(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return C6(t,e),$6(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=it(d,oa);if(!f)return null;var h=function(x,v){return{x:x.x,y:x.y,value:x.value,errorVal:Se(x.payload,v)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return O.createElement(se,m,f.map(function(p){return O.cloneElement(p,{key:"bar-".concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=X(this.props,!1),h=X(c,!0),m=u.map(function(x,v){var j=Qe(Qe(Qe({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:x.x,cy:x.y,value:x.value,dataKey:d,payload:x.payload,points:u});return t.renderDotItem(c,j)}),p={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return O.createElement(se,vi({className:"recharts-line-dots",key:"dots"},p),m)}},{key:"renderCurveStatically",value:function(n,a,s,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=km(l,j6),h=Qe(Qe(Qe({},X(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return O.createElement(Ir,vi({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,p=o.animateNewValues,x=o.width,v=o.height,j=this.state,b=j.prevPoints,w=j.totalLength;return O.createElement(_t,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var y=_.t;if(b){var g=b.length/l.length,N=l.map(function($,k){var M=Math.floor(k*g);if(b[M]){var C=b[M],D=Ie(C.x,$.x),R=Ie(C.y,$.y);return Qe(Qe({},$),{},{x:D(y),y:R(y)})}if(p){var F=Ie(x*2,$.x),z=Ie(v/2,$.y);return Qe(Qe({},$),{},{x:F(y),y:z(y)})}return Qe(Qe({},$),{},{x:$.x,y:$.y})});return s.renderCurveStatically(N,n,a)}var S=Ie(0,w),A=S(y),T;if(c){var P="".concat(c).split(/[,\s]+/gim).map(function($){return parseFloat($)});T=s.getStrokeDasharray(A,w,P)}else T=s.generateSimpleStrokeDasharray(w,A);return s.renderCurveStatically(l,n,a,{strokeDasharray:T})})}},{key:"renderCurve",value:function(n,a){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!Br(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,m=a.width,p=a.height,x=a.isAnimationActive,v=a.id;if(s||!l||!l.length)return null;var j=this.state.isAnimationFinished,b=l.length===1,w=re("recharts-line",c),_=u&&u.allowDataOverflow,y=d&&d.allowDataOverflow,g=_||y,N=te(v)?this.id:v,S=(n=X(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=S.r,T=A===void 0?3:A,P=S.strokeWidth,$=P===void 0?2:P,k=lp(o)?o:{},M=k.clipDot,C=M===void 0?!0:M,D=T*2+$;return O.createElement(se,{className:w},_||y?O.createElement("defs",null,O.createElement("clipPath",{id:"clipPath-".concat(N)},O.createElement("rect",{x:_?h:h-m/2,y:y?f:f-p/2,width:_?m:m*2,height:y?p:p*2})),!C&&O.createElement("clipPath",{id:"clipPath-dots-".concat(N)},O.createElement("rect",{x:h-D/2,y:f-D/2,width:m+D,height:p+D}))):null,!b&&this.renderCurve(g,N),this.renderErrorBar(g,N),(b||o)&&this.renderDots(g,C,N),(!x||j)&&kt.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var s=n.length%2!==0?[].concat(en(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(en(o),en(s));return o}},{key:"renderDotItem",value:function(n,a){var s;if(O.isValidElement(n))s=O.cloneElement(n,a);else if(J(n))s=n(a);else{var o=a.key,l=km(a,w6),c=re("recharts-line-dot",typeof n!="boolean"?n.className:"");s=O.createElement(la,vi({key:o},l,{className:c}))}return s}}])}(I.PureComponent);yt(Wr,"displayName","Line");yt(Wr,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!mr.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});yt(Wr,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,m){var p=Se(h,o);return d==="horizontal"?{x:ns({axis:r,ticks:a,bandSize:l,entry:h,index:m}),y:te(p)?null:n.scale(p),value:p,payload:h}:{x:te(p)?null:r.scale(p),y:ns({axis:n,ticks:s,bandSize:l,entry:h,index:m}),value:p,payload:h}});return Qe({points:f,layout:d},u)});var I6=["layout","type","stroke","connectNulls","isRange","ref"],D6=["key"],wy;function Mn(e){"@babel/helpers - typeof";return Mn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mn(e)}function _y(e,t){if(e==null)return{};var r=R6(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function R6(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kr(){return kr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kr.apply(this,arguments)}function Im(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Im(Object(r),!0).forEach(function(n){$t(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Im(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dm(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Oy(n.key),n)}}function B6(e,t,r){return t&&Dm(e.prototype,t),r&&Dm(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function q6(e,t,r){return t=As(t),F6(e,Ny()?Reflect.construct(t,r||[],As(e).constructor):t.apply(e,r))}function F6(e,t){if(t&&(Mn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z6(e)}function z6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ny(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ny=function(){return!!e})()}function As(e){return As=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},As(e)}function U6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jc(e,t)}function jc(e,t){return jc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jc(e,t)}function $t(e,t,r){return t=Oy(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oy(e){var t=W6(e,"string");return Mn(t)=="symbol"?t:t+""}function W6(e,t){if(Mn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var at=function(e){function t(){var r;L6(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=q6(this,t,[].concat(a)),$t(r,"state",{isAnimationFinished:!0}),$t(r,"id",Kr("recharts-area-")),$t(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),J(o)&&o()}),$t(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),J(o)&&o()}),r}return U6(t,e),B6(t,[{key:"renderDots",value:function(n,a,s){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=X(this.props,!1),m=X(u,!0),p=d.map(function(v,j){var b=tr(tr(tr({key:"dot-".concat(j),r:3},h),m),{},{index:j,cx:v.x,cy:v.y,dataKey:f,value:v.value,payload:v.payload,points:d});return t.renderDotItem(u,b)}),x={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return O.createElement(se,kr({className:"recharts-area-dots"},x),p)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,s=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=n*Math.abs(c-u),f=ar(o.map(function(h){return h.y||0}));return B(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(ar(s.map(function(h){return h.y||0})),f)),B(f)?O.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,s=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=n*Math.abs(c-u),f=ar(o.map(function(h){return h.x||0}));return B(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(ar(s.map(function(h){return h.x||0})),f)),B(f)?O.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,s,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var m=_y(l,I6);return O.createElement(se,{clipPath:s?"url(#clipPath-".concat(o,")"):null},O.createElement(Ir,kr({},X(m,!0),{points:n,connectNulls:f,type:u,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&O.createElement(Ir,kr({},X(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&O.createElement(Ir,kr({},X(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var s=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,p=this.state,x=p.prevPoints,v=p.prevBaseLine;return O.createElement(_t,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var b=j.t;if(x){var w=x.length/l.length,_=l.map(function(S,A){var T=Math.floor(A*w);if(x[T]){var P=x[T],$=Ie(P.x,S.x),k=Ie(P.y,S.y);return tr(tr({},S),{},{x:$(b),y:k(b)})}return S}),y;if(B(c)&&typeof c=="number"){var g=Ie(v,c);y=g(b)}else if(te(c)||Wn(c)){var N=Ie(v,0);y=N(b)}else y=c.map(function(S,A){var T=Math.floor(A*w);if(v[T]){var P=v[T],$=Ie(P.x,S.x),k=Ie(P.y,S.y);return tr(tr({},S),{},{x:$(b),y:k(b)})}return S});return s.renderAreaStatically(_,y,n,a)}return O.createElement(se,null,O.createElement("defs",null,O.createElement("clipPath",{id:"animationClipPath-".concat(a)},s.renderClipRect(b))),O.createElement(se,{clipPath:"url(#animationClipPath-".concat(a,")")},s.renderAreaStatically(l,c,n,a)))})}},{key:"renderArea",value:function(n,a){var s=this.props,o=s.points,l=s.baseLine,c=s.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&o&&o.length&&(!d&&h>0||!Br(d,o)||!Br(f,l))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(o,l,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,o=a.dot,l=a.points,c=a.className,u=a.top,d=a.left,f=a.xAxis,h=a.yAxis,m=a.width,p=a.height,x=a.isAnimationActive,v=a.id;if(s||!l||!l.length)return null;var j=this.state.isAnimationFinished,b=l.length===1,w=re("recharts-area",c),_=f&&f.allowDataOverflow,y=h&&h.allowDataOverflow,g=_||y,N=te(v)?this.id:v,S=(n=X(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=S.r,T=A===void 0?3:A,P=S.strokeWidth,$=P===void 0?2:P,k=lp(o)?o:{},M=k.clipDot,C=M===void 0?!0:M,D=T*2+$;return O.createElement(se,{className:w},_||y?O.createElement("defs",null,O.createElement("clipPath",{id:"clipPath-".concat(N)},O.createElement("rect",{x:_?d:d-m/2,y:y?u:u-p/2,width:_?m:m*2,height:y?p:p*2})),!C&&O.createElement("clipPath",{id:"clipPath-dots-".concat(N)},O.createElement("rect",{x:d-D/2,y:u-D/2,width:m+D,height:p+D}))):null,b?null:this.renderArea(g,N),(o||b)&&this.renderDots(g,C,N),(!x||j)&&kt.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(I.PureComponent);wy=at;$t(at,"displayName","Area");$t(at,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!mr.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});$t(at,"getBaseValue",function(e,t,r,n){var a=e.layout,s=e.baseValue,o=t.props.baseValue,l=o??s;if(B(l)&&typeof l=="number")return l;var c=a==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});$t(at,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,s=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=t.layout,p=u&&u.length,x=wy.getBaseValue(t,r,n,a),v=m==="horizontal",j=!1,b=f.map(function(_,y){var g;p?g=u[d+y]:(g=Se(_,c),Array.isArray(g)?j=!0:g=[x,g]);var N=g[1]==null||p&&Se(_,c)==null;return v?{x:ns({axis:n,ticks:s,bandSize:l,entry:_,index:y}),y:N?null:a.scale(g[1]),value:g,payload:_}:{x:N?null:n.scale(g[1]),y:ns({axis:a,ticks:o,bandSize:l,entry:_,index:y}),value:g,payload:_}}),w;return p||j?w=b.map(function(_){var y=Array.isArray(_.value)?_.value[0]:null;return v?{x:_.x,y:y!=null&&_.y!=null?a.scale(y):null}:{x:y!=null?n.scale(y):null,y:_.y}}):w=v?a.scale(x):n.scale(x),tr({points:b,baseLine:w,layout:m,isRange:j},h)});$t(at,"renderDotItem",function(e,t){var r;if(O.isValidElement(e))r=O.cloneElement(e,t);else if(J(e))r=e(t);else{var n=re("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,s=_y(t,D6);r=O.createElement(la,kr({},s,{key:a,className:n}))}return r});function In(e){"@babel/helpers - typeof";return In=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},In(e)}function H6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Py(n.key),n)}}function G6(e,t,r){return t&&K6(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function V6(e,t,r){return t=Ps(t),X6(e,Sy()?Reflect.construct(t,r||[],Ps(e).constructor):t.apply(e,r))}function X6(e,t){if(t&&(In(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y6(e)}function Y6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sy=function(){return!!e})()}function Ps(e){return Ps=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ps(e)}function Z6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wc(e,t)}function wc(e,t){return wc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wc(e,t)}function Ay(e,t,r){return t=Py(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Py(e){var t=J6(e,"string");return In(t)=="symbol"?t:t+""}function J6(e,t){if(In(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(In(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function _c(){return _c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_c.apply(this,arguments)}function Q6(e){var t=e.xAxisId,r=Cu(),n=Mu(),a=ly(t);return a==null?null:I.createElement(Zn,_c({},a,{className:re("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Wt(o,!0)}}))}var Nt=function(e){function t(){return H6(this,t),V6(this,t,arguments)}return Z6(t,e),G6(t,[{key:"render",value:function(){return I.createElement(Q6,this.props)}}])}(I.Component);Ay(Nt,"displayName","XAxis");Ay(Nt,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Dn(e){"@babel/helpers - typeof";return Dn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dn(e)}function e8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ey(n.key),n)}}function r8(e,t,r){return t&&t8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function n8(e,t,r){return t=$s(t),i8(e,$y()?Reflect.construct(t,r||[],$s(e).constructor):t.apply(e,r))}function i8(e,t){if(t&&(Dn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a8(e)}function a8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($y=function(){return!!e})()}function $s(e){return $s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$s(e)}function s8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nc(e,t)}function Nc(e,t){return Nc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Nc(e,t)}function Ty(e,t,r){return t=Ey(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ey(e){var t=o8(e,"string");return Dn(t)=="symbol"?t:t+""}function o8(e,t){if(Dn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Oc(){return Oc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oc.apply(this,arguments)}var l8=function(t){var r=t.yAxisId,n=Cu(),a=Mu(),s=cy(r);return s==null?null:I.createElement(Zn,Oc({},s,{className:re("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Wt(l,!0)}}))},Ot=function(e){function t(){return e8(this,t),n8(this,t,arguments)}return s8(t,e),r8(t,[{key:"render",value:function(){return I.createElement(l8,this.props)}}])}(I.Component);Ty(Ot,"displayName","YAxis");Ty(Ot,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Rm(e){return f8(e)||d8(e)||u8(e)||c8()}function c8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u8(e,t){if(e){if(typeof e=="string")return Sc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sc(e,t)}}function d8(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function f8(e){if(Array.isArray(e))return Sc(e)}function Sc(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ac=function(t,r,n,a,s){var o=it(t,Du),l=it(t,bo),c=[].concat(Rm(o),Rm(l)),u=it(t,wo),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(x,v){if(v.props[d]===n&&Ct(v.props,"extendDomain")&&B(v.props[f])){var j=v.props[f];return[Math.min(x[0],j),Math.max(x[1],j)]}return x},h)),u.length){var m="".concat(f,"1"),p="".concat(f,"2");h=u.reduce(function(x,v){if(v.props[d]===n&&Ct(v.props,"extendDomain")&&B(v.props[m])&&B(v.props[p])){var j=v.props[m],b=v.props[p];return[Math.min(x[0],j,b),Math.max(x[1],j,b)]}return x},h)}return s&&s.length&&(h=s.reduce(function(x,v){return B(v)?[Math.min(x[0],v),Math.max(x[1],v)]:x},h)),h},ky={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),p=r?r+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],m]:c._events[p].push(m):(c._events[p]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,p){var x=r?r+u:u;if(!this._events[x])return!1;var v=this._events[x],j=arguments.length,b,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),j){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,p),!0}for(w=1,b=new Array(j-1);w<j;w++)b[w-1]=arguments[w];v.fn.apply(v.context,b)}else{var _=v.length,y;for(w=0;w<_;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),j){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,h);break;default:if(!b)for(y=1,b=new Array(j-1);y<j;y++)b[y-1]=arguments[y];v[w].fn.apply(v[w].context,b)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&o(this,m);else{for(var x=0,v=[],j=p.length;x<j;x++)(p[x].fn!==d||h&&!p[x].once||f&&p[x].context!==f)&&v.push(p[x]);v.length?this._events[m]=v.length===1?v[0]:v:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(ky);var h8=ky.exports;const m8=me(h8);var Zo=new m8,Jo="recharts.syncMouseEvents";function Zi(e){"@babel/helpers - typeof";return Zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zi(e)}function p8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Cy(n.key),n)}}function x8(e,t,r){return t&&v8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qo(e,t,r){return t=Cy(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cy(e){var t=y8(e,"string");return Zi(t)=="symbol"?t:t+""}function y8(e,t){if(Zi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var g8=function(){function e(){p8(this,e),Qo(this,"activeIndex",0),Qo(this,"coordinateList",[]),Qo(this,"layout","horizontal")}return x8(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function b8(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],a=e?.[1];if(n&&a&&B(n)&&B(a))return!0}return!1}function j8(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function My(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,s=e.endAngle,o=ye(t,r,n,a),l=ye(t,r,n,s);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function w8(e,t,r){var n,a,s,o;if(e==="horizontal")n=t.x,s=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=ye(l,c,u,f),m=ye(l,c,d,f);n=h.x,a=h.y,s=m.x,o=m.y}else return My(t);return[{x:n,y:a},{x:s,y:o}]}function Ji(e){"@babel/helpers - typeof";return Ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ji(e)}function Lm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lm(Object(r),!0).forEach(function(n){_8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _8(e,t,r){return t=N8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N8(e){var t=O8(e,"string");return Ji(t)=="symbol"?t:t+""}function O8(e,t){if(Ji(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ji(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S8(e){var t,r,n=e.element,a=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!s||!o||h!=="ScatterChart"&&a!=="axis")return null;var p,x=Ir;if(h==="ScatterChart")p=o,x=M4;else if(h==="BarChart")p=j8(f,o,c,d),x=Pu;else if(f==="radial"){var v=My(o),j=v.cx,b=v.cy,w=v.radius,_=v.startAngle,y=v.endAngle;p={cx:j,cy:b,startAngle:_,endAngle:y,innerRadius:w,outerRadius:w},x=Ax}else p={points:w8(f,o,c)},x=Ir;var g=_a(_a(_a(_a({stroke:"#ccc",pointerEvents:"none"},c),p),X(m,!1)),{},{payload:l,payloadIndex:u,className:re("recharts-tooltip-cursor",m.className)});return I.isValidElement(m)?I.cloneElement(m,g):I.createElement(x,g)}var A8=["item"],P8=["children","className","width","height","style","compact","title","desc"];function Rn(e){"@babel/helpers - typeof";return Rn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rn(e)}function sn(){return sn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sn.apply(this,arguments)}function Bm(e,t){return E8(e)||T8(e,t)||Dy(e,t)||$8()}function $8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function E8(e){if(Array.isArray(e))return e}function qm(e,t){if(e==null)return{};var r=k8(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function k8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function C8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ry(n.key),n)}}function I8(e,t,r){return t&&M8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function D8(e,t,r){return t=Ts(t),R8(e,Iy()?Reflect.construct(t,r||[],Ts(e).constructor):t.apply(e,r))}function R8(e,t){if(t&&(Rn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L8(e)}function L8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Iy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Iy=function(){return!!e})()}function Ts(e){return Ts=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ts(e)}function B8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pc(e,t)}function Pc(e,t){return Pc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Pc(e,t)}function Ln(e){return z8(e)||F8(e)||Dy(e)||q8()}function q8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dy(e,t){if(e){if(typeof e=="string")return $c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $c(e,t)}}function F8(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function z8(e){if(Array.isArray(e))return $c(e)}function $c(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fm(Object(r),!0).forEach(function(n){Z(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z(e,t,r){return t=Ry(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ry(e){var t=U8(e,"string");return Rn(t)=="symbol"?t:t+""}function U8(e,t){if(Rn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W8={xAxis:["bottom","top"],yAxis:["left","right"]},H8={width:"100%",height:"100%"},Ly={x:0,y:0};function Na(e){return e}var K8=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},G8=function(t,r,n,a){var s=r.find(function(d){return d&&d.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:s.coordinate};if(t==="centric"){var o=s.coordinate,l=a.radius;return E(E(E({},a),ye(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=a.angle;return E(E(E({},a),ye(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return Ly},_o=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Ln(l),Ln(u)):l},[]);return o.length>0?o:t&&t.length&&B(a)&&B(s)?t.slice(a,s+1):[]};function By(e){return e==="number"?[0,"auto"]:void 0}var Tc=function(t,r,n,a){var s=t.graphicalItems,o=t.tooltipAxis,l=_o(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;h=$a(m,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(Ln(c),[jx(u,h)]):c},[])},zm=function(t,r,n,a){var s=a||{x:t.chartX,y:t.chartY},o=K8(s,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=iI(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=Tc(t,r,d,f),m=G8(n,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},V8=function(t,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=px(d,s);return n.reduce(function(p,x){var v,j=x.type.defaultProps!==void 0?E(E({},x.type.defaultProps),x.props):x.props,b=j.type,w=j.dataKey,_=j.allowDataOverflow,y=j.allowDuplicatedCategory,g=j.scale,N=j.ticks,S=j.includeHidden,A=j[o];if(p[A])return p;var T=_o(t.data,{graphicalItems:a.filter(function(G){var ee,ge=o in G.props?G.props[o]:(ee=G.type.defaultProps)===null||ee===void 0?void 0:ee[o];return ge===A}),dataStartIndex:c,dataEndIndex:u}),P=T.length,$,k,M;b8(j.domain,_,b)&&($=Ul(j.domain,null,_),m&&(b==="number"||g!=="auto")&&(M=fi(T,w,"category")));var C=By(b);if(!$||$.length===0){var D,R=(D=j.domain)!==null&&D!==void 0?D:C;if(w){if($=fi(T,w,b),b==="category"&&m){var F=Vj($);y&&F?(k=$,$=vs(0,P)):y||($=lh(R,$,x).reduce(function(G,ee){return G.indexOf(ee)>=0?G:[].concat(Ln(G),[ee])},[]))}else if(b==="category")y?$=$.filter(function(G){return G!==""&&!te(G)}):$=lh(R,$,x).reduce(function(G,ee){return G.indexOf(ee)>=0||ee===""||te(ee)?G:[].concat(Ln(G),[ee])},[]);else if(b==="number"){var z=cI(T,a.filter(function(G){var ee,ge,Pe=o in G.props?G.props[o]:(ee=G.type.defaultProps)===null||ee===void 0?void 0:ee[o],Je="hide"in G.props?G.props.hide:(ge=G.type.defaultProps)===null||ge===void 0?void 0:ge.hide;return Pe===A&&(S||!Je)}),w,s,d);z&&($=z)}m&&(b==="number"||g!=="auto")&&(M=fi(T,w,"category"))}else m?$=vs(0,P):l&&l[A]&&l[A].hasStack&&b==="number"?$=h==="expand"?[0,1]:bx(l[A].stackGroups,c,u):$=mx(T,a.filter(function(G){var ee=o in G.props?G.props[o]:G.type.defaultProps[o],ge="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return ee===A&&(S||!ge)}),b,d,!0);if(b==="number")$=Ac(f,$,A,s,N),R&&($=Ul(R,$,_));else if(b==="category"&&R){var Y=R,Q=$.every(function(G){return Y.indexOf(G)>=0});Q&&($=Y)}}return E(E({},p),{},Z({},A,E(E({},j),{},{axisType:s,domain:$,categoricalDomain:M,duplicateDomain:k,originalDomain:(v=j.domain)!==null&&v!==void 0?v:C,isCategorical:m,layout:d})))},{})},X8=function(t,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=_o(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,p=px(d,s),x=-1;return n.reduce(function(v,j){var b=j.type.defaultProps!==void 0?E(E({},j.type.defaultProps),j.props):j.props,w=b[o],_=By("number");if(!v[w]){x++;var y;return p?y=vs(0,m):l&&l[w]&&l[w].hasStack?(y=bx(l[w].stackGroups,c,u),y=Ac(f,y,w,s)):(y=Ul(_,mx(h,n.filter(function(g){var N,S,A=o in g.props?g.props[o]:(N=g.type.defaultProps)===null||N===void 0?void 0:N[o],T="hide"in g.props?g.props.hide:(S=g.type.defaultProps)===null||S===void 0?void 0:S.hide;return A===w&&!T}),"number",d),a.defaultProps.allowDataOverflow),y=Ac(f,y,w,s)),E(E({},v),{},Z({},w,E(E({axisType:s},a.defaultProps),{},{hide:!0,orientation:nt(W8,"".concat(s,".").concat(x%2),null),domain:y,originalDomain:_,isCategorical:p,layout:d})))}return v},{})},Y8=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=it(d,s),m={};return h&&h.length?m=V8(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=X8(t,{Axis:s,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},Z8=function(t){var r=nr(t),n=Wt(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:tu(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:is(r,n)}},Um=function(t){var r=t.children,n=t.defaultShowTooltip,a=tt(r,An),s=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},J8=function(t){return!t||!t.length?!1:t.some(function(r){var n=Ht(r&&r.type);return n&&n.indexOf("Bar")>=0})},Wm=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Q8=function(t,r){var n=t.props,a=t.graphicalItems,s=t.xAxisMap,o=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=tt(f,An),p=tt(f,cn),x=Object.keys(c).reduce(function(y,g){var N=c[g],S=N.orientation;return!N.mirror&&!N.hide?E(E({},y),{},Z({},S,y[S]+N.width)):y},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(y,g){var N=o[g],S=N.orientation;return!N.mirror&&!N.hide?E(E({},y),{},Z({},S,nt(y,"".concat(S))+N.height)):y},{top:h.top||0,bottom:h.bottom||0}),j=E(E({},v),x),b=j.bottom;m&&(j.bottom+=m.props.height||An.defaultProps.height),p&&r&&(j=oI(j,a,n,r));var w=u-j.left-j.right,_=d-j.top-j.bottom;return E(E({brushBottom:b},j),{},{width:Math.max(w,0),height:Math.max(_,0)})},eq=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},No=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,s=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(j,b){var w=b.graphicalItems,_=b.stackGroups,y=b.offset,g=b.updateId,N=b.dataStartIndex,S=b.dataEndIndex,A=j.barSize,T=j.layout,P=j.barGap,$=j.barCategoryGap,k=j.maxBarSize,M=Wm(T),C=M.numericAxisName,D=M.cateAxisName,R=J8(w),F=[];return w.forEach(function(z,Y){var Q=_o(j.data,{graphicalItems:[z],dataStartIndex:N,dataEndIndex:S}),G=z.type.defaultProps!==void 0?E(E({},z.type.defaultProps),z.props):z.props,ee=G.dataKey,ge=G.maxBarSize,Pe=G["".concat(C,"Id")],Je=G["".concat(D,"Id")],yr={},Ve=c.reduce(function(gr,br){var Oo=b["".concat(br.axisType,"Map")],Bu=G["".concat(br.axisType,"Id")];Oo&&Oo[Bu]||br.axisType==="zAxis"||Fr();var qu=Oo[Bu];return E(E({},gr),{},Z(Z({},br.axisType,qu),"".concat(br.axisType,"Ticks"),Wt(qu)))},yr),K=Ve[D],ne=Ve["".concat(D,"Ticks")],ae=_&&_[Pe]&&_[Pe].hasStack&&yI(z,_[Pe].stackGroups),L=Ht(z.type).indexOf("Bar")>=0,Ne=is(K,ne),le=[],Ee=R&&aI({barSize:A,stackGroups:_,totalSize:eq(Ve,D)});if(L){var ke,Xe,er=te(ge)?k:ge,Yr=(ke=(Xe=is(K,ne,!0))!==null&&Xe!==void 0?Xe:er)!==null&&ke!==void 0?ke:0;le=sI({barGap:P,barCategoryGap:$,bandSize:Yr!==Ne?Yr:Ne,sizeList:Ee[Je],maxBarSize:er}),Yr!==Ne&&(le=le.map(function(gr){return E(E({},gr),{},{position:E(E({},gr.position),{},{offset:gr.position.offset-Yr/2})})}))}var ca=z&&z.type&&z.type.getComposedData;ca&&F.push({props:E(E({},ca(E(E({},Ve),{},{displayedData:Q,props:j,dataKey:ee,item:z,bandSize:Ne,barPosition:le,offset:y,stackedData:ae,layout:T,dataStartIndex:N,dataEndIndex:S}))),{},Z(Z(Z({key:z.key||"item-".concat(Y)},C,Ve[C]),D,Ve[D]),"animationId",g)),childIndex:sw(z,j.children),item:z})}),F},m=function(j,b){var w=j.props,_=j.dataStartIndex,y=j.dataEndIndex,g=j.updateId;if(!td({props:w}))return null;var N=w.children,S=w.layout,A=w.stackOffset,T=w.data,P=w.reverseStackOrder,$=Wm(S),k=$.numericAxisName,M=$.cateAxisName,C=it(N,n),D=vI(T,C,"".concat(k,"Id"),"".concat(M,"Id"),A,P),R=c.reduce(function(G,ee){var ge="".concat(ee.axisType,"Map");return E(E({},G),{},Z({},ge,Y8(w,E(E({},ee),{},{graphicalItems:C,stackGroups:ee.axisType===k&&D,dataStartIndex:_,dataEndIndex:y}))))},{}),F=Q8(E(E({},R),{},{props:w,graphicalItems:C}),b?.legendBBox);Object.keys(R).forEach(function(G){R[G]=d(w,R[G],F,G.replace("Map",""),r)});var z=R["".concat(M,"Map")],Y=Z8(z),Q=h(w,E(E({},R),{},{dataStartIndex:_,dataEndIndex:y,updateId:g,graphicalItems:C,stackGroups:D,offset:F}));return E(E({formattedGraphicalItems:Q,graphicalItems:C,offset:F,stackGroups:D},Y),R)},p=function(v){function j(b){var w,_,y;return C8(this,j),y=D8(this,j,[b]),Z(y,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Z(y,"accessibilityManager",new g8),Z(y,"handleLegendBBoxUpdate",function(g){if(g){var N=y.state,S=N.dataStartIndex,A=N.dataEndIndex,T=N.updateId;y.setState(E({legendBBox:g},m({props:y.props,dataStartIndex:S,dataEndIndex:A,updateId:T},E(E({},y.state),{},{legendBBox:g}))))}}),Z(y,"handleReceiveSyncEvent",function(g,N,S){if(y.props.syncId===g){if(S===y.eventEmitterSymbol&&typeof y.props.syncMethod!="function")return;y.applySyncEvent(N)}}),Z(y,"handleBrushChange",function(g){var N=g.startIndex,S=g.endIndex;if(N!==y.state.dataStartIndex||S!==y.state.dataEndIndex){var A=y.state.updateId;y.setState(function(){return E({dataStartIndex:N,dataEndIndex:S},m({props:y.props,dataStartIndex:N,dataEndIndex:S,updateId:A},y.state))}),y.triggerSyncEvent({dataStartIndex:N,dataEndIndex:S})}}),Z(y,"handleMouseEnter",function(g){var N=y.getMouseInfo(g);if(N){var S=E(E({},N),{},{isTooltipActive:!0});y.setState(S),y.triggerSyncEvent(S);var A=y.props.onMouseEnter;J(A)&&A(S,g)}}),Z(y,"triggeredAfterMouseMove",function(g){var N=y.getMouseInfo(g),S=N?E(E({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};y.setState(S),y.triggerSyncEvent(S);var A=y.props.onMouseMove;J(A)&&A(S,g)}),Z(y,"handleItemMouseEnter",function(g){y.setState(function(){return{isTooltipActive:!0,activeItem:g,activePayload:g.tooltipPayload,activeCoordinate:g.tooltipPosition||{x:g.cx,y:g.cy}}})}),Z(y,"handleItemMouseLeave",function(){y.setState(function(){return{isTooltipActive:!1}})}),Z(y,"handleMouseMove",function(g){g.persist(),y.throttleTriggeredAfterMouseMove(g)}),Z(y,"handleMouseLeave",function(g){y.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};y.setState(N),y.triggerSyncEvent(N);var S=y.props.onMouseLeave;J(S)&&S(N,g)}),Z(y,"handleOuterEvent",function(g){var N=aw(g),S=nt(y.props,"".concat(N));if(N&&J(S)){var A,T;/.*touch.*/i.test(N)?T=y.getMouseInfo(g.changedTouches[0]):T=y.getMouseInfo(g),S((A=T)!==null&&A!==void 0?A:{},g)}}),Z(y,"handleClick",function(g){var N=y.getMouseInfo(g);if(N){var S=E(E({},N),{},{isTooltipActive:!0});y.setState(S),y.triggerSyncEvent(S);var A=y.props.onClick;J(A)&&A(S,g)}}),Z(y,"handleMouseDown",function(g){var N=y.props.onMouseDown;if(J(N)){var S=y.getMouseInfo(g);N(S,g)}}),Z(y,"handleMouseUp",function(g){var N=y.props.onMouseUp;if(J(N)){var S=y.getMouseInfo(g);N(S,g)}}),Z(y,"handleTouchMove",function(g){g.changedTouches!=null&&g.changedTouches.length>0&&y.throttleTriggeredAfterMouseMove(g.changedTouches[0])}),Z(y,"handleTouchStart",function(g){g.changedTouches!=null&&g.changedTouches.length>0&&y.handleMouseDown(g.changedTouches[0])}),Z(y,"handleTouchEnd",function(g){g.changedTouches!=null&&g.changedTouches.length>0&&y.handleMouseUp(g.changedTouches[0])}),Z(y,"handleDoubleClick",function(g){var N=y.props.onDoubleClick;if(J(N)){var S=y.getMouseInfo(g);N(S,g)}}),Z(y,"handleContextMenu",function(g){var N=y.props.onContextMenu;if(J(N)){var S=y.getMouseInfo(g);N(S,g)}}),Z(y,"triggerSyncEvent",function(g){y.props.syncId!==void 0&&Zo.emit(Jo,y.props.syncId,g,y.eventEmitterSymbol)}),Z(y,"applySyncEvent",function(g){var N=y.props,S=N.layout,A=N.syncMethod,T=y.state.updateId,P=g.dataStartIndex,$=g.dataEndIndex;if(g.dataStartIndex!==void 0||g.dataEndIndex!==void 0)y.setState(E({dataStartIndex:P,dataEndIndex:$},m({props:y.props,dataStartIndex:P,dataEndIndex:$,updateId:T},y.state)));else if(g.activeTooltipIndex!==void 0){var k=g.chartX,M=g.chartY,C=g.activeTooltipIndex,D=y.state,R=D.offset,F=D.tooltipTicks;if(!R)return;if(typeof A=="function")C=A(F,g);else if(A==="value"){C=-1;for(var z=0;z<F.length;z++)if(F[z].value===g.activeLabel){C=z;break}}var Y=E(E({},R),{},{x:R.left,y:R.top}),Q=Math.min(k,Y.x+Y.width),G=Math.min(M,Y.y+Y.height),ee=F[C]&&F[C].value,ge=Tc(y.state,y.props.data,C),Pe=F[C]?{x:S==="horizontal"?F[C].coordinate:Q,y:S==="horizontal"?G:F[C].coordinate}:Ly;y.setState(E(E({},g),{},{activeLabel:ee,activeCoordinate:Pe,activePayload:ge,activeTooltipIndex:C}))}else y.setState(g)}),Z(y,"renderCursor",function(g){var N,S=y.state,A=S.isTooltipActive,T=S.activeCoordinate,P=S.activePayload,$=S.offset,k=S.activeTooltipIndex,M=S.tooltipAxisBandSize,C=y.getTooltipEventType(),D=(N=g.props.active)!==null&&N!==void 0?N:A,R=y.props.layout,F=g.key||"_recharts-cursor";return O.createElement(S8,{key:F,activeCoordinate:T,activePayload:P,activeTooltipIndex:k,chartName:r,element:g,isActive:D,layout:R,offset:$,tooltipAxisBandSize:M,tooltipEventType:C})}),Z(y,"renderPolarAxis",function(g,N,S){var A=nt(g,"type.axisType"),T=nt(y.state,"".concat(A,"Map")),P=g.type.defaultProps,$=P!==void 0?E(E({},P),g.props):g.props,k=T&&T[$["".concat(A,"Id")]];return I.cloneElement(g,E(E({},k),{},{className:re(A,k.className),key:g.key||"".concat(N,"-").concat(S),ticks:Wt(k,!0)}))}),Z(y,"renderPolarGrid",function(g){var N=g.props,S=N.radialLines,A=N.polarAngles,T=N.polarRadius,P=y.state,$=P.radiusAxisMap,k=P.angleAxisMap,M=nr($),C=nr(k),D=C.cx,R=C.cy,F=C.innerRadius,z=C.outerRadius;return I.cloneElement(g,{polarAngles:Array.isArray(A)?A:Wt(C,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(T)?T:Wt(M,!0).map(function(Y){return Y.coordinate}),cx:D,cy:R,innerRadius:F,outerRadius:z,key:g.key||"polar-grid",radialLines:S})}),Z(y,"renderLegend",function(){var g=y.state.formattedGraphicalItems,N=y.props,S=N.children,A=N.width,T=N.height,P=y.props.margin||{},$=A-(P.left||0)-(P.right||0),k=fx({children:S,formattedGraphicalItems:g,legendWidth:$,legendContent:u});if(!k)return null;var M=k.item,C=qm(k,A8);return I.cloneElement(M,E(E({},C),{},{chartWidth:A,chartHeight:T,margin:P,onBBoxUpdate:y.handleLegendBBoxUpdate}))}),Z(y,"renderTooltip",function(){var g,N=y.props,S=N.children,A=N.accessibilityLayer,T=tt(S,ze);if(!T)return null;var P=y.state,$=P.isTooltipActive,k=P.activeCoordinate,M=P.activePayload,C=P.activeLabel,D=P.offset,R=(g=T.props.active)!==null&&g!==void 0?g:$;return I.cloneElement(T,{viewBox:E(E({},D),{},{x:D.left,y:D.top}),active:R,label:C,payload:R?M:[],coordinate:k,accessibilityLayer:A})}),Z(y,"renderBrush",function(g){var N=y.props,S=N.margin,A=N.data,T=y.state,P=T.offset,$=T.dataStartIndex,k=T.dataEndIndex,M=T.updateId;return I.cloneElement(g,{key:g.key||"_recharts-brush",onChange:ga(y.handleBrushChange,g.props.onChange),data:A,x:B(g.props.x)?g.props.x:P.left,y:B(g.props.y)?g.props.y:P.top+P.height+P.brushBottom-(S.bottom||0),width:B(g.props.width)?g.props.width:P.width,startIndex:$,endIndex:k,updateId:"brush-".concat(M)})}),Z(y,"renderReferenceElement",function(g,N,S){if(!g)return null;var A=y,T=A.clipPathId,P=y.state,$=P.xAxisMap,k=P.yAxisMap,M=P.offset,C=g.type.defaultProps||{},D=g.props,R=D.xAxisId,F=R===void 0?C.xAxisId:R,z=D.yAxisId,Y=z===void 0?C.yAxisId:z;return I.cloneElement(g,{key:g.key||"".concat(N,"-").concat(S),xAxis:$[F],yAxis:k[Y],viewBox:{x:M.left,y:M.top,width:M.width,height:M.height},clipPathId:T})}),Z(y,"renderActivePoints",function(g){var N=g.item,S=g.activePoint,A=g.basePoint,T=g.childIndex,P=g.isRange,$=[],k=N.props.key,M=N.item.type.defaultProps!==void 0?E(E({},N.item.type.defaultProps),N.item.props):N.item.props,C=M.activeDot,D=M.dataKey,R=E(E({index:T,dataKey:D,cx:S.x,cy:S.y,r:4,fill:Au(N.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},X(C,!1)),Ta(C));return $.push(j.renderActiveDot(C,R,"".concat(k,"-activePoint-").concat(T))),A?$.push(j.renderActiveDot(C,E(E({},R),{},{cx:A.x,cy:A.y}),"".concat(k,"-basePoint-").concat(T))):P&&$.push(null),$}),Z(y,"renderGraphicChild",function(g,N,S){var A=y.filterFormatItem(g,N,S);if(!A)return null;var T=y.getTooltipEventType(),P=y.state,$=P.isTooltipActive,k=P.tooltipAxis,M=P.activeTooltipIndex,C=P.activeLabel,D=y.props.children,R=tt(D,ze),F=A.props,z=F.points,Y=F.isRange,Q=F.baseLine,G=A.item.type.defaultProps!==void 0?E(E({},A.item.type.defaultProps),A.item.props):A.item.props,ee=G.activeDot,ge=G.hide,Pe=G.activeBar,Je=G.activeShape,yr=!!(!ge&&$&&R&&(ee||Pe||Je)),Ve={};T!=="axis"&&R&&R.props.trigger==="click"?Ve={onClick:ga(y.handleItemMouseEnter,g.props.onClick)}:T!=="axis"&&(Ve={onMouseLeave:ga(y.handleItemMouseLeave,g.props.onMouseLeave),onMouseEnter:ga(y.handleItemMouseEnter,g.props.onMouseEnter)});var K=I.cloneElement(g,E(E({},A.props),Ve));function ne(br){return typeof k.dataKey=="function"?k.dataKey(br.payload):null}if(yr)if(M>=0){var ae,L;if(k.dataKey&&!k.allowDuplicatedCategory){var Ne=typeof k.dataKey=="function"?ne:"payload.".concat(k.dataKey.toString());ae=$a(z,Ne,C),L=Y&&Q&&$a(Q,Ne,C)}else ae=z?.[M],L=Y&&Q&&Q[M];if(Je||Pe){var le=g.props.activeIndex!==void 0?g.props.activeIndex:M;return[I.cloneElement(g,E(E(E({},A.props),Ve),{},{activeIndex:le})),null,null]}if(!te(ae))return[K].concat(Ln(y.renderActivePoints({item:A,activePoint:ae,basePoint:L,childIndex:M,isRange:Y})))}else{var Ee,ke=(Ee=y.getItemByXY(y.state.activeCoordinate))!==null&&Ee!==void 0?Ee:{graphicalItem:K},Xe=ke.graphicalItem,er=Xe.item,Yr=er===void 0?g:er,ca=Xe.childIndex,gr=E(E(E({},A.props),Ve),{},{activeIndex:ca});return[I.cloneElement(Yr,gr),null,null]}return Y?[K,null,null]:[K,null]}),Z(y,"renderCustomized",function(g,N,S){return I.cloneElement(g,E(E({key:"recharts-customized-".concat(S)},y.props),y.state))}),Z(y,"renderMap",{CartesianGrid:{handler:Na,once:!0},ReferenceArea:{handler:y.renderReferenceElement},ReferenceLine:{handler:Na},ReferenceDot:{handler:y.renderReferenceElement},XAxis:{handler:Na},YAxis:{handler:Na},Brush:{handler:y.renderBrush,once:!0},Bar:{handler:y.renderGraphicChild},Line:{handler:y.renderGraphicChild},Area:{handler:y.renderGraphicChild},Radar:{handler:y.renderGraphicChild},RadialBar:{handler:y.renderGraphicChild},Scatter:{handler:y.renderGraphicChild},Pie:{handler:y.renderGraphicChild},Funnel:{handler:y.renderGraphicChild},Tooltip:{handler:y.renderCursor,once:!0},PolarGrid:{handler:y.renderPolarGrid,once:!0},PolarAngleAxis:{handler:y.renderPolarAxis},PolarRadiusAxis:{handler:y.renderPolarAxis},Customized:{handler:y.renderCustomized}}),y.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:Kr("recharts"),"-clip"),y.throttleTriggeredAfterMouseMove=dv(y.triggeredAfterMouseMove,(_=b.throttleDelay)!==null&&_!==void 0?_:1e3/60),y.state={},y}return B8(j,v),I8(j,[{key:"componentDidMount",value:function(){var w,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,_=w.children,y=w.data,g=w.height,N=w.layout,S=tt(_,ze);if(S){var A=S.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var T=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,P=Tc(this.state,y,A,T),$=this.state.tooltipTicks[A].coordinate,k=(this.state.offset.top+g)/2,M=N==="horizontal",C=M?{x:$,y:k}:{y:$,x:k},D=this.state.formattedGraphicalItems.find(function(F){var z=F.item;return z.type.name==="Scatter"});D&&(C=E(E({},C),D.props.points[A].tooltipPosition),P=D.props.points[A].tooltipPayload);var R={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:T,activePayload:P,activeCoordinate:C};this.setState(R),this.renderCursor(S),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var y,g;this.accessibilityManager.setDetails({offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(g=this.props.margin.top)!==null&&g!==void 0?g:0}})}return null}},{key:"componentDidUpdate",value:function(w){il([tt(w.children,ze)],[tt(this.props.children,ze)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=tt(this.props.children,ze);if(w&&typeof w.props.shared=="boolean"){var _=w.props.shared?"axis":"item";return l.indexOf(_)>=0?_:s}return s}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var _=this.container,y=_.getBoundingClientRect(),g=kT(y),N={chartX:Math.round(w.pageX-g.left),chartY:Math.round(w.pageY-g.top)},S=y.width/_.offsetWidth||1,A=this.inRange(N.chartX,N.chartY,S);if(!A)return null;var T=this.state,P=T.xAxisMap,$=T.yAxisMap,k=this.getTooltipEventType(),M=zm(this.state,this.props.data,this.props.layout,A);if(k!=="axis"&&P&&$){var C=nr(P).scale,D=nr($).scale,R=C&&C.invert?C.invert(N.chartX):null,F=D&&D.invert?D.invert(N.chartY):null;return E(E({},N),{},{xValue:R,yValue:F},M)}return M?E(E({},N),M):null}},{key:"inRange",value:function(w,_){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,g=this.props.layout,N=w/y,S=_/y;if(g==="horizontal"||g==="vertical"){var A=this.state.offset,T=N>=A.left&&N<=A.left+A.width&&S>=A.top&&S<=A.top+A.height;return T?{x:N,y:S}:null}var P=this.state,$=P.angleAxisMap,k=P.radiusAxisMap;if($&&k){var M=nr($);return dh({x:N,y:S},M)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,_=this.getTooltipEventType(),y=tt(w,ze),g={};y&&_==="axis"&&(y.props.trigger==="click"?g={onClick:this.handleClick}:g={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=Ta(this.props,this.handleOuterEvent);return E(E({},N),g)}},{key:"addListener",value:function(){Zo.on(Jo,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Zo.removeListener(Jo,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,_,y){for(var g=this.state.formattedGraphicalItems,N=0,S=g.length;N<S;N++){var A=g[N];if(A.item===w||A.props.key===w.key||_===Ht(A.item.type)&&y===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,_=this.state.offset,y=_.left,g=_.top,N=_.height,S=_.width;return O.createElement("defs",null,O.createElement("clipPath",{id:w},O.createElement("rect",{x:y,y:g,height:N,width:S})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(_,y){var g=Bm(y,2),N=g[0],S=g[1];return E(E({},_),{},Z({},N,S.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(_,y){var g=Bm(y,2),N=g[0],S=g[1];return E(E({},_),{},Z({},N,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(w){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(w){var _=this.state,y=_.formattedGraphicalItems,g=_.activeItem;if(y&&y.length)for(var N=0,S=y.length;N<S;N++){var A=y[N],T=A.props,P=A.item,$=P.type.defaultProps!==void 0?E(E({},P.type.defaultProps),P.props):P.props,k=Ht(P.type);if(k==="Bar"){var M=(T.data||[]).find(function(F){return m4(w,F)});if(M)return{graphicalItem:A,payload:M}}else if(k==="RadialBar"){var C=(T.data||[]).find(function(F){return dh(w,F)});if(C)return{graphicalItem:A,payload:C}}else if(vo(A,g)||xo(A,g)||Ki(A,g)){var D=r5({graphicalItem:A,activeTooltipItem:g,itemData:$.data}),R=$.activeIndex===void 0?D:$.activeIndex;return{graphicalItem:E(E({},A),{},{childIndex:R}),payload:Ki(A,g)?$.data[D]:A.props.data[D]}}}return null}},{key:"render",value:function(){var w=this;if(!td(this))return null;var _=this.props,y=_.children,g=_.className,N=_.width,S=_.height,A=_.style,T=_.compact,P=_.title,$=_.desc,k=qm(_,P8),M=X(k,!1);if(T)return O.createElement(gm,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},O.createElement(sl,sn({},M,{width:N,height:S,title:P,desc:$}),this.renderClipPath(),nd(y,this.renderMap)));if(this.props.accessibilityLayer){var C,D;M.tabIndex=(C=this.props.tabIndex)!==null&&C!==void 0?C:0,M.role=(D=this.props.role)!==null&&D!==void 0?D:"application",M.onKeyDown=function(F){w.accessibilityManager.keyboardEvent(F)},M.onFocus=function(){w.accessibilityManager.focus()}}var R=this.parseEventsOfWrapper();return O.createElement(gm,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},O.createElement("div",sn({className:re("recharts-wrapper",g),style:E({position:"relative",cursor:"default",width:N,height:S},A)},R,{ref:function(z){w.container=z}}),O.createElement(sl,sn({},M,{width:N,height:S,title:P,desc:$,style:H8}),this.renderClipPath(),nd(y,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(I.Component);Z(p,"displayName",r),Z(p,"defaultProps",E({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Z(p,"getDerivedStateFromProps",function(v,j){var b=v.dataKey,w=v.data,_=v.children,y=v.width,g=v.height,N=v.layout,S=v.stackOffset,A=v.margin,T=j.dataStartIndex,P=j.dataEndIndex;if(j.updateId===void 0){var $=Um(v);return E(E(E({},$),{},{updateId:0},m(E(E({props:v},$),{},{updateId:0}),j)),{},{prevDataKey:b,prevData:w,prevWidth:y,prevHeight:g,prevLayout:N,prevStackOffset:S,prevMargin:A,prevChildren:_})}if(b!==j.prevDataKey||w!==j.prevData||y!==j.prevWidth||g!==j.prevHeight||N!==j.prevLayout||S!==j.prevStackOffset||!ln(A,j.prevMargin)){var k=Um(v),M={chartX:j.chartX,chartY:j.chartY,isTooltipActive:j.isTooltipActive},C=E(E({},zm(j,w,N)),{},{updateId:j.updateId+1}),D=E(E(E({},k),M),C);return E(E(E({},D),m(E({props:v},D),j)),{},{prevDataKey:b,prevData:w,prevWidth:y,prevHeight:g,prevLayout:N,prevStackOffset:S,prevMargin:A,prevChildren:_})}if(!il(_,j.prevChildren)){var R,F,z,Y,Q=tt(_,An),G=Q&&(R=(F=Q.props)===null||F===void 0?void 0:F.startIndex)!==null&&R!==void 0?R:T,ee=Q&&(z=(Y=Q.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&z!==void 0?z:P,ge=G!==T||ee!==P,Pe=!te(w),Je=Pe&&!ge?j.updateId:j.updateId+1;return E(E({updateId:Je},m(E(E({props:v},j),{},{updateId:Je,dataStartIndex:G,dataEndIndex:ee}),j)),{},{prevChildren:_,dataStartIndex:G,dataEndIndex:ee})}return null}),Z(p,"renderActiveDot",function(v,j,b){var w;return I.isValidElement(v)?w=I.cloneElement(v,j):J(v)?w=v(j):w=O.createElement(la,j),O.createElement(se,{className:"recharts-active-dot",key:b},w)});var x=I.forwardRef(function(j,b){return O.createElement(p,sn({},j,{ref:b}))});return x.displayName=p.displayName,x},Ec=No({chartName:"LineChart",GraphicalChild:Wr,axisComponents:[{axisType:"xAxis",AxisComp:Nt},{axisType:"yAxis",AxisComp:Ot}],formatAxisMap:$u}),tq=No({chartName:"BarChart",GraphicalChild:Gt,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Nt},{axisType:"yAxis",AxisComp:Ot}],formatAxisMap:$u}),qy=No({chartName:"PieChart",GraphicalChild:Rt,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:po},{axisType:"radiusAxis",AxisComp:ho}],formatAxisMap:PI,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Fy=No({chartName:"AreaChart",GraphicalChild:at,axisComponents:[{axisType:"xAxis",AxisComp:Nt},{axisType:"yAxis",AxisComp:Ot}],formatAxisMap:$u});function At({status:e,message:t}){const n=(s=>{switch(s){case"healthy":return{color:"bg-green-100 text-green-800",icon:oe};case"degraded":return{color:"bg-yellow-100 text-yellow-800",icon:_e};case"broken":return{color:"bg-red-100 text-red-800",icon:ft};default:return{color:"bg-gray-100 text-gray-800",icon:xi}}})(e),a=n.icon;return i.jsxs(Ae,{className:n.color,children:[i.jsx(a,{className:"w-3 h-3 mr-1"}),e.charAt(0).toUpperCase()+e.slice(1),t&&i.jsxs("span",{className:"ml-1 text-xs",children:["(",t,")"]})]})}function rq(){const[e,t]=I.useState("1h"),{data:r,isLoading:n,error:a}=Tt(["overview",e],()=>nq(e),{refetchInterval:3e5,refetchIntervalInBackground:!0,staleTime:18e4,cacheTime:6e5});if(n)return i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"text-lg text-gray-600",children:"Loading overview data..."})});if(a)return i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg text-red-600",children:"Failed to load overview data"}),i.jsx("div",{className:"text-sm text-gray-500",children:a instanceof Error?a.message:"Unknown error occurred"})]})});const s=r||{stats:{total_requests:0,allowed_requests:0,denied_requests:0,allow_percentage:0,active_tenants:0},top_tenants:[],flow_metrics:{nginx_requests:0,nginx_route_direct:0,nginx_route_edge:0,envoy_requests:0,envoy_authorized:0,envoy_denied:0,mimir_requests:0,mimir_success:0,mimir_errors:0},flow_timeline:[],flow_status:{overall:"unknown",nginx:{status:"unknown",message:"",response_time:0},envoy:{status:"unknown",message:"",response_time:0},rls:{status:"unknown",message:"",response_time:0},overrides_sync:{status:"unknown",message:"",last_seen:""},mimir:{status:"unknown",message:"",response_time:0}},health_checks:{rls_service:!1,envoy_proxy:!1,nginx_config:!1,mimir_connectivity:!1,tenant_limits_synced:!1,enforcement_active:!1},service_status:{},endpoint_status:{},validation_results:{}},{stats:o,top_tenants:l,flow_metrics:c,flow_timeline:u,flow_status:d,health_checks:f,service_status:h,endpoint_status:m,validation_results:p}=s,v=d.overall==="broken"?"broken":d.overall==="degraded"?"degraded":d.overall==="healthy"?"healthy":"unknown",j=[{value:"15m",label:"15 Minutes"},{value:"1h",label:"1 Hour"},{value:"24h",label:"24 Hours"},{value:"1w",label:"1 Week"}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Overview"}),i.jsx("p",{className:"text-gray-500",children:"System-wide metrics and health monitoring"})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(At,{status:v}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Time Range:"}),i.jsx("select",{value:e,onChange:b=>t(b.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:j.map(b=>i.jsx("option",{value:b.value,children:b.label},b.value))})]}),i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[i.jsx(Xm,{className:"w-4 h-4 animate-spin"}),i.jsx("span",{children:"Auto-refresh (5m)"})]})]})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[i.jsxs(q,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"NGINX Traffic"}),i.jsx(At,{status:d?.nginx?.status||"unknown"})]}),i.jsxs(H,{children:[i.jsx("div",{className:"text-2xl font-bold",children:c?.nginx_requests?.toLocaleString()||0}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[c?.nginx_route_direct||0," direct, ",c?.nginx_route_edge||0," edge"]}),i.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Response: ",d?.nginx?.response_time||0,"ms"]})]})]}),i.jsxs(q,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Envoy Proxy"}),i.jsx(At,{status:d?.envoy?.status||"unknown"})]}),i.jsxs(H,{children:[i.jsx("div",{className:"text-2xl font-bold",children:c?.envoy_requests?.toLocaleString()||0}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[c?.envoy_authorized||0," authorized, ",c?.envoy_denied||0," denied"]}),i.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Response: ",d?.envoy?.response_time||0,"ms"]})]})]}),i.jsxs(q,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"RLS Service"}),i.jsx(At,{status:d?.rls?.status||"unknown"})]}),i.jsxs(H,{children:[i.jsx("div",{className:"text-2xl font-bold",children:o?.active_tenants||0}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Active tenants with limits"}),i.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Response: ",d?.rls?.response_time||0,"ms"]})]})]}),i.jsxs(q,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Overrides Sync"}),i.jsx(At,{status:d?.overrides_sync?.status||"unknown"})]}),i.jsxs(H,{children:[i.jsx("div",{className:"text-2xl font-bold",children:f?.tenant_limits_synced?"✓":"✗"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:f?.tenant_limits_synced?"Limits synced":"Limits not synced"}),i.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Last: ",d?.overrides_sync?.last_seen||"Never"]})]})]}),i.jsxs(q,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Mimir Backend"}),i.jsx(At,{status:d?.mimir?.status||"unknown"})]}),i.jsxs(H,{children:[i.jsx("div",{className:"text-2xl font-bold",children:c?.mimir_requests?.toLocaleString()||0}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[c?.mimir_success||0," success, ",c?.mimir_errors||0," errors"]}),i.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Response: ",d?.mimir?.response_time||0,"ms"]})]})]}),i.jsxs(q,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Enforcement Status"}),i.jsx(At,{status:f?.enforcement_active?"healthy":"broken"})]}),i.jsxs(H,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[o?.allow_percentage?.toFixed(1)||0,"%"]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Allow rate"}),i.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[o?.denied_requests||0," denials in ",e]})]})]})]}),i.jsxs(q,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(ct,{className:"h-5 w-5 text-blue-600"}),"Health Status Guide"]}),i.jsx(ie,{children:"Understanding the health status of each component in the data flow"})]}),i.jsxs(H,{children:[i.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium text-green-600",children:"🟢 Healthy"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Component is functioning normally and responding to requests."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium text-yellow-600",children:"🟡 Degraded"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Component is working but with reduced performance or minor issues."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium text-red-600",children:"🔴 Broken"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Component is not responding or has critical issues."})]})]}),i.jsxs("div",{className:"mt-6 space-y-4",children:[i.jsx("h4",{className:"font-medium",children:"Component Descriptions:"}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-blue-600",children:"NGINX"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Load balancer and reverse proxy. Healthy when receiving and routing metrics traffic."})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-blue-600",children:"Envoy Proxy"}),i.jsx("p",{className:"text-sm text-gray-600",children:"API gateway that forwards requests to RLS for authorization."})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-blue-600",children:"RLS Service"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Rate Limiting Service that makes allow/deny decisions."})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-blue-600",children:"Overrides Sync"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Synchronizes tenant limits and configuration changes."})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-blue-600",children:"Mimir"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Time series database. Healthy when distributor endpoint accepts metrics."})]})]})]})]})]}),i.jsxs(q,{children:[i.jsxs(U,{children:[i.jsx(W,{children:"End-to-End Flow Status"}),i.jsx(ie,{children:"Real-time pipeline health and traffic flow visualization"})]}),i.jsxs(H,{children:[i.jsxs("div",{className:"grid grid-cols-5 gap-4 items-center",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 mx-auto bg-blue-100 rounded-full flex items-center justify-center mb-2",children:i.jsx(or,{className:"w-6 h-6 text-blue-600"})}),i.jsx("div",{className:"text-sm font-medium",children:"Client"}),i.jsx("div",{className:"text-xs text-gray-500",children:"Traffic Source"})]}),i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("div",{className:`w-8 h-1 ${f?.nginx_config?"bg-green-500":"bg-red-500"} rounded`}),i.jsx(Oa,{className:"w-4 h-4 text-gray-400"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:`w-12 h-12 mx-auto rounded-full flex items-center justify-center mb-2 ${d?.nginx?.status==="healthy"?"bg-green-100":d?.nginx?.status==="degraded"?"bg-yellow-100":"bg-red-100"}`,children:i.jsx(fn,{className:`w-6 h-6 ${d?.nginx?.status==="healthy"?"text-green-600":d?.nginx?.status==="degraded"?"text-yellow-600":"text-red-600"}`})}),i.jsx("div",{className:"text-sm font-medium",children:"NGINX"}),i.jsxs("div",{className:"text-xs text-gray-500",children:[c?.nginx_requests||0," req/s"]})]}),i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("div",{className:`w-8 h-1 ${f?.envoy_proxy?"bg-green-500":"bg-red-500"} rounded`}),i.jsx(Oa,{className:"w-4 h-4 text-gray-400"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:`w-12 h-12 mx-auto rounded-full flex items-center justify-center mb-2 ${d?.envoy?.status==="healthy"?"bg-green-100":d?.envoy?.status==="degraded"?"bg-yellow-100":"bg-red-100"}`,children:i.jsx(ct,{className:`w-6 h-6 ${d?.envoy?.status==="healthy"?"text-green-600":d?.envoy?.status==="degraded"?"text-yellow-600":"text-red-600"}`})}),i.jsx("div",{className:"text-sm font-medium",children:"Envoy"}),i.jsxs("div",{className:"text-xs text-gray-500",children:[c?.envoy_requests||0," → RLS"]})]}),i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("div",{className:`w-8 h-1 ${f?.rls_service?"bg-green-500":"bg-red-500"} rounded`}),i.jsx(Oa,{className:"w-4 h-4 text-gray-400"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:`w-12 h-12 mx-auto rounded-full flex items-center justify-center mb-2 ${d?.rls?.status==="healthy"?"bg-green-100":d?.rls?.status==="degraded"?"bg-yellow-100":"bg-red-100"}`,children:i.jsx(ir,{className:`w-6 h-6 ${d?.rls?.status==="healthy"?"text-green-600":d?.rls?.status==="degraded"?"text-yellow-600":"text-red-600"}`})}),i.jsx("div",{className:"text-sm font-medium",children:"RLS"}),i.jsxs("div",{className:"text-xs text-gray-500",children:[c?.envoy_authorized||0," ✓ ",c?.envoy_denied||0," ✗"]})]}),i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("div",{className:`w-8 h-1 ${f?.mimir_connectivity?"bg-green-500":"bg-red-500"} rounded`}),i.jsx(Oa,{className:"w-4 h-4 text-gray-400"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:`w-12 h-12 mx-auto rounded-full flex items-center justify-center mb-2 ${d?.mimir?.status==="healthy"?"bg-green-100":d?.mimir?.status==="degraded"?"bg-yellow-100":"bg-red-100"}`,children:i.jsx(wt,{className:`w-6 h-6 ${d?.mimir?.status==="healthy"?"text-green-600":d?.mimir?.status==="degraded"?"text-yellow-600":"text-red-600"}`})}),i.jsx("div",{className:"text-sm font-medium",children:"Mimir"}),i.jsxs("div",{className:"text-xs text-gray-500",children:[c?.mimir_requests||0," (allowed)"]})]})]}),d?.overall!=="healthy"&&i.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(_e,{className:"w-5 h-5 text-yellow-600 mr-2"}),i.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Flow Issues Detected"})]}),i.jsxs("div",{className:"mt-2 text-sm text-yellow-700",children:[d?.nginx?.status!=="healthy"&&i.jsxs("div",{children:["• NGINX: ",d.nginx?.message||"Unknown issue"]}),d?.envoy?.status!=="healthy"&&i.jsxs("div",{children:["• Envoy: ",d.envoy?.message||"Unknown issue"]}),d?.rls?.status!=="healthy"&&i.jsxs("div",{children:["• RLS: ",d.rls?.message||"Unknown issue"]}),d?.overrides_sync?.status!=="healthy"&&i.jsxs("div",{children:["• Overrides Sync: ",d.overrides_sync?.message||"Unknown issue"]}),d?.mimir?.status!=="healthy"&&i.jsxs("div",{children:["• Mimir: ",d.mimir?.message||"Unknown issue"]})]})]})]})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[i.jsxs(q,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Total Requests"}),i.jsx(ur,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsx("div",{className:"text-2xl font-bold",children:o?.total_requests?.toLocaleString()||0}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",u?.[0]?.nginx_requests||0," from last period"]})]})]}),i.jsxs(q,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Allowed Requests"}),i.jsx(oe,{className:"h-4 w-4 text-green-600"})]}),i.jsxs(H,{children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:o?.allowed_requests?.toLocaleString()||0}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[o?.allow_percentage?.toFixed(1)||0,"% success rate"]})]})]}),i.jsxs(q,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Denied Requests"}),i.jsx(ft,{className:"h-4 w-4 text-red-600"})]}),i.jsxs(H,{children:[i.jsx("div",{className:"text-2xl font-bold text-red-600",children:o?.denied_requests?.toLocaleString()||0}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[(100-(o?.allow_percentage||0)).toFixed(1),"% denial rate"]})]})]}),i.jsxs(q,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Active Tenants"}),i.jsx(or,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsx("div",{className:"text-2xl font-bold",children:o?.active_tenants||0}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"With configured limits"})]})]})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[i.jsxs(q,{children:[i.jsx(U,{className:"pb-3",children:i.jsxs(W,{className:"text-lg flex items-center gap-2",children:[i.jsx(Qi,{className:"h-5 w-5 text-blue-600"}),"RPS (Requests Per Second)"]})}),i.jsx(H,{children:i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"What it is:"})," Average number of requests processed per second over the selected time range."]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Calculation:"})," Total requests ÷ Time duration in seconds"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Example:"})," 100 requests in 15 minutes = 100 ÷ 900 = 0.11 RPS"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Time Range:"})," Based on your selected timeframe (15m, 1h, 24h, 1w)"]})]})})]}),i.jsxs(q,{children:[i.jsx(U,{className:"pb-3",children:i.jsxs(W,{className:"text-lg flex items-center gap-2",children:[i.jsx(dr,{className:"h-5 w-5 text-green-600"}),"Allow/Deny Rate"]})}),i.jsx(H,{children:i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Allow Rate:"})," Percentage of requests that were allowed through the rate limiter."]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Deny Rate:"})," Percentage of requests that were blocked due to rate limits."]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Calculation:"})," (Allowed/Denied requests ÷ Total requests) × 100"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Example:"})," 90 allowed, 10 denied = 90% allow rate, 10% deny rate"]})]})})]}),i.jsxs(q,{children:[i.jsx(U,{className:"pb-3",children:i.jsxs(W,{className:"text-lg flex items-center gap-2",children:[i.jsx(wt,{className:"h-5 w-5 text-purple-600"}),"Samples Per Second"]})}),i.jsx(H,{children:i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"What it is:"})," Average number of metric samples processed per second."]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Calculation:"})," Total samples ÷ Time duration in seconds"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Example:"})," 1000 samples in 1 hour = 1000 ÷ 3600 = 0.28 samples/sec"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Note:"})," Each request can contain multiple metric samples."]})]})})]})]}),i.jsxs(q,{children:[i.jsxs(U,{children:[i.jsx(W,{children:"Top Tenants by RPS"}),i.jsx(ie,{children:"Tenants with highest request rates and denial percentages"})]}),i.jsx(H,{children:i.jsx("div",{className:"space-y-4",children:l?.map(b=>i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:i.jsx(or,{className:"w-4 h-4 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:b.name}),i.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",b.id]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-medium",title:"Requests Per Second - Average requests processed per second over the selected time range",children:[typeof b.rps=="number"?b.rps.toFixed(2):"0.00"," RPS"]}),i.jsx("div",{className:"text-sm text-gray-500",children:b.deny_rate>0?i.jsxs("span",{className:"text-red-600",children:[b.deny_rate,"% denied"]}):i.jsx("span",{className:"text-green-600",children:"100% allowed"})})]})]},b.id))})})]}),i.jsxs(q,{children:[i.jsxs(U,{children:[i.jsx(W,{children:"Comprehensive Endpoint Monitoring"}),i.jsx(ie,{children:"Real-time status of all endpoints across all services"})]}),i.jsx(H,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:Object.entries(h).map(([b,w])=>i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"font-medium capitalize",children:b}),i.jsx(At,{status:w?.status||"unknown"})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:w?.message||"Status unknown"}),i.jsxs("div",{className:"text-xs text-gray-500",children:[i.jsxs("div",{children:["Version: ",w?.version||"Unknown"]}),i.jsxs("div",{children:["Uptime: ",w?.uptime||"Unknown"]}),i.jsxs("div",{children:["Last Check: ",w?.last_check?new Date(w.last_check).toLocaleTimeString():"Unknown"]})]})]},b))}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Endpoint Details"}),Object.entries(m).map(([b,w])=>i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsxs("h4",{className:"font-medium capitalize mb-3",children:[b," Endpoints"]}),i.jsx("div",{className:"grid gap-2 md:grid-cols-2 lg:grid-cols-3",children:Object.entries(w).map(([_,y])=>i.jsxs("div",{className:"p-3 border rounded bg-gray-50",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-sm font-medium",children:_}),i.jsx(At,{status:y?.status||"unknown"})]}),i.jsx("p",{className:"text-xs text-gray-600 mb-1",children:y?.message||"Status unknown"}),i.jsxs("div",{className:"text-xs text-gray-500",children:[i.jsxs("div",{children:["Response: ",y?.response_time||0,"ms"]}),i.jsxs("div",{children:["Status: ",y?.actual_status||0,"/",y?.expected_status||0]}),i.jsxs("div",{children:["Size: ",y?.response_size||0," bytes"]})]})]},_))})]},b))]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Validation Results"}),Object.entries(p).map(([b,w])=>i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsx("h4",{className:"font-medium capitalize mb-3",children:b.replace("_"," ")}),i.jsx("div",{className:"grid gap-2 md:grid-cols-2 lg:grid-cols-3",children:Object.entries(w).map(([_,y])=>i.jsxs("div",{className:"p-3 border rounded bg-gray-50",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-sm font-medium",children:_.replace("_"," ")}),i.jsx(At,{status:y?.status||"unknown"})]}),i.jsx("p",{className:"text-xs text-gray-600 mb-1",children:y?.message||"Status unknown"}),i.jsxs("div",{className:"text-xs text-gray-500",children:["Last Check: ",y?.last_check?new Date(y.last_check).toLocaleTimeString():"Unknown"]})]},_))})]},b))]})]})})]}),i.jsxs(q,{children:[i.jsxs(U,{children:[i.jsx(W,{children:"Flow Timeline"}),i.jsxs(ie,{children:["Real-time traffic flow over the last ",e]})]}),i.jsx(H,{children:i.jsx(lr,{width:"100%",height:300,children:i.jsxs(Fy,{data:u,children:[i.jsx(Ur,{strokeDasharray:"3 3"}),i.jsx(Nt,{dataKey:"timestamp"}),i.jsx(Ot,{}),i.jsx(ze,{}),i.jsx(at,{type:"monotone",dataKey:"nginx_requests",stackId:"1",stroke:"#3b82f6",fill:"#3b82f6",name:"NGINX"}),i.jsx(at,{type:"monotone",dataKey:"envoy_requests",stackId:"1",stroke:"#10b981",fill:"#10b981",name:"Envoy"}),i.jsx(at,{type:"monotone",dataKey:"mimir_requests",stackId:"1",stroke:"#8b5cf6",fill:"#8b5cf6",name:"Mimir"})]})})})]})]})}async function nq(e){try{const t=await fetch(`/api/overview?range=${e}`);if(!t.ok)throw new Error(`Failed to fetch overview data: ${t.statusText}`);const r=await t.json(),n=await fetch(`/api/tenants?range=${e}`);let a=[];n.ok&&(a=((await n.json()).tenants||[]).filter(p=>p.metrics&&((p.metrics.rps||0)>0||p.metrics.allow_rate>0||p.metrics.deny_rate>0)).map(p=>({id:p.id,name:p.name||p.id,rps:p.metrics?.rps||0,samples_per_sec:p.metrics?.samples_per_sec||0,deny_rate:p.metrics?.deny_rate||0})).sort((p,x)=>x.rps-p.rps).slice(0,10)),a.length===0&&(a=[{id:"no-data",name:"No Active Tenants",rps:0,samples_per_sec:0,deny_rate:0}]);let s;try{const h=await fetch("/api/traffic/flow");if(h.ok){const p=(await h.json()).flow_metrics,x=p.response_times;s={nginx_requests:0,nginx_route_direct:0,nginx_route_edge:p.envoy_to_rls_requests||0,envoy_requests:p.envoy_to_rls_requests||0,envoy_authorized:p.rls_allowed||0,envoy_denied:p.rls_denied||0,mimir_requests:p.rls_to_mimir_requests||0,mimir_success:p.rls_to_mimir_requests||0,mimir_errors:p.mimir_errors||0,response_times:{nginx_to_envoy:0,envoy_to_mimir:x?.rls_to_mimir||0,total_flow:x?.total_flow||0}}}else s={nginx_requests:0,nginx_route_direct:0,nginx_route_edge:r.stats?.total_requests||0,envoy_requests:r.stats?.total_requests||0,envoy_authorized:r.stats?.allowed_requests||0,envoy_denied:r.stats?.denied_requests||0,mimir_requests:r.stats?.allowed_requests||0,mimir_success:r.stats?.allowed_requests||0,mimir_errors:0,response_times:{nginx_to_envoy:0,envoy_to_mimir:0,total_flow:0}}}catch(h){console.error("Error fetching traffic flow data:",h),s={nginx_requests:0,nginx_route_direct:0,nginx_route_edge:r.stats?.total_requests||0,envoy_requests:r.stats?.total_requests||0,envoy_authorized:r.stats?.allowed_requests||0,envoy_denied:r.stats?.denied_requests||0,mimir_requests:r.stats?.allowed_requests||0,mimir_success:r.stats?.allowed_requests||0,mimir_errors:0,response_times:{nginx_to_envoy:0,envoy_to_mimir:0,total_flow:0}}}const o=await iq(e),l=await cq(),c=await uq(l,r,s),u=await sq(),d=await oq(),f=await lq();return{stats:r.stats,top_tenants:a,flow_metrics:s,flow_timeline:o,flow_status:c,health_checks:l,service_status:u,endpoint_status:d,validation_results:f}}catch(t){throw console.error("Error fetching overview data:",t),t}}async function iq(e){try{const t=await fetch(`/api/timeseries/${e}/flow`);if(t.ok)return(await t.json()).points||[]}catch(t){console.warn("Could not fetch real time-series data:",t)}return aq(e)}function aq(e){const t=new Date,r=[];let n,a;switch(e){case"15m":n=1*60*1e3,a=15;break;case"1h":n=5*60*1e3,a=12;break;case"24h":n=60*60*1e3,a=24;break;case"1w":n=24*60*60*1e3,a=7;break;default:n=5*60*1e3,a=12}for(let s=a-1;s>=0;s--){const o=new Date(t.getTime()-s*n);r.push({timestamp:o.toISOString(),nginx_requests:0,route_direct:0,route_edge:0,envoy_requests:0,mimir_requests:0,success_rate:0})}return r}async function sq(){try{const e=await fetch("/api/system/status");if(e.ok)return(await e.json()).services||{}}catch(e){console.error("Error fetching service status:",e)}return{}}async function oq(){try{const e=await fetch("/api/system/status");if(e.ok)return(await e.json()).endpoints||{}}catch(e){console.error("Error fetching endpoint status:",e)}return{}}async function lq(){try{const e=await fetch("/api/system/status");if(e.ok)return(await e.json()).validations||{}}catch(e){console.error("Error fetching validation results:",e)}return{}}async function cq(){const e={rls_service:!1,overrides_sync:!1,envoy_proxy:!1,nginx_config:!1,mimir_connectivity:!1,tenant_limits_synced:!1,enforcement_active:!1};try{const t=Date.now();try{const r=await fetch("/api/health"),n=Date.now()-t;if(r.ok){const a=await r.json();e.rls_service=a.status==="healthy"||a.status==="ok"}else e.rls_service=n<5e3}catch(r){console.warn("RLS health check failed:",r),e.rls_service=!1}try{(await fetch("/api/ready")).ok&&(e.rls_service=e.rls_service&&!0)}catch(r){console.warn("RLS readiness check failed (endpoint may not exist):",r)}try{const r=await fetch("/api/overrides-sync/health");if(r.ok){const n=await r.json();e.overrides_sync=n.status==="healthy"||n.status==="ok"}else e.overrides_sync=!0}catch(r){console.warn("Overrides sync health check failed (service may not be deployed):",r),e.overrides_sync=!0}try{const r=await fetch("/api/tenants?range=15m");if(r.ok){const a=(await r.json()).tenants?.filter(s=>s.limits&&(s.limits.samples_per_second&&s.limits.samples_per_second>0||s.limits.max_body_bytes&&s.limits.max_body_bytes>0||s.limits.burst_pct&&s.limits.burst_pct>0))||[];e.tenant_limits_synced=a.length>0}}catch(r){console.warn("Tenant limits check failed:",r),e.tenant_limits_synced=!1}try{const r=await fetch("/api/overview?range=15m");if(r.ok){const n=await r.json(),a=(n.stats?.denied_requests||0)>0,s=(n.stats?.active_tenants||0)>0,o=(n.stats?.total_requests||0)>0;e.enforcement_active=a||s||o}}catch(r){console.warn("Enforcement check failed:",r),e.enforcement_active=!1}try{const r=Date.now(),n=await fetch("/api/debug/traffic-flow"),a=Date.now()-r;e.envoy_proxy=n.ok&&a<2e3}catch(r){console.warn("Envoy proxy check failed (endpoint may not exist):",r),e.envoy_proxy=!0}try{const r=Date.now(),n=await fetch("/api/v1/push",{method:"POST",headers:{"Content-Type":"application/x-protobuf","X-Scope-OrgID":"health-check-tenant"},body:new Uint8Array([8,1])}),a=Date.now()-r;e.mimir_connectivity=n.status!==0&&a<5e3,console.log("Mimir health check:",{status:n.status,time:a,healthy:e.mimir_connectivity})}catch(r){console.warn("Mimir connectivity check failed:",r),e.mimir_connectivity=!1}try{const r=await fetch("/api/overview?range=15m");if(r.ok){const n=await r.json(),a=(n.stats?.total_requests||0)>0,s=(n.stats?.active_tenants||0)>0;e.nginx_config=a||s,console.log("NGINX health check:",{totalRequests:n.stats?.total_requests||0,activeTenants:n.stats?.active_tenants||0,healthy:e.nginx_config})}else e.nginx_config=!0}catch(r){console.warn("NGINX config check failed:",r),e.nginx_config=!0}}catch(t){console.error("Health checks failed:",t),Object.keys(e).forEach(r=>{e[r]=!1})}return e}async function uq(e,t,r){const n=new Date().toISOString(),a={status:e.nginx_config?"healthy":"broken",message:e.nginx_config?"Receiving and routing metrics traffic":"No metrics traffic detected",last_seen:n,response_time:50,error_count:e.nginx_config?0:1},s={status:e.envoy_proxy?"healthy":"broken",message:e.envoy_proxy?"Proxy functioning normally":"Proxy service unavailable",last_seen:n,response_time:100,error_count:e.envoy_proxy?0:1},o={status:e.rls_service?"healthy":"broken",message:e.rls_service?"Service responding normally":"RLS service unavailable",last_seen:n,response_time:75,error_count:e.rls_service?0:1},l={status:e.overrides_sync?"healthy":"broken",message:e.overrides_sync?"Limits syncing normally":"Overrides sync issues",last_seen:n,response_time:200,error_count:e.overrides_sync?0:1},c={status:e.mimir_connectivity?"healthy":"broken",message:e.mimir_connectivity?"Distributor endpoint accepting metrics":"Mimir distributor unreachable",last_seen:n,response_time:150,error_count:e.mimir_connectivity?0:1};let u="unknown";const d=[a,s,o,l,c].filter(f=>f.status==="healthy").length;return d===5?u="healthy":d>=3?u="degraded":u="broken",{overall:u,nginx:a,envoy:s,rls:o,overrides_sync:l,mimir:c,last_check:n}}function Oa({className:e}){return i.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}function dq(e){if(e===0)return"0 B";const t=1024,r=["B","KB","MB","GB","TB"],n=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,n)).toFixed(1))+" "+r[n]}function fq(e,t,r){return e?t>0?{color:"bg-red-100 text-red-800",icon:i.jsx(ft,{className:"h-3 w-3"}),text:"Rate Limited",description:`Requests are being denied (${t.toFixed(1)}/s)`}:r>80?{color:"bg-yellow-100 text-yellow-800",icon:i.jsx(_e,{className:"h-3 w-3"}),text:"High Usage",description:`High utilization (${r.toFixed(1)}%) - approaching limits`}:{color:"bg-green-100 text-green-800",icon:i.jsx(oe,{className:"h-3 w-3"}),text:"Healthy",description:"Operating within normal limits"}:{color:"bg-gray-100 text-gray-800",icon:i.jsx(Qi,{className:"h-3 w-3"}),text:"Monitoring Only",description:"Rate limiting is disabled - only monitoring active"}}function hq(){const[e,t]=I.useState("15m"),{data:r,isLoading:n,error:a}=Tt({queryKey:["tenants",e],queryFn:()=>mq(e),refetchInterval:3e4,refetchIntervalInBackground:!0,staleTime:15e3,cacheTime:6e4});if(n)return i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"text-lg text-gray-600",children:"Loading tenants..."})});if(a)return i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-lg text-red-600",children:["Failed to load tenants: ",a instanceof Error?a.message:"Unknown error"]})});const s=r?.tenants??[],o=r?.data_freshness?new Date(r.data_freshness).toLocaleTimeString():"Unknown";return s.length===0?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Tenants"}),i.jsxs("div",{className:"text-sm text-gray-500",children:["Total: ",s.length]})]}),i.jsx("div",{className:"flex items-center justify-center h-64 bg-gray-50 rounded-lg",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg text-gray-600 mb-2",children:"No tenants found"}),i.jsx("div",{className:"text-sm text-gray-500",children:"Make sure overrides-sync is running and has access to Mimir ConfigMap"})]})})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Tenants"}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(jt,{className:"h-4 w-4 text-gray-500"}),i.jsxs("select",{value:e,onChange:l=>t(l.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1 bg-white",children:[i.jsx("option",{value:"15m",children:"Last 15 minutes"}),i.jsx("option",{value:"1h",children:"Last 1 hour"}),i.jsx("option",{value:"24h",children:"Last 24 hours"}),i.jsx("option",{value:"1w",children:"Last 1 week"})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),i.jsx("span",{className:"text-sm text-gray-600",children:"Auto-refresh (30s)"})]}),i.jsxs("div",{className:"text-sm text-gray-500",children:["Total: ",s.length," | Last updated: ",o]})]})]}),i.jsxs(q,{children:[i.jsxs(U,{className:"pb-3",children:[i.jsx(W,{className:"text-lg",children:"Status Guide"}),i.jsx(ie,{children:"Understanding tenant status indicators"})]}),i.jsx(H,{children:i.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),i.jsx("span",{className:"text-sm font-medium",children:"Healthy"}),i.jsx("span",{className:"text-xs text-gray-500",children:"Operating normally"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),i.jsx("span",{className:"text-sm font-medium",children:"High Usage"}),i.jsx("span",{className:"text-xs text-gray-500",children:"Approaching limits"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),i.jsx("span",{className:"text-sm font-medium",children:"Rate Limited"}),i.jsx("span",{className:"text-xs text-gray-500",children:"Requests being denied"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-3 h-3 bg-gray-500 rounded-full"}),i.jsx("span",{className:"text-sm font-medium",children:"Monitoring"}),i.jsx("span",{className:"text-xs text-gray-500",children:"Limits disabled"})]})]})})]}),i.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Tenant Info"}),i.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Rate Limits"}),i.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Size Limits"}),i.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Series Limits"}),i.jsxs("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:["Current Metrics (",e,")"]}),i.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Status"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200",children:s.map(l=>{const c=fq(l.enforcement.enabled,l.metrics.deny_rate,l.metrics.utilization_pct);return i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"py-4 px-4",children:i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"font-mono text-sm font-medium text-gray-900",children:l.id}),i.jsx(Hm,{to:`/tenants/${l.id}`,className:"text-blue-600 hover:text-blue-800 transition-colors",title:"View detailed tenant information",children:i.jsx(tg,{className:"h-3 w-3"})})]}),i.jsx("div",{className:"text-sm text-gray-500",children:l.name||"No display name"})]})}),i.jsx("td",{className:"py-4 px-4",children:i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Samples/sec:"})," ",i.jsx("span",{className:"font-mono",children:l.limits.samples_per_second>0?l.limits.samples_per_second.toLocaleString():"Unlimited"})]}),i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Burst:"})," ",i.jsx("span",{className:"font-mono",children:l.limits.burst_pct>0?`${(l.limits.burst_pct*100).toFixed(0)}%`:"No burst"})]})]})}),i.jsx("td",{className:"py-4 px-4",children:i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Max Body:"})," ",i.jsx("span",{className:"font-mono",children:l.limits.max_body_bytes>0?dq(l.limits.max_body_bytes):"Unlimited"})]}),i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Label Length:"})," ",i.jsx("span",{className:"font-mono",children:l.limits.max_label_value_length>0?l.limits.max_label_value_length.toLocaleString():"Unlimited"})]})]})}),i.jsx("td",{className:"py-4 px-4",children:i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Labels/Series:"})," ",i.jsx("span",{className:"font-mono",children:l.limits.max_labels_per_series>0?l.limits.max_labels_per_series:"Unlimited"})]}),i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Series/Request:"})," ",i.jsx("span",{className:"font-mono",children:l.limits.max_series_per_request>0?l.limits.max_series_per_request.toLocaleString():"Unlimited"})]})]})}),i.jsx("td",{className:"py-4 px-4",children:i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium text-gray-700",children:"RPS:"})," ",i.jsx("span",{className:"font-mono text-blue-600",title:"Requests Per Second",children:typeof l.metrics.rps=="number"?l.metrics.rps.toFixed(2):"0.00"})]}),i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Samples/sec:"})," ",i.jsx("span",{className:"font-mono text-blue-600",children:typeof l.metrics.samples_per_sec=="number"?l.metrics.samples_per_sec.toFixed(2):"0.00"})]}),i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Allow Rate:"})," ",i.jsxs("span",{className:"font-mono text-green-600",children:[l.metrics.allow_rate.toFixed(1),"%"]})]}),i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Deny Rate:"})," ",i.jsxs("span",{className:`font-mono ${l.metrics.deny_rate>0?"text-red-600":"text-green-600"}`,children:[l.metrics.deny_rate.toFixed(1),"%"]})]}),i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Utilization:"})," ",i.jsxs("span",{className:`font-mono ${l.metrics.utilization_pct>80?"text-yellow-600":l.metrics.utilization_pct>0?"text-green-600":"text-gray-600"}`,children:[l.metrics.utilization_pct.toFixed(1),"%"]})]})]})}),i.jsx("td",{className:"py-4 px-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center space-x-1",children:[c.icon,i.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded font-medium ${c.color}`,children:c.text})]}),i.jsx("div",{className:"text-xs text-gray-600 max-w-32",children:c.description}),l.enforcement.burst_pct_override&&l.enforcement.burst_pct_override>0&&i.jsxs("div",{className:"text-xs text-orange-600",children:["Burst Override: ",(l.enforcement.burst_pct_override*100).toFixed(0),"%"]})]})})]},l.id)})})]})})})]})}async function mq(e="15m"){const t=await fetch(`/api/tenants?range=${e}`);if(!t.ok)throw new Error("Failed to fetch tenants");return t.json()}function zy(e){if(e===0)return"0 B";const t=1024,r=["B","KB","MB","GB","TB"],n=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,n)).toFixed(1))+" "+r[n]}function Es(e){const t=new Date,r=new Date(e),n=t.getTime()-r.getTime(),a=Math.floor(n/6e4),s=Math.floor(n/36e5),o=Math.floor(n/864e5);return a<1?"Just now":a<60?`${a}m ago`:s<24?`${s}h ago`:`${o}d ago`}function pq(){const[e,t]=I.useState("enhanced"),[r,n]=I.useState("1h"),[a,s]=I.useState(""),{data:o,isLoading:l,error:c}=Tt({queryKey:["enhanced-denials",r,a],queryFn:()=>wq(r,a),refetchInterval:1e4,refetchIntervalInBackground:!0,enabled:e==="enhanced"}),{data:u,isLoading:d,error:f}=Tt({queryKey:["denial-trends",r,a],queryFn:()=>_q(r,a),refetchInterval:3e4,refetchIntervalInBackground:!0,enabled:e==="trends"}),{data:h,isLoading:m,error:p}=Tt({queryKey:["basic-denials",r,a],queryFn:()=>Nq(r,a),refetchInterval:5e3,refetchIntervalInBackground:!0,enabled:e==="basic"}),x=l||d||m,v=c||f||p;if(x)return i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"text-lg text-gray-600",children:"Loading denials..."})});if(v)return i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-lg text-red-600",children:["Failed to load denials: ",v instanceof Error?v.message:"Unknown error"]})});const j=o?.denials||[],b=u?.trends||[],w=h?.denials||[],_=()=>{const g=bq(e==="enhanced"?j:e==="trends"?b:w,e);jq(g,`denials-${e}-${r}-${Date.now()}.csv`)};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col space-y-4 lg:flex-row lg:items-center lg:justify-between lg:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Recent Denials"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Monitor and analyze request denials with detailed insights"})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-lg p-1",children:[i.jsxs("button",{onClick:()=>t("enhanced"),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${e==="enhanced"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[i.jsx(wt,{className:"w-4 h-4 mr-1 inline"}),"Enhanced"]}),i.jsxs("button",{onClick:()=>t("trends"),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${e==="trends"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[i.jsx(dr,{className:"w-4 h-4 mr-1 inline"}),"Trends"]}),i.jsxs("button",{onClick:()=>t("basic"),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${e==="basic"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[i.jsx(rg,{className:"w-4 h-4 mr-1 inline"}),"Basic"]})]}),i.jsxs("select",{value:r,onChange:y=>n(y.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"15m",children:"Last 15 minutes"}),i.jsx("option",{value:"1h",children:"Last hour"}),i.jsx("option",{value:"6h",children:"Last 6 hours"}),i.jsx("option",{value:"24h",children:"Last 24 hours"}),i.jsx("option",{value:"7d",children:"Last 7 days"})]}),i.jsx("input",{type:"text",placeholder:"Filter by tenant...",value:a,onChange:y=>s(y.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),i.jsxs(Pa,{onClick:_,className:"inline-flex items-center",children:[i.jsx(Gm,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsx(q,{className:"p-4",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(Qi,{className:"w-5 h-5 text-blue-500"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Denial Reasons"}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Common reasons include rate limiting, cardinality violations, and parsing errors."})]})]})}),i.jsx(q,{className:"p-4",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(wt,{className:"w-5 h-5 text-green-500"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Body Size"}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Request body size in bytes. Large payloads may be compressed with gzip/snappy."})]})]})}),i.jsx(q,{className:"p-4",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(ir,{className:"w-5 h-5 text-yellow-500"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Utilization"}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Percentage of limit utilization. High values indicate approaching limits."})]})]})}),i.jsx(q,{className:"p-4",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(oe,{className:"w-5 h-5 text-purple-500"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Recommendations"}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Actionable suggestions to resolve denial issues and optimize requests."})]})]})})]}),e==="enhanced"&&vq(j,o?.metadata),e==="trends"&&xq(b,u?.metadata),e==="basic"&&yq(w)]})}function vq(e,t){return e.length===0?i.jsxs(q,{className:"p-8 text-center",children:[i.jsx(oe,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Denials Found"}),i.jsx("p",{className:"text-gray-600",children:"All requests are being allowed in the selected timeframe."})]}):i.jsxs("div",{className:"space-y-4",children:[t&&i.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("span",{className:"text-blue-700",children:[i.jsx(jt,{className:"w-4 h-4 inline mr-1"}),"Generated: ",new Date(t.generated_at).toLocaleString()]}),i.jsxs("span",{className:"text-blue-700",children:["Total: ",t.total_count]})]})}),i.jsx("div",{className:"space-y-4",children:e.map((r,n)=>i.jsx(q,{className:"p-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:r.tenant_id}),i.jsx(Ae,{className:`${gq(r.severity)} border`,children:r.severity.toUpperCase()})]}),i.jsxs("div",{className:"text-right text-sm text-gray-500",children:[i.jsx("div",{children:new Date(r.timestamp).toLocaleString()}),i.jsx("div",{children:Es(r.timestamp)})]})]}),i.jsx(Ae,{variant:"outline",className:"text-red-700 border-red-300",children:r.reason}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-700",children:"Samples"}),i.jsx("div",{className:"font-mono",children:r.observed_samples.toLocaleString()})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-700",children:"Body Size"}),i.jsx("div",{className:"font-mono",children:zy(r.observed_body_bytes)})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-700",children:"Utilization"}),i.jsxs("div",{className:"font-mono",children:[r.insights.utilization_percentage.toFixed(1),"%"]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-700",children:"Frequency"}),i.jsx("div",{className:"font-mono",children:r.insights.frequency_in_period})]})]}),r.recommendations.length>0&&i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Recommendations"}),i.jsx("ul",{className:"space-y-1 text-sm text-blue-800",children:r.recommendations.map((a,s)=>i.jsxs("li",{children:["• ",a]},s))})]})]})},n))})]})}function xq(e,t){return e.length===0?i.jsxs(q,{className:"p-8 text-center",children:[i.jsx(dr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Trends Available"}),i.jsx("p",{className:"text-gray-600",children:"No denial patterns found in the selected timeframe."})]}):i.jsxs("div",{className:"space-y-4",children:[t&&i.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("span",{className:"text-green-700",children:[i.jsx(dr,{className:"w-4 h-4 inline mr-1"}),"Generated: ",new Date(t.generated_at).toLocaleString()]}),i.jsxs("span",{className:"text-green-700",children:["Trends: ",t.total_trends]})]})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map((r,n)=>i.jsx(q,{className:"p-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:r.tenant_id}),i.jsx(Ae,{variant:"outline",children:r.count})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-900",children:r.reason}),i.jsxs("div",{className:"text-sm text-gray-600 capitalize",children:[r.trend_direction," trend"]})]}),i.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[i.jsxs("div",{children:["First: ",Es(r.first_occurrence)]}),i.jsxs("div",{children:["Last: ",Es(r.last_occurrence)]}),i.jsxs("div",{children:["Period: ",r.period]})]})]})},n))})]})}function yq(e){return e.length===0?i.jsxs(q,{className:"p-8 text-center",children:[i.jsx(oe,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Denials Found"}),i.jsx("p",{className:"text-gray-600",children:"All requests are being allowed in the selected timeframe."})]}):i.jsx(q,{className:"overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Timestamp"}),i.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Tenant ID"}),i.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Denial Reason"}),i.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Observed Samples"}),i.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Body Size"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map((t,r)=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsxs("td",{className:"py-3 px-4 text-sm",children:[i.jsx("div",{className:"font-mono text-gray-900",children:new Date(t.timestamp).toLocaleString()}),i.jsx("div",{className:"text-xs text-gray-500",children:Es(t.timestamp)})]}),i.jsx("td",{className:"py-3 px-4",children:i.jsx("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:t.tenant_id})}),i.jsx("td",{className:"py-3 px-4",children:i.jsx(Ae,{variant:"outline",className:"text-red-700 border-red-300",children:t.reason})}),i.jsx("td",{className:"py-3 px-4 font-mono text-sm",children:t.observed_samples?.toLocaleString()||"N/A"}),i.jsx("td",{className:"py-3 px-4 font-mono text-sm",children:t.observed_body_bytes?zy(t.observed_body_bytes):"N/A"})]},r))})]})})})}function gq(e){switch(e){case"critical":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}}function bq(e,t){if(t==="enhanced"){const r=e;return[["Timestamp","Tenant ID","Reason","Category","Severity","Observed Samples","Body Size (bytes)","Utilization %","Recommendations"].join(","),...r.map(s=>[s.timestamp,s.tenant_id,s.reason,s.category,s.severity,s.observed_samples,s.observed_body_bytes,s.insights.utilization_percentage.toFixed(2),`"${s.recommendations.join("; ")}"`].join(","))].join(`
`)}else if(t==="trends"){const r=e;return[["Tenant ID","Reason","Count","Trend Direction","Period","First Occurrence","Last Occurrence"].join(","),...r.map(s=>[s.tenant_id,s.reason,s.count,s.trend_direction,s.period,s.first_occurrence,s.last_occurrence].join(","))].join(`
`)}else{const r=e;return[["Timestamp","Tenant ID","Reason","Observed Samples","Body Size (bytes)"].join(","),...r.map(s=>[s.timestamp,s.tenant_id,s.reason,s.observed_samples,s.observed_body_bytes].join(","))].join(`
`)}}function jq(e,t){const r=new Blob([e],{type:"text/csv;charset=utf-8;"}),n=document.createElement("a");if(n.download!==void 0){const a=URL.createObjectURL(r);n.setAttribute("href",a),n.setAttribute("download",t),n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n)}}async function wq(e,t){const r=new URLSearchParams({since:e,...t&&{tenant:t}}),n=await fetch(`/api/denials/enhanced?${r}`);if(!n.ok)throw new Error("Failed to fetch enhanced denials");return n.json()}async function _q(e,t){const r=new URLSearchParams({since:e,...t&&{tenant:t}}),n=await fetch(`/api/denials/trends?${r}`);if(!n.ok)throw new Error("Failed to fetch denial trends");return n.json()}async function Nq(e,t){const r=new URLSearchParams({since:e,...t&&{tenant:t||"*"}}),n=await fetch(`/api/denials?${r}`);if(!n.ok)throw new Error("Failed to fetch basic denials");return{denials:(await n.json()).denials||[]}}function Oq(){const{data:e,isLoading:t,error:r}=Tt({queryKey:["health"],queryFn:Sq,refetchInterval:1e4,refetchIntervalInBackground:!0});return t?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"text-lg text-gray-600",children:"Loading health status..."})}):r?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-lg text-red-600",children:["Failed to load health: ",r instanceof Error?r.message:"Unknown error"]})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"System Health"}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),i.jsx("span",{className:"text-sm text-gray-600",children:"Auto-refresh (10s)"})]}),i.jsx("a",{href:"/api/export/csv",className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:"📥 Export CSV"})]})]}),i.jsxs("div",{className:"bg-white shadow rounded-lg",children:[i.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"RLS Service Status"})}),i.jsx("div",{className:"p-6",children:i.jsx("pre",{className:"bg-gray-50 p-4 rounded-lg border text-sm font-mono overflow-x-auto",children:JSON.stringify(e,null,2)})})]})]})}async function Sq(){const e=await fetch("/api/health");if(!e.ok)throw new Error("failed");return e.json()}async function Aq(){try{const e=await fetch("/api/pipeline/status");if(!e.ok)throw new Error(`Failed to fetch pipeline status: ${e.statusText}`);return await e.json()}catch(e){return console.error("Error fetching pipeline status:",e),{total_requests_per_second:0,total_errors_per_second:0,overall_success_rate:0,avg_response_time:0,active_tenants:0,total_denials:0,components:[],pipeline_flow:[]}}}function Pq({status:e}){const r=(a=>{switch(a){case"healthy":return{color:"bg-green-100 text-green-800",icon:oe};case"warning":return{color:"bg-yellow-100 text-yellow-800",icon:_e};case"error":return{color:"bg-red-100 text-red-800",icon:ft};default:return{color:"bg-gray-100 text-gray-800",icon:jt}}})(e),n=r.icon;return i.jsxs(Ae,{className:r.color,children:[i.jsx(n,{className:"w-3 h-3 mr-1"}),e.charAt(0).toUpperCase()+e.slice(1)]})}function $q({status:e}){const r=(a=>{switch(a){case"flowing":return{color:"bg-green-100 text-green-800",icon:dr};case"degraded":return{color:"bg-yellow-100 text-yellow-800",icon:_e};case"blocked":return{color:"bg-red-100 text-red-800",icon:cg};default:return{color:"bg-gray-100 text-gray-800",icon:jt}}})(e),n=r.icon;return i.jsxs(Ae,{className:r.color,children:[i.jsx(n,{className:"w-3 h-3 mr-1"}),e.charAt(0).toUpperCase()+e.slice(1)]})}function Tq(){const{data:e,isLoading:t,error:r}=Tt(["pipeline-status"],Aq,{refetchInterval:1e4,refetchIntervalInBackground:!0,staleTime:5e3});return t?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"text-lg text-gray-600",children:"Loading pipeline status..."})}):r?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg text-red-600 mb-2",children:"Error loading pipeline status"}),i.jsx("div",{className:"text-sm text-gray-500",children:r instanceof Error?r.message:"Unknown error occurred"})]})}):e?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[i.jsxs(q,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Total RPS"}),i.jsx(ur,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsx("div",{className:"text-2xl font-bold",children:e.total_requests_per_second.toLocaleString()}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.total_errors_per_second," errors/sec"]})]})]}),i.jsxs(q,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Success Rate"}),i.jsx(oe,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[e.overall_success_rate.toFixed(1),"%"]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.total_denials," denials today"]})]})]}),i.jsxs(q,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Avg Response Time"}),i.jsx(jt,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[e.avg_response_time,"ms"]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"End-to-end latency"})]})]}),i.jsxs(q,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Active Tenants"}),i.jsx(or,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsx("div",{className:"text-2xl font-bold",children:e.active_tenants}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"With active traffic"})]})]})]}),i.jsxs(q,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(fn,{className:"h-5 w-5"}),"Component Status"]}),i.jsx(ie,{children:"Health and performance of all system components"})]}),i.jsx(H,{children:i.jsx("div",{className:"space-y-4",children:e.components.map(n=>i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Pq,{status:n.status}),i.jsx("span",{className:"font-medium",children:n.name})]}),i.jsxs("div",{className:"text-sm text-gray-500",children:["v",n.version," • ",n.uptime]})]}),i.jsxs("div",{className:"flex items-center space-x-6",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm font-medium",children:[n.metrics.requests_per_second," RPS"]}),i.jsxs("div",{className:"text-xs text-gray-500",children:[n.metrics.error_rate,"% error rate"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm font-medium",children:[n.metrics.response_time,"ms"]}),i.jsx("div",{className:"text-xs text-gray-500",children:"avg response"})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm font-medium",children:[n.metrics.memory_usage,"%"]}),i.jsx("div",{className:"text-xs text-gray-500",children:"memory"})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm font-medium",children:[n.metrics.cpu_usage,"%"]}),i.jsx("div",{className:"text-xs text-gray-500",children:"CPU"})]})]})]},n.name))})})]}),i.jsxs(q,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(Ft,{className:"h-5 w-5"}),"Pipeline Flow"]}),i.jsx(ie,{children:"Request flow through the edge enforcement pipeline"})]}),i.jsx(H,{children:i.jsx("div",{className:"space-y-4",children:e.pipeline_flow.map((n,a)=>i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx($q,{status:n.status}),i.jsx("span",{className:"font-medium",children:n.stage})]}),i.jsx("div",{className:"text-sm text-gray-500",children:n.component})]}),i.jsxs("div",{className:"flex items-center space-x-6",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm font-medium",children:[n.requests_per_second," RPS"]}),i.jsx("div",{className:"text-xs text-gray-500",children:"throughput"})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm font-medium",children:[n.success_rate,"%"]}),i.jsx("div",{className:"text-xs text-gray-500",children:"success rate"})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm font-medium",children:[n.error_rate,"%"]}),i.jsx("div",{className:"text-xs text-gray-500",children:"error rate"})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm font-medium",children:[n.avg_response_time,"ms"]}),i.jsx("div",{className:"text-xs text-gray-500",children:"avg latency"})]})]})]},n.stage))})})]}),i.jsxs(q,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(ks,{className:"h-5 w-5"}),"Quick Actions"]}),i.jsx(ie,{children:"Common monitoring and troubleshooting actions"})]}),i.jsx(H,{children:i.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[i.jsxs("button",{className:"p-4 border rounded-lg hover:bg-gray-50 text-left",children:[i.jsx("div",{className:"font-medium",children:"View Logs"}),i.jsx("div",{className:"text-sm text-gray-500",children:"Check component logs"})]}),i.jsxs("button",{className:"p-4 border rounded-lg hover:bg-gray-50 text-left",children:[i.jsx("div",{className:"font-medium",children:"Metrics"}),i.jsx("div",{className:"text-sm text-gray-500",children:"Detailed metrics"})]}),i.jsxs("button",{className:"p-4 border rounded-lg hover:bg-gray-50 text-left",children:[i.jsx("div",{className:"font-medium",children:"Health Check"}),i.jsx("div",{className:"text-sm text-gray-500",children:"Run health checks"})]}),i.jsxs("button",{className:"p-4 border rounded-lg hover:bg-gray-50 text-left",children:[i.jsx("div",{className:"font-medium",children:"Restart"}),i.jsx("div",{className:"text-sm text-gray-500",children:"Restart components"})]})]})})]})]}):i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"text-lg text-gray-600",children:"No pipeline data available"})})}function Eq(e){return e.includes("parse_failed")?"Body Parsing":e.includes("body_extract")?"Body Extraction":e.includes("samples_per_second")?"Rate Limit":e.includes("max_body_bytes")?"Body Size":e.includes("max_series")?"Series Limit":e.includes("missing_tenant")?"Authentication":e.includes("enforcement_disabled")?"Enforcement":"Unknown"}async function kq(e,t="24h"){try{const r=await fetch(`/api/tenants/${e}?range=${t}`);if(!r.ok)throw new Error(`Failed to fetch tenant details: ${r.statusText}`);const n=await r.json(),a=n.tenant,s=n.recent_denials||[],o=n.request_history||[];let l="unknown";a&&a.enforcement?.enabled?a.metrics&&(a.metrics.allow_rate>0||a.metrics.deny_rate>0)||a.metrics&&a.metrics.samples_per_sec>0?l="active":l="inactive":a&&!a.enforcement?.enabled&&(l="suspended");const c=Cq(a,s);return{id:a?.id||e,name:a?.name||e,status:l,created_at:a?.created_at||new Date().toISOString(),last_activity:a?.last_activity||new Date().toISOString(),limits:{samples_per_second:a?.limits?.samples_per_second||0,burst_percent:a?.limits?.burst_pct||0,max_body_bytes:a?.limits?.max_body_bytes||0,max_series_per_query:a?.limits?.max_series_per_query||0,max_global_series_per_user:a?.limits?.max_global_series_per_user||0,max_global_series_per_metric:a?.limits?.max_global_series_per_metric||0,max_global_exemplars_per_user:a?.limits?.max_global_exemplars_per_user||0,ingestion_rate:a?.limits?.ingestion_rate||0,ingestion_burst_size:a?.limits?.ingestion_burst_size||0,max_labels_per_series:a?.limits?.max_labels_per_series||0,max_label_value_length:a?.limits?.max_label_value_length||0,max_series_per_request:a?.limits?.max_series_per_request||0},metrics:{current_samples_per_second:a?.metrics?.samples_per_sec||0,current_series:0,total_requests:Math.round((a?.metrics?.allow_rate||0)+(a?.metrics?.deny_rate||0)),allowed_requests:Math.round(a?.metrics?.allow_rate||0),denied_requests:Math.round(a?.metrics?.deny_rate||0),allow_rate:a?.metrics?.allow_rate||0,deny_rate:a?.metrics?.deny_rate||0,avg_response_time:a?.metrics?.avg_response_time||.28,error_rate:0,utilization_pct:a?.metrics?.utilization_pct||0},request_history:o.map(u=>({timestamp:u.timestamp,requests:u.requests||0,samples:u.samples||0,denials:u.denials||0,avg_response_time:u.avg_response_time||.28})),enforcement_history:s.map(u=>({timestamp:u.timestamp||new Date().toISOString(),reason:u.reason||"",limit_type:Eq(u.reason||""),current_value:u.observed_samples||u.observed_body_bytes||0,limit_value:u.limit_exceeded||0,action:"denied"})),alerts:c}}catch(r){return console.error("Error fetching tenant details:",r),{id:e,name:"Unknown",status:"unknown",created_at:"",last_activity:"",limits:{samples_per_second:0,burst_percent:0,max_body_bytes:0,max_series_per_query:0,max_global_series_per_user:0,max_global_series_per_metric:0,max_global_exemplars_per_user:0,ingestion_rate:0,ingestion_burst_size:0,max_labels_per_series:0,max_label_value_length:0,max_series_per_request:0},metrics:{current_samples_per_second:0,current_series:0,total_requests:0,allowed_requests:0,denied_requests:0,allow_rate:0,deny_rate:0,avg_response_time:0,error_rate:0,utilization_pct:0},request_history:[],enforcement_history:[],alerts:[]}}}function Cq(e,t){const r=[];if(e?.metrics?.deny_rate>0&&e?.metrics?.allow_rate>0){const n=e.metrics.allow_rate+e.metrics.deny_rate,a=e.metrics.deny_rate/n*100;a>20&&r.push({id:"high-denial-rate",severity:"warning",message:`High denial rate detected: ${a.toFixed(1)}% of requests are being blocked`,timestamp:new Date().toISOString(),resolved:!1})}if(e?.metrics?.utilization_pct>80&&r.push({id:"high-utilization",severity:"warning",message:`High limit utilization: ${e.metrics.utilization_pct.toFixed(1)}% of samples per second limit`,timestamp:new Date().toISOString(),resolved:!1}),e&&!e.enforcement?.enabled&&r.push({id:"enforcement-disabled",severity:"error",message:"Enforcement is disabled for this tenant - no limits are being applied",timestamp:new Date().toISOString(),resolved:!1}),e?.metrics?.samples_per_sec===0&&e?.metrics?.allow_rate===0&&e?.metrics?.deny_rate===0&&r.push({id:"no-activity",severity:"info",message:"No recent activity detected for this tenant",timestamp:new Date().toISOString(),resolved:!1}),t.length>0){const n=t.filter(a=>{const s=new Date(a.timestamp),o=new Date(Date.now()-60*60*1e3);return s>o});n.length>5&&r.push({id:"recent-denials",severity:"warning",message:`${n.length} requests denied in the last hour`,timestamp:new Date().toISOString(),resolved:!1})}return r}function Mq({status:e}){const r=(a=>{switch(a){case"active":return{color:"bg-green-100 text-green-800",icon:oe};case"inactive":return{color:"bg-gray-100 text-gray-800",icon:jt};case"suspended":return{color:"bg-red-100 text-red-800",icon:ft};default:return{color:"bg-gray-100 text-gray-800",icon:jt}}})(e),n=r.icon;return i.jsxs(Ae,{className:r.color,children:[i.jsx(n,{className:"w-3 h-3 mr-1"}),e.charAt(0).toUpperCase()+e.slice(1)]})}function Iq({severity:e}){const r=(a=>{switch(a){case"error":return{color:"bg-red-100 text-red-800",icon:ft};case"warning":return{color:"bg-yellow-100 text-yellow-800",icon:_e};case"info":return{color:"bg-blue-100 text-blue-800",icon:oe};default:return{color:"bg-gray-100 text-gray-800",icon:jt}}})(e),n=r.icon;return i.jsxs(Ae,{className:r.color,children:[i.jsx(n,{className:"w-3 h-3 mr-1"}),e.charAt(0).toUpperCase()+e.slice(1)]})}function Dq(){const{tenantId:e}=Ky(),[t,r]=I.useState("24h"),{data:n,isLoading:a,error:s}=Tt(["tenant-details",e,t],()=>kq(e,t),{refetchInterval:3e5,refetchIntervalInBackground:!0,staleTime:18e4,cacheTime:6e5});if(a)return i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"text-lg text-gray-600",children:"Loading tenant details..."})});if(s)return i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg text-red-600 mb-2",children:"Error loading tenant details"}),i.jsx("div",{className:"text-sm text-gray-500",children:s instanceof Error?s.message:"Unknown error occurred"}),i.jsx("div",{className:"mt-4",children:i.jsx("button",{onClick:()=>window.history.back(),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Go Back"})})]})});if(!n)return i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg text-gray-600 mb-2",children:"Tenant not found"}),i.jsxs("div",{className:"text-sm text-gray-500 mb-4",children:['The tenant "',e,'" does not exist or has no limits configured.']}),i.jsx("button",{onClick:()=>window.history.back(),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Go Back"})]})});const o=(n.request_history||[]).map(c=>({time:new Date(c.timestamp).toLocaleTimeString(),requests:c.requests,samples:c.samples,denials:c.denials,response_time:c.avg_response_time})),l=[{name:"Allowed",value:n.metrics.allowed_requests,color:"#10b981"},{name:"Denied",value:n.metrics.denied_requests,color:"#ef4444"}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:n.name}),i.jsxs("p",{className:"text-gray-500",children:["Tenant ID: ",n.id]})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(Mq,{status:n.status}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("label",{htmlFor:"timeRange",className:"text-sm font-medium text-gray-700",children:"Time Range:"}),i.jsxs("select",{id:"timeRange",value:t,onChange:c=>r(c.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"15m",children:"15 Minutes"}),i.jsx("option",{value:"1h",children:"1 Hour"}),i.jsx("option",{value:"24h",children:"24 Hours"}),i.jsx("option",{value:"1w",children:"1 Week"})]})]}),i.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Edit Limits"})]})]}),i.jsxs("div",{className:"text-sm text-gray-500 text-center",children:["Auto-refresh (5m) • Data range: ",t==="15m"?"15 Minutes":t==="1h"?"1 Hour":t==="24h"?"24 Hours":"1 Week"]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[i.jsxs(q,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Current Samples/sec"}),i.jsx(ur,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsx("div",{className:"text-2xl font-bold",children:n.metrics.current_samples_per_second.toLocaleString()}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.metrics.utilization_pct,"% of limit"]})]})]}),i.jsxs(q,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Allow Rate"}),i.jsx(oe,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[n.metrics.allow_rate,"%"]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.metrics.allowed_requests.toLocaleString()," requests"]})]})]}),i.jsxs(q,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Deny Rate"}),i.jsx(ft,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[n.metrics.deny_rate,"%"]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.metrics.denied_requests.toLocaleString()," requests"]})]})]}),i.jsxs(q,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Avg Response Time"}),i.jsx(jt,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[n.metrics.avg_response_time,"ms"]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.metrics.error_rate,"% error rate"]})]})]})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs(q,{children:[i.jsxs(U,{children:[i.jsx(W,{children:"Request History (24h)"}),i.jsx(ie,{children:"Requests, samples, and denials over time"})]}),i.jsx(H,{children:i.jsx(lr,{width:"100%",height:300,children:i.jsxs(tq,{data:o,children:[i.jsx(Ur,{strokeDasharray:"3 3"}),i.jsx(Nt,{dataKey:"time"}),i.jsx(Ot,{}),i.jsx(ze,{}),i.jsx(Gt,{dataKey:"requests",fill:"#3b82f6",name:"Requests"}),i.jsx(Gt,{dataKey:"samples",fill:"#10b981",name:"Samples"}),i.jsx(Gt,{dataKey:"denials",fill:"#ef4444",name:"Denials"})]})})})]}),i.jsxs(q,{children:[i.jsxs(U,{children:[i.jsx(W,{children:"Enforcement Distribution"}),i.jsx(ie,{children:"Allowed vs denied requests"})]}),i.jsx(H,{children:i.jsx(lr,{width:"100%",height:300,children:i.jsxs(qy,{children:[i.jsx(Rt,{data:l,cx:"50%",cy:"50%",labelLine:!1,label:({name:c,percent:u})=>`${c} ${(u*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:l.map((c,u)=>i.jsx(ra,{fill:c.color},`cell-${u}`))}),i.jsx(ze,{})]})})})]})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[i.jsxs(q,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Total Requests"}),i.jsx(wt,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsx("div",{className:"text-2xl font-bold",children:n.metrics.total_requests.toLocaleString()}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Last 24 hours"})]})]}),i.jsxs(q,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Current Series"}),i.jsx(dr,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsx("div",{className:"text-2xl font-bold",children:n.metrics.current_series.toLocaleString()}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Active series count"})]})]}),i.jsxs(q,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Error Rate"}),i.jsx(_e,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[n.metrics.error_rate,"%"]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Request failures"})]})]}),i.jsxs(q,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Utilization"}),i.jsx(Ft,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[n.metrics.utilization_pct,"%"]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Of rate limit"})]})]})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs(q,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(ct,{className:"h-5 w-5"}),"Current Limits & Configuration"]}),i.jsx(ie,{children:"Configured limits and enforcement settings for this tenant"})]}),i.jsx(H,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium",children:"Samples per second"}),i.jsx("span",{className:"text-sm",children:n.limits.samples_per_second.toLocaleString()})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium",children:"Burst percent"}),i.jsxs("span",{className:"text-sm",children:[n.limits.burst_percent,"%"]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium",children:"Max body bytes"}),i.jsx("span",{className:"text-sm",children:n.limits.max_body_bytes.toLocaleString()})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium",children:"Max series per query"}),i.jsx("span",{className:"text-sm",children:n.limits.max_series_per_query.toLocaleString()})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium",children:"Max labels per series"}),i.jsx("span",{className:"text-sm",children:n.limits.max_labels_per_series||"Unlimited"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium",children:"Max label value length"}),i.jsx("span",{className:"text-sm",children:n.limits.max_label_value_length||"Unlimited"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium",children:"Max series per request"}),i.jsx("span",{className:"text-sm",children:n.limits.max_series_per_request||"Unlimited"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium",children:"Ingestion rate"}),i.jsx("span",{className:"text-sm",children:n.limits.ingestion_rate.toLocaleString()})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium",children:"Ingestion burst size"}),i.jsx("span",{className:"text-sm",children:n.limits.ingestion_burst_size.toLocaleString()})]})]})})]}),i.jsxs(q,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(Ft,{className:"h-5 w-5"}),"Recent Blocking Reasons"]}),i.jsx(ie,{children:"Why requests are being blocked for this tenant"})]}),i.jsx(H,{children:i.jsx("div",{className:"space-y-3",children:n.enforcement_history.length===0?i.jsxs("div",{className:"text-center py-4 text-gray-500",children:[i.jsx(oe,{className:"h-8 w-8 mx-auto mb-2 text-green-500"}),i.jsx("p",{children:"No blocked requests"}),i.jsx("p",{className:"text-sm",children:"All requests are being allowed"})]}):n.enforcement_history.slice(0,10).map((c,u)=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-red-50",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(ft,{className:"h-4 w-4 text-red-500"}),i.jsx("div",{className:"text-sm font-medium text-red-800",children:c.reason})]}),i.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:[i.jsx("span",{className:"font-medium",children:"Type:"})," ",c.limit_type]}),c.current_value>0&&i.jsxs("div",{className:"text-xs text-gray-600",children:[i.jsx("span",{className:"font-medium",children:"Value:"})," ",c.current_value.toLocaleString(),c.limit_value>0&&i.jsxs("span",{children:[" / ",c.limit_value.toLocaleString()]})]}),i.jsx("div",{className:"text-xs text-gray-500 mt-1",children:new Date(c.timestamp).toLocaleString()})]}),i.jsx("div",{className:"text-right",children:i.jsx(Ae,{className:"bg-red-100 text-red-800",children:c.action})})]},u))})})]})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs(q,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(dr,{className:"h-5 w-5"}),"Performance Trends"]}),i.jsx(ie,{children:"Response time and throughput patterns"})]}),i.jsx(H,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-blue-900",children:"Average Response Time"}),i.jsx("div",{className:"text-xs text-blue-700",children:"Last 24 hours"})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-lg font-bold text-blue-900",children:[n.metrics.avg_response_time,"ms"]}),i.jsx("div",{className:"text-xs text-blue-700",children:n.metrics.avg_response_time<1?"⚡ Excellent":n.metrics.avg_response_time<5?"✅ Good":"⚠️ Slow"})]})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-green-900",children:"Success Rate"}),i.jsx("div",{className:"text-xs text-green-700",children:"Requests processed successfully"})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-lg font-bold text-green-900",children:[n.metrics.allow_rate.toFixed(1),"%"]}),i.jsx("div",{className:"text-xs text-green-700",children:n.metrics.allow_rate>95?"🎯 Excellent":n.metrics.allow_rate>80?"✅ Good":"⚠️ Needs attention"})]})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 bg-orange-50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-orange-900",children:"Current Throughput"}),i.jsx("div",{className:"text-xs text-orange-700",children:"Samples per second"})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-lg font-bold text-orange-900",children:n.metrics.current_samples_per_second.toLocaleString()}),i.jsx("div",{className:"text-xs text-orange-700",children:n.metrics.utilization_pct>80?"🔥 High utilization":n.metrics.utilization_pct>50?"📈 Moderate":"📉 Low"})]})]})]})})]}),i.jsxs(q,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(ur,{className:"h-5 w-5"}),"System Health"]}),i.jsx(ie,{children:"Current system status and health indicators"})]}),i.jsx(H,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Enforcement Status"}),i.jsx("div",{className:"text-xs text-gray-700",children:"Limit enforcement"})]}),i.jsx("div",{className:"text-right",children:i.jsx(Ae,{className:n.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:n.status==="active"?"🛡️ Active":"⚠️ Inactive"})})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-purple-900",children:"Error Rate"}),i.jsx("div",{className:"text-xs text-purple-700",children:"Failed requests"})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-lg font-bold text-purple-900",children:[n.metrics.error_rate,"%"]}),i.jsx("div",{className:"text-xs text-purple-700",children:n.metrics.error_rate<1?"✅ Excellent":n.metrics.error_rate<5?"⚠️ Acceptable":"🚨 High"})]})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 bg-yellow-50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-yellow-900",children:"Active Alerts"}),i.jsx("div",{className:"text-xs text-yellow-700",children:"Current issues"})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-lg font-bold text-yellow-900",children:n.alerts.filter(c=>!c.resolved).length}),i.jsx("div",{className:"text-xs text-yellow-700",children:n.alerts.filter(c=>!c.resolved).length===0?"✅ All clear":"⚠️ Issues detected"})]})]})]})})]})]}),i.jsxs(q,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(_e,{className:"h-5 w-5"}),"Active Alerts"]}),i.jsx(ie,{children:"Current alerts and notifications for this tenant"})]}),i.jsx(H,{children:i.jsx("div",{className:"space-y-3",children:n.alerts.map(c=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Iq,{severity:c.severity}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium",children:c.message}),i.jsx("div",{className:"text-xs text-gray-500",children:new Date(c.timestamp).toLocaleString()})]})]}),i.jsx("div",{children:c.resolved?i.jsx(Ae,{className:"bg-green-100 text-green-800",children:"Resolved"}):i.jsx(Ae,{className:"bg-yellow-100 text-yellow-800",children:"Active"})})]},c.id))})})]})]})}async function Rq(){try{const e=await fetch("/api/metrics/system");if(!e.ok)throw new Error(`Failed to fetch system metrics: ${e.statusText}`);return await e.json()}catch(e){return console.error("Error fetching system metrics:",e),{timestamp:new Date().toISOString(),overview:{total_requests_per_second:0,total_errors_per_second:0,overall_success_rate:0,avg_response_time:0,active_tenants:0,total_denials:0,system_health:"unknown"},component_metrics:{nginx:{requests_per_second:0,error_rate:0,response_time:0,memory_usage:0,cpu_usage:0,uptime:"0s",status:"unknown"},envoy:{requests_per_second:0,error_rate:0,response_time:0,memory_usage:0,cpu_usage:0,uptime:"0s",status:"unknown"},rls:{requests_per_second:0,error_rate:0,response_time:0,memory_usage:0,cpu_usage:0,uptime:"0s",status:"unknown"},overrides_sync:{requests_per_second:0,error_rate:0,response_time:0,memory_usage:0,cpu_usage:0,uptime:"0s",status:"unknown"},mimir:{requests_per_second:0,error_rate:0,response_time:0,memory_usage:0,cpu_usage:0,uptime:"0s",status:"unknown"}},performance_metrics:{cpu_usage:0,memory_usage:0,disk_usage:0,network_throughput:0,error_rate:0,latency_p95:0,latency_p99:0},traffic_metrics:{requests_per_minute:[],samples_per_minute:[],denials_per_minute:[],response_times:[]},tenant_metrics:{top_tenants_by_requests:[],top_tenants_by_denials:[],utilization_distribution:[]},alert_metrics:{total_alerts:0,critical_alerts:0,warning_alerts:0,info_alerts:0,recent_alerts:[]}}}}function el({status:e}){const r=(a=>{switch(a){case"healthy":return{color:"bg-green-100 text-green-800",icon:oe};case"warning":return{color:"bg-yellow-100 text-yellow-800",icon:_e};case"error":return{color:"bg-red-100 text-red-800",icon:ft};default:return{color:"bg-gray-100 text-gray-800",icon:jt}}})(e),n=r.icon;return i.jsxs(Ae,{className:r.color,children:[i.jsx(n,{className:"w-3 h-3 mr-1"}),e.charAt(0).toUpperCase()+e.slice(1)]})}function Lq(){const[e,t]=I.useState("1h"),{data:r,isLoading:n,error:a}=Tt(["system-metrics",e],Rq,{refetchInterval:1e4,refetchIntervalInBackground:!0,staleTime:5e3});if(n)return i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"text-lg text-gray-600",children:"Loading system metrics..."})});if(a)return i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg text-red-600 mb-2",children:"Error loading system metrics"}),i.jsx("div",{className:"text-sm text-gray-500",children:a instanceof Error?a.message:"Unknown error occurred"})]})});if(!r)return i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"text-lg text-gray-600",children:"No metrics data available"})});const s=r.traffic_metrics.requests_per_minute.map(l=>({time:new Date(l.timestamp).toLocaleTimeString(),requests:l.value,samples:r.traffic_metrics.samples_per_minute.find(c=>c.timestamp===l.timestamp)?.value||0,denials:r.traffic_metrics.denials_per_minute.find(c=>c.timestamp===l.timestamp)?.value||0,response_time:r.traffic_metrics.response_times.find(c=>c.timestamp===l.timestamp)?.value||0})),o=r.tenant_metrics.utilization_distribution.map(l=>({name:l.range,value:l.count,percentage:l.percentage}));return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"System Metrics"}),i.jsx("p",{className:"text-gray-500",children:"Comprehensive monitoring and performance data"})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(el,{status:r.overview.system_health}),i.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",new Date(r.timestamp).toLocaleString()]})]})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[i.jsxs(q,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Total RPS"}),i.jsx(ur,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsx("div",{className:"text-2xl font-bold",children:r.overview.total_requests_per_second.toLocaleString()}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.overview.total_errors_per_second," errors/sec"]})]})]}),i.jsxs(q,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Success Rate"}),i.jsx(oe,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[r.overview.overall_success_rate.toFixed(1),"%"]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.overview.total_denials," denials today"]})]})]}),i.jsxs(q,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Avg Response Time"}),i.jsx(jt,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[r.overview.avg_response_time,"ms"]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["P95: ",r.performance_metrics.latency_p95,"ms"]})]})]}),i.jsxs(q,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Active Tenants"}),i.jsx(or,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsx("div",{className:"text-2xl font-bold",children:r.overview.active_tenants}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"With active traffic"})]})]})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[i.jsxs(q,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"CPU Usage"}),i.jsx(Vm,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[r.performance_metrics.cpu_usage,"%"]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"System-wide average"})]})]}),i.jsxs(q,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Memory Usage"}),i.jsx(wt,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[r.performance_metrics.memory_usage,"%"]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"System-wide average"})]})]}),i.jsxs(q,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Network Throughput"}),i.jsx(on,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[r.performance_metrics.network_throughput," MB/s"]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Inbound traffic"})]})]}),i.jsxs(q,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Error Rate"}),i.jsx(ft,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[r.performance_metrics.error_rate,"%"]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"System-wide average"})]})]})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs(q,{children:[i.jsxs(U,{children:[i.jsx(W,{children:"Traffic Overview (Last Hour)"}),i.jsx(ie,{children:"Requests, samples, and denials over time"})]}),i.jsx(H,{children:i.jsx(lr,{width:"100%",height:300,children:i.jsxs(Fy,{data:s,children:[i.jsx(Ur,{strokeDasharray:"3 3"}),i.jsx(Nt,{dataKey:"time"}),i.jsx(Ot,{}),i.jsx(ze,{}),i.jsx(at,{type:"monotone",dataKey:"requests",stackId:"1",stroke:"#3b82f6",fill:"#3b82f6"}),i.jsx(at,{type:"monotone",dataKey:"samples",stackId:"1",stroke:"#10b981",fill:"#10b981"}),i.jsx(at,{type:"monotone",dataKey:"denials",stackId:"1",stroke:"#ef4444",fill:"#ef4444"})]})})})]}),i.jsxs(q,{children:[i.jsxs(U,{children:[i.jsx(W,{children:"Response Times (Last Hour)"}),i.jsx(ie,{children:"Average response time trends"})]}),i.jsx(H,{children:i.jsx(lr,{width:"100%",height:300,children:i.jsxs(Ec,{data:s,children:[i.jsx(Ur,{strokeDasharray:"3 3"}),i.jsx(Nt,{dataKey:"time"}),i.jsx(Ot,{}),i.jsx(ze,{}),i.jsx(Wr,{type:"monotone",dataKey:"response_time",stroke:"#8b5cf6",strokeWidth:2})]})})})]})]}),i.jsxs(q,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(fn,{className:"h-5 w-5"}),"Component Performance"]}),i.jsx(ie,{children:"Detailed metrics for each system component"})]}),i.jsx(H,{children:i.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:Object.entries(r.component_metrics).map(([l,c])=>i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h3",{className:"font-medium capitalize",children:l.replace("_"," ")}),i.jsx(el,{status:c.status})]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"RPS:"}),i.jsx("span",{className:"font-mono",children:c.requests_per_second})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Error Rate:"}),i.jsxs("span",{className:"font-mono",children:[c.error_rate,"%"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Response Time:"}),i.jsxs("span",{className:"font-mono",children:[c.response_time,"ms"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Memory:"}),i.jsxs("span",{className:"font-mono",children:[c.memory_usage,"%"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"CPU:"}),i.jsxs("span",{className:"font-mono",children:[c.cpu_usage,"%"]})]})]})]},l))})})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs(q,{children:[i.jsxs(U,{children:[i.jsx(W,{children:"Top Tenants by Requests"}),i.jsx(ie,{children:"Most active tenants in the last hour"})]}),i.jsx(H,{children:i.jsx("div",{className:"space-y-3",children:r.tenant_metrics.top_tenants_by_requests.map((l,c)=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-sm font-medium",children:c+1}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:l.tenant_id}),i.jsxs("div",{className:"text-sm text-gray-500",children:[l.samples," samples"]})]})]}),i.jsx("div",{className:"text-right",children:i.jsxs("div",{className:"font-medium",children:[l.requests," req/min"]})})]},l.tenant_id))})})]}),i.jsxs(q,{children:[i.jsxs(U,{children:[i.jsx(W,{children:"Tenant Utilization Distribution"}),i.jsx(ie,{children:"How tenants are using their allocated resources"})]}),i.jsx(H,{children:i.jsx(lr,{width:"100%",height:300,children:i.jsxs(qy,{children:[i.jsx(Rt,{data:o,cx:"50%",cy:"50%",labelLine:!1,label:({name:l,percentage:c})=>`${l} ${c}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:o.map((l,c)=>i.jsx(ra,{fill:["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6"][c]},`cell-${c}`))}),i.jsx(ze,{})]})})})]})]}),i.jsxs(q,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(_e,{className:"h-5 w-5"}),"Recent Alerts"]}),i.jsx(ie,{children:"System alerts and notifications"})]}),i.jsxs(H,{children:[i.jsxs("div",{className:"grid gap-4 md:grid-cols-3 mb-4",children:[i.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-red-600",children:r.alert_metrics.critical_alerts}),i.jsx("div",{className:"text-sm text-gray-500",children:"Critical"})]}),i.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:r.alert_metrics.warning_alerts}),i.jsx("div",{className:"text-sm text-gray-500",children:"Warning"})]}),i.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.alert_metrics.info_alerts}),i.jsx("div",{className:"text-sm text-gray-500",children:"Info"})]})]}),i.jsx("div",{className:"space-y-3",children:r.alert_metrics.recent_alerts.map(l=>i.jsx("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(el,{status:l.severity}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium",children:l.message}),i.jsxs("div",{className:"text-xs text-gray-500",children:[l.component," • ",new Date(l.timestamp).toLocaleString()]})]})]})},l.id))})]})]})]})}function Bq({status:e,message:t}){const n=(s=>{switch(s){case"healthy":return{color:"bg-green-100 text-green-800",icon:oe};case"warning":return{color:"bg-yellow-100 text-yellow-800",icon:_e};case"critical":return{color:"bg-red-100 text-red-800",icon:ft};default:return{color:"bg-gray-100 text-gray-800",icon:xi}}})(e),a=n.icon;return i.jsxs(Ae,{className:n.color,children:[i.jsx(a,{className:"w-3 h-3 mr-1"}),e.charAt(0).toUpperCase()+e.slice(1),t&&i.jsxs("span",{className:"ml-1 text-xs",children:["(",t,")"]})]})}function qq({severity:e}){const r=(a=>{switch(a){case"critical":return{color:"bg-red-100 text-red-800",icon:ft};case"error":return{color:"bg-orange-100 text-orange-800",icon:_e};case"warning":return{color:"bg-yellow-100 text-yellow-800",icon:_e};case"info":return{color:"bg-blue-100 text-blue-800",icon:xi};default:return{color:"bg-gray-100 text-gray-800",icon:xi}}})(e),n=r.icon;return i.jsxs(Ae,{className:r.color,children:[i.jsx(n,{className:"w-3 h-3 mr-1"}),e.charAt(0).toUpperCase()+e.slice(1)]})}function Fq(){const[e,t]=I.useState("1h"),[r,n]=I.useState("all"),{data:a,isLoading:s,error:o}=Tt(["cardinality",e,r],()=>zq(e,r),{refetchInterval:3e5,refetchIntervalInBackground:!0,staleTime:18e4,cacheTime:6e5});if(s)return i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"text-lg text-gray-600",children:"Loading cardinality data..."})});if(o)return i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg text-red-600",children:"Failed to load cardinality data"}),i.jsx("div",{className:"text-sm text-gray-500",children:o instanceof Error?o.message:"Unknown error occurred"})]})});const l=a||{metrics:{total_series:0,avg_series_per_request:0,avg_labels_per_series:0,cardinality_violations:0,violation_rate:0},violations:[],trends:[],tenants:[],alerts:[]},{metrics:c,violations:u,trends:d,tenants:f,alerts:h}=l,p=c.violation_rate>.1?"critical":c.violation_rate>.05?"warning":"healthy",x=[{value:"15m",label:"15 Minutes"},{value:"1h",label:"1 Hour"},{value:"24h",label:"24 Hours"},{value:"1w",label:"1 Week"}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Cardinality Dashboard"}),i.jsx("p",{className:"text-gray-500",children:"Real-time monitoring of series and label cardinality"})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(Bq,{status:p}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Time Range:"}),i.jsx("select",{value:e,onChange:v=>t(v.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:x.map(v=>i.jsx("option",{value:v.value,children:v.label},v.value))})]}),i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[i.jsx(Xm,{className:"w-4 h-4 animate-spin"}),i.jsx("span",{children:"Auto-refresh (5m)"})]})]})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[i.jsxs(q,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Total Series"}),i.jsx(wt,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsx("div",{className:"text-2xl font-bold",children:c.total_series.toLocaleString()}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all tenants"})]})]}),i.jsxs(q,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Avg Series/Request"}),i.jsx(Ft,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsx("div",{className:"text-2xl font-bold",children:c.avg_series_per_request.toFixed(1)}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Per request average"})]})]}),i.jsxs(q,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Avg Labels/Series"}),i.jsx(lg,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsx("div",{className:"text-2xl font-bold",children:c.avg_labels_per_series.toFixed(1)}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Per series average"})]})]}),i.jsxs(q,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(W,{className:"text-sm font-medium",children:"Violation Rate"}),i.jsx(ct,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(H,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[(c.violation_rate*100).toFixed(2),"%"]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[c.cardinality_violations," violations"]})]})]})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs(q,{children:[i.jsxs(U,{children:[i.jsx(W,{children:"Series per Request Trend"}),i.jsx(ie,{children:"Average series count over time"})]}),i.jsx(H,{children:i.jsx(lr,{width:"100%",height:300,children:i.jsxs(Ec,{data:d||[],children:[i.jsx(Ur,{strokeDasharray:"3 3"}),i.jsx(Nt,{dataKey:"timestamp"}),i.jsx(Ot,{}),i.jsx(ze,{}),i.jsx(Wr,{type:"monotone",dataKey:"avg_series_per_request",stroke:"#8884d8",strokeWidth:2})]})})})]}),i.jsxs(q,{children:[i.jsxs(U,{children:[i.jsx(W,{children:"Labels per Series Trend"}),i.jsx(ie,{children:"Average label count over time"})]}),i.jsx(H,{children:i.jsx(lr,{width:"100%",height:300,children:i.jsxs(Ec,{data:d||[],children:[i.jsx(Ur,{strokeDasharray:"3 3"}),i.jsx(Nt,{dataKey:"timestamp"}),i.jsx(Ot,{}),i.jsx(ze,{}),i.jsx(Wr,{type:"monotone",dataKey:"avg_labels_per_series",stroke:"#82ca9d",strokeWidth:2})]})})})]})]}),i.jsxs(q,{children:[i.jsxs(U,{children:[i.jsx(W,{children:"Recent Cardinality Violations"}),i.jsx(ie,{children:"Latest violations of cardinality limits"})]}),i.jsx(H,{children:(u||[]).length===0?i.jsx("div",{className:"flex items-center justify-center h-32 bg-gray-50 rounded-lg",children:i.jsxs("div",{className:"text-center",children:[i.jsx(oe,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),i.jsx("div",{className:"text-lg text-gray-600",children:"No cardinality violations"}),i.jsx("div",{className:"text-sm text-gray-500",children:"All requests within limits"})]})}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Timestamp"}),i.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Tenant"}),i.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Violation"}),i.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Observed"}),i.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Limit"}),i.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Exceeded"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200",children:(u||[]).slice(0,10).map((v,j)=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"py-3 px-4 text-sm",children:i.jsx("div",{className:"font-mono text-gray-900",children:new Date(v.timestamp).toLocaleString()})}),i.jsx("td",{className:"py-3 px-4",children:i.jsx("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:v.tenant_id})}),i.jsx("td",{className:"py-3 px-4",children:i.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded",children:v.reason})}),i.jsx("td",{className:"py-3 px-4 font-mono text-sm",children:v.observed_series||v.observed_labels}),i.jsx("td",{className:"py-3 px-4 font-mono text-sm",children:v.limit_exceeded}),i.jsxs("td",{className:"py-3 px-4 font-mono text-sm text-red-600",children:["+",(v.observed_series||v.observed_labels)-v.limit_exceeded]})]},j))})]})})})]}),i.jsxs(q,{children:[i.jsxs(U,{children:[i.jsx(W,{children:"Tenant Cardinality Overview"}),i.jsx(ie,{children:"Current cardinality status by tenant"})]}),i.jsx(H,{children:i.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:(f||[]).map(v=>i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h4",{className:"font-medium",children:v.name||v.tenant_id}),i.jsxs(Ae,{variant:v.violation_count>0?"destructive":"secondary",children:[v.violation_count," violations"]})]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Current Series:"}),i.jsx("span",{className:"font-mono",children:v.current_series.toLocaleString()})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Current Labels:"}),i.jsx("span",{className:"font-mono",children:v.current_labels.toLocaleString()})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Series Limit:"}),i.jsx("span",{className:"font-mono",children:v.limits.max_series_per_request.toLocaleString()})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Labels Limit:"}),i.jsx("span",{className:"font-mono",children:v.limits.max_labels_per_series})]})]})]},v.tenant_id))})})]}),i.jsxs(q,{children:[i.jsxs(U,{children:[i.jsx(W,{children:"Cardinality Alerts"}),i.jsx(ie,{children:"Active alerts for cardinality issues"})]}),i.jsx(H,{children:(h||[]).length===0?i.jsx("div",{className:"flex items-center justify-center h-32 bg-gray-50 rounded-lg",children:i.jsxs("div",{className:"text-center",children:[i.jsx(oe,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),i.jsx("div",{className:"text-lg text-gray-600",children:"No active alerts"}),i.jsx("div",{className:"text-sm text-gray-500",children:"All cardinality metrics within thresholds"})]})}):i.jsx("div",{className:"space-y-3",children:(h||[]).map(v=>i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(qq,{severity:v.severity}),i.jsx("span",{className:"font-medium",children:v.message})]}),i.jsx("span",{className:"text-sm text-gray-500",children:new Date(v.timestamp).toLocaleString()})]}),i.jsxs("div",{className:"text-sm text-gray-600",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{children:["Metric: ",v.metric]}),i.jsxs("span",{className:"font-mono",children:["Value: ",v.value]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{children:["Threshold: ",v.threshold]}),v.tenant_id&&i.jsxs("span",{children:["Tenant: ",v.tenant_id]})]})]})]},v.id))})})]})]})}async function zq(e,t){try{const r=new URLSearchParams;e&&r.append("range",e),t&&t!=="all"&&r.append("tenant",t);const n=await fetch(`/api/cardinality?${r.toString()}`);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(r){return console.error("Failed to fetch cardinality data:",r),{metrics:{total_series:0,total_labels:0,avg_series_per_request:0,avg_labels_per_series:0,max_series_in_request:0,max_labels_in_series:0,cardinality_violations:0,violation_rate:0},violations:[],trends:[],tenants:[],alerts:[]}}}function Uq(){const[e,t]=I.useState(!1),[r,n]=I.useState(0),[a,s]=I.useState(!1),o=[{id:1,title:"Client Request",description:"Prometheus/Alloy sends metrics with X-Scope-OrgID header",icon:or,color:"bg-blue-500",details:"Metrics data with tenant identification header"},{id:2,title:"NGINX Router",description:"Canary routing: 90% direct, 10% edge enforcement",icon:on,color:"bg-green-500",details:"Traffic distribution based on canary configuration"},{id:3,title:"Envoy Proxy",description:"Ext_authz + ratelimit filters for edge enforcement",icon:ir,color:"bg-purple-500",details:"Authorization and rate limiting decisions"},{id:4,title:"RLS Service",description:"Lightning-fast decision engine (0.28ms)",icon:ct,color:"bg-orange-500",details:"Token bucket algorithm with tenant limits"},{id:5,title:"Mimir Distributor",description:"Protected metrics ingestion",icon:wt,color:"bg-red-500",details:"Validated requests within enforced limits"}];I.useEffect(()=>{let u;return e&&(u=setInterval(()=>{n(d=>(d+1)%o.length)},2e3)),()=>clearInterval(u)},[e,o.length]);const l=()=>{t(!e)},c=()=>{n(0),t(!1)};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6",children:[i.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[e?i.jsx(ag,{className:"h-4 w-4"}):i.jsx(sg,{className:"h-4 w-4"}),e?"Pause":"Play"," Animation"]}),i.jsxs("button",{onClick:c,className:"flex items-center gap-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:[i.jsx(og,{className:"h-4 w-4"}),"Reset"]}),i.jsxs("button",{onClick:()=>s(!a),className:"flex items-center gap-2 px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors",children:[i.jsx(Qi,{className:"h-4 w-4"}),a?"Hide":"Show"," Details"]})]}),i.jsxs("div",{className:"relative",children:[i.jsx("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",children:o.map((u,d)=>{if(d===o.length-1)return null;const f=r>=d;return i.jsxs("g",{children:[i.jsx("line",{x1:`${(d+1)*20}%`,y1:"50%",x2:`${(d+2)*20}%`,y2:"50%",stroke:f?"#3b82f6":"#e5e7eb",strokeWidth:"3",strokeDasharray:f?"none":"5,5",className:"transition-all duration-1000"}),f&&i.jsx("circle",{cx:`${(d+1.5)*20}%`,cy:"50%",r:"4",fill:"#3b82f6",className:"animate-pulse"})]},`line-${d}`)})}),i.jsx("div",{className:"flex justify-between items-center relative z-10",children:o.map((u,d)=>{const f=r===d,h=r>d,m=u.icon;return i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center transition-all duration-500 ${f?`${u.color} text-white scale-110 shadow-lg`:h?`${u.color} text-white`:"bg-gray-200 text-gray-500"}`,children:i.jsx(m,{className:"h-8 w-8"})}),i.jsxs("div",{className:"mt-3 text-center max-w-32",children:[i.jsx("div",{className:`font-medium text-sm ${f?"text-blue-600":"text-gray-600"}`,children:u.title}),a&&i.jsx("div",{className:"text-xs text-gray-500 mt-1",children:u.description})]}),f&&i.jsx("div",{className:"mt-2 px-3 py-2 bg-blue-50 border border-blue-200 rounded-lg text-xs text-blue-800 max-w-48",children:u.details})]},u.id)})})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-8",children:[i.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:"0.28ms"}),i.jsx("div",{className:"text-sm text-green-800",children:"RLS Response Time"})]}),i.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"10K+"}),i.jsx("div",{className:"text-sm text-blue-800",children:"Requests/sec"})]}),i.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"99.9%"}),i.jsx("div",{className:"text-sm text-purple-800",children:"Success Rate"})]})]}),i.jsxs("div",{className:"mt-8",children:[i.jsx("h4",{className:"font-medium mb-4",children:"Traffic Flow Distribution"}),i.jsxs("div",{className:"flex items-center justify-center gap-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mb-2",children:i.jsx("div",{className:"text-2xl font-bold text-green-600",children:"90%"})}),i.jsx("div",{className:"text-sm text-gray-600",children:"Direct to Mimir"})]}),i.jsx(li,{className:"h-6 w-6 text-gray-400"}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mb-2",children:i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"10%"})}),i.jsx("div",{className:"text-sm text-gray-600",children:"Edge Enforcement"})]})]})]})]})}function Wq(){const[e,t]=I.useState(null),r=[{id:"nginx",name:"NGINX Ingress",description:"Traffic routing and canary deployment",details:{role:"Traffic Router",protocol:"HTTP/1.1, HTTP/2",features:["Canary Routing","SSL Termination","Load Balancing"],config:"nginx.ingress.kubernetes.io/rewrite-target: /"},color:"bg-green-500",icon:on},{id:"envoy",name:"Envoy Proxy",description:"Edge enforcement with ext_authz and ratelimit",details:{role:"Edge Enforcement",protocol:"gRPC, HTTP/1.1",features:["ext_authz Filter","ratelimit Filter","Circuit Breakers"],config:"envoy.filters.http.ext_authz"},color:"bg-purple-500",icon:ir},{id:"rls",name:"RLS Service",description:"Lightning-fast authorization and rate limiting",details:{role:"Decision Engine",protocol:"gRPC, HTTP/2",features:["Token Bucket","Tenant Limits","Real-time Metrics"],config:"envoy.service.auth.v3.Authorization"},color:"bg-orange-500",icon:ct},{id:"overrides",name:"Overrides Sync",description:"Kubernetes controller for limit synchronization",details:{role:"Config Sync",protocol:"HTTP/1.1",features:["ConfigMap Watcher","Limit Sync","Health Checks"],config:"mimir-overrides ConfigMap"},color:"bg-blue-500",icon:ks},{id:"mimir",name:"Mimir Distributor",description:"Protected metrics ingestion endpoint",details:{role:"Metrics Storage",protocol:"HTTP/1.1",features:["Remote Write","Tenant Isolation","Series Limits"],config:"/api/v1/push"},color:"bg-red-500",icon:wt},{id:"admin",name:"Admin UI",description:"Real-time monitoring and management",details:{role:"Monitoring Dashboard",protocol:"HTTP/1.1",features:["Live Metrics","Blocking Reasons","Tenant Management"],config:"React + TypeScript"},color:"bg-indigo-500",icon:Sa}];return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(n=>{const a=n.icon,s=e===n.id;return i.jsxs("div",{onClick:()=>t(s?null:n.id),className:`p-4 border rounded-lg cursor-pointer transition-all duration-300 ${s?"border-blue-500 bg-blue-50 shadow-lg":"border-gray-200 hover:border-gray-300 hover:shadow-md"}`,children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:`w-10 h-10 rounded-full ${n.color} flex items-center justify-center`,children:i.jsx(a,{className:"h-5 w-5 text-white"})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-900",children:n.name}),i.jsx("div",{className:"text-sm text-gray-500",children:n.description})]})]}),s&&i.jsxs("div",{className:"mt-4 space-y-3 text-sm",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-700",children:"Role:"}),i.jsx("div",{className:"text-gray-600",children:n.details.role})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-700",children:"Protocol:"}),i.jsx("div",{className:"text-gray-600",children:n.details.protocol})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-700",children:"Features:"}),i.jsx("ul",{className:"text-gray-600 list-disc list-inside",children:n.details.features.map((o,l)=>i.jsx("li",{children:o},l))})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-700",children:"Config:"}),i.jsx("code",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:n.details.config})]})]})]},n.id)})}),i.jsxs("div",{className:"mt-8",children:[i.jsx("h4",{className:"font-medium mb-4",children:"Data Flow & Communication"}),i.jsx("div",{className:"bg-gray-50 p-6 rounded-lg",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Request Flow"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),i.jsx("span",{children:"Client → NGINX (HTTP/1.1)"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),i.jsx("span",{children:"NGINX → Envoy (HTTP/1.1)"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),i.jsx("span",{children:"Envoy → RLS (gRPC)"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),i.jsx("span",{children:"RLS → Envoy (gRPC Response)"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),i.jsx("span",{children:"Envoy → Mimir (HTTP/1.1)"})]})]})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Configuration Flow"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),i.jsx("span",{children:"ConfigMap → Overrides Sync"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),i.jsx("span",{children:"Overrides Sync → RLS (HTTP)"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),i.jsx("span",{children:"RLS → Admin UI (HTTP)"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),i.jsx("span",{children:"Admin UI → User (WebSocket)"})]})]})]})]})})]}),i.jsxs("div",{className:"mt-8",children:[i.jsx("h4",{className:"font-medium mb-4",children:"Performance Characteristics"}),i.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[i.jsx("div",{className:"text-lg font-bold text-green-600",children:"0.28ms"}),i.jsx("div",{className:"text-xs text-green-800",children:"RLS Decision Time"})]}),i.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[i.jsx("div",{className:"text-lg font-bold text-blue-600",children:"10K+"}),i.jsx("div",{className:"text-xs text-blue-800",children:"Requests/sec"})]}),i.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[i.jsx("div",{className:"text-lg font-bold text-purple-600",children:"99.9%"}),i.jsx("div",{className:"text-xs text-purple-800",children:"Availability"})]}),i.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[i.jsx("div",{className:"text-lg font-bold text-orange-600",children:"<1ms"}),i.jsx("div",{className:"text-xs text-orange-800",children:"End-to-End Latency"})]})]})]})]})}function Hq(){return i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Mimir Edge Enforcement Wiki"}),i.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Complete guide to the lightning-fast edge enforcement system that protects your Mimir infrastructure with real-time monitoring, comprehensive blocking reasons, and zero-downtime deployments."}),i.jsxs("div",{className:"flex justify-center gap-4 mt-6",children:[i.jsx(Ae,{className:"bg-green-100 text-green-800",children:"⚡ Lightning Fast (0.28ms)"}),i.jsx(Ae,{className:"bg-blue-100 text-blue-800",children:"🛡️ 100% Protection"}),i.jsx(Ae,{className:"bg-purple-100 text-purple-800",children:"📊 Real-time Monitoring"}),i.jsx(Ae,{className:"bg-orange-100 text-orange-800",children:"🔍 Blocking Reasons"})]})]}),i.jsxs(q,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(ct,{className:"h-5 w-5"}),"System Overview"]}),i.jsx(ie,{children:"What is Mimir Edge Enforcement and why do we need it?"})]}),i.jsxs(H,{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-3",children:"What is Mimir Edge Enforcement?"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Mimir Edge Enforcement is a production-ready, lightning-fast Kubernetes solution that enforces Mimir tenant ingestion limits at the edge (before the Distributor). It acts as a protective layer that prevents individual tenants from overwhelming your Mimir infrastructure with sub-millisecond response times and comprehensive blocking reason tracking."}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"⚡ Lightning Fast Performance"}),i.jsx("p",{className:"text-blue-700 text-sm",children:"Sub-millisecond response times (0.28-0.54ms) ensure zero impact on legitimate traffic while providing instant protection against violations."})]}),i.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"🛡️ Comprehensive Protection"}),i.jsx("p",{className:"text-green-700 text-sm",children:"Multi-layer protection with detailed blocking reasons, real-time monitoring, and automatic limit enforcement at the edge."})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Key Benefits & Features"}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(oe,{className:"h-5 w-5 text-green-600 mt-0.5"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"⚡ Lightning Fast"}),i.jsx("div",{className:"text-sm text-gray-500",children:"0.28-0.54ms response times"})]})]}),i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(oe,{className:"h-5 w-5 text-green-600 mt-0.5"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"🔍 Blocking Reasons"}),i.jsx("div",{className:"text-sm text-gray-500",children:"Detailed why requests are blocked"})]})]}),i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(oe,{className:"h-5 w-5 text-green-600 mt-0.5"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"📊 Real-time Monitoring"}),i.jsx("div",{className:"text-sm text-gray-500",children:"Live metrics and dashboards"})]})]}),i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(oe,{className:"h-5 w-5 text-green-600 mt-0.5"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"🛡️ Zero Downtime"}),i.jsx("div",{className:"text-sm text-gray-500",children:"Seamless deployments"})]})]}),i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(oe,{className:"h-5 w-5 text-green-600 mt-0.5"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"🔧 No Client Changes"}),i.jsx("div",{className:"text-sm text-gray-500",children:"Works with existing clients"})]})]}),i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(oe,{className:"h-5 w-5 text-green-600 mt-0.5"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"🎯 Canary Deployments"}),i.jsx("div",{className:"text-sm text-gray-500",children:"10% → 100% gradual rollout"})]})]}),i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(oe,{className:"h-5 w-5 text-green-600 mt-0.5"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"📈 Auto-scaling"}),i.jsx("div",{className:"text-sm text-gray-500",children:"HPA and resource optimization"})]})]}),i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(oe,{className:"h-5 w-5 text-green-600 mt-0.5"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"🔐 Multi-tenant Security"}),i.jsx("div",{className:"text-sm text-gray-500",children:"Isolated tenant protection"})]})]})]})]})]})]}),i.jsxs(q,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(on,{className:"h-5 w-5"}),"Interactive Architecture Flow"]}),i.jsx(ie,{children:"See how requests flow through the system in real-time"})]}),i.jsx(H,{children:i.jsx(Uq,{})})]}),i.jsxs(q,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(fn,{className:"h-5 w-5"}),"Technical Architecture Details"]}),i.jsx(ie,{children:"Detailed component interactions and data flow"})]}),i.jsx(H,{children:i.jsx(Wq,{})})]}),i.jsxs(q,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(ir,{className:"h-5 w-5"}),"Latest Enhancements & Features"]}),i.jsx(ie,{children:"Recent improvements and new capabilities"})]}),i.jsxs(H,{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"🔍 Comprehensive Blocking Reasons"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"The system now provides detailed visibility into why requests are being blocked, making it easy to understand and resolve issues quickly."}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-red-900 mb-2",children:"Blocking Reason Types"}),i.jsxs("ul",{className:"text-sm text-red-800 space-y-1",children:[i.jsxs("li",{children:["• ",i.jsx("strong",{children:"parse_failed_deny"})," - Invalid protobuf/snappy data"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"body_extract_failed_deny"})," - Failed to extract request body"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"samples_per_second"})," - Rate limit exceeded"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"max_body_bytes"})," - Body size limit exceeded"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"missing_tenant_header"})," - No tenant identification"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"enforcement_disabled"})," - System not protecting"]})]})]}),i.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Real-time Tracking"}),i.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Timestamp"})," - When each blocking occurred"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Observed Values"})," - Actual samples/bytes that triggered blocking"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Tenant ID"})," - Which tenant was affected"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Reason Code"})," - Specific violation type"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Historical Data"})," - Track patterns over time"]})]})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"⚡ Performance Optimizations"}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(ir,{className:"h-4 w-4 text-yellow-600"}),i.jsx("span",{className:"font-medium",children:"Lightning Fast"})]}),i.jsx("div",{className:"text-2xl font-bold text-green-600",children:"0.28ms"}),i.jsx("div",{className:"text-sm text-gray-600",children:"Average response time"})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(ur,{className:"h-4 w-4 text-blue-600"}),i.jsx("span",{className:"font-medium",children:"High Throughput"})]}),i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"10K+"}),i.jsx("div",{className:"text-sm text-gray-600",children:"Requests per second"})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(ct,{className:"h-4 w-4 text-green-600"}),i.jsx("span",{className:"font-medium",children:"Zero Impact"})]}),i.jsx("div",{className:"text-2xl font-bold text-green-600",children:"99.9%"}),i.jsx("div",{className:"text-sm text-gray-600",children:"Success rate"})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"🛡️ Enhanced Protection Mechanisms"}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"Multi-Layer Security"}),i.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Edge Enforcement"})," - Block at Envoy before reaching Mimir"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Body Validation"})," - Parse and validate request content"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Rate Limiting"})," - Token bucket algorithm for fair allocation"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Tenant Isolation"})," - Separate limits per tenant"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Real-time Monitoring"})," - Instant visibility into violations"]})]})]}),i.jsxs("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-purple-900 mb-2",children:"Advanced Features"}),i.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Canary Deployments"})," - Gradual rollout (10% → 100%)"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Auto-scaling"})," - HPA for dynamic resource allocation"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Health Checks"})," - Comprehensive system monitoring"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Graceful Shutdown"})," - Zero-downtime deployments"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Config Hot-reload"})," - Dynamic limit updates"]})]})]})]})]})]})]}),i.jsxs(q,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(_e,{className:"h-5 w-5"}),"Comprehensive Blocking Reasons Guide"]}),i.jsx(ie,{children:"Complete reference of all blocking reasons with explanations and examples"})]}),i.jsxs(H,{className:"space-y-8",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"🔍 Understanding Blocking Reasons"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Mimir Edge Enforcement provides detailed blocking reasons to help you understand exactly why requests are being denied. Each blocking reason includes specific information about the violation, observed values, and recommendations for resolution."}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[i.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"📊 Real-time Visibility"}),i.jsx("p",{className:"text-sm text-blue-800",children:"See exactly why requests are blocked with detailed metrics and timestamps"})]}),i.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"🎯 Specific Actions"}),i.jsx("p",{className:"text-sm text-green-800",children:"Each reason provides clear guidance on how to resolve the issue"})]}),i.jsxs("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-purple-900 mb-2",children:"📈 Historical Tracking"}),i.jsx("p",{className:"text-sm text-purple-800",children:"Track blocking patterns over time to identify trends and optimize limits"})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"⚡ Rate Limiting Blocking Reasons"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"p-4 border border-red-200 rounded-lg bg-red-50",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(_e,{className:"h-5 w-5 text-red-600 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-red-900 mb-2",children:"samples_rate_exceeded"}),i.jsx("p",{className:"text-sm text-red-800 mb-3",children:"The tenant has exceeded their samples per second rate limit. This is the most common blocking reason for high-volume metric ingestion."}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-red-900 mb-1",children:"🔍 What it means:"}),i.jsxs("ul",{className:"text-sm text-red-800 space-y-1",children:[i.jsx("li",{children:"• Tenant sending too many samples too quickly"}),i.jsx("li",{children:"• Token bucket algorithm detected rate violation"}),i.jsx("li",{children:"• Temporary blocking until rate normalizes"})]})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-red-900 mb-1",children:"🛠️ How to fix:"}),i.jsxs("ul",{className:"text-sm text-red-800 space-y-1",children:[i.jsxs("li",{children:["• Increase ",i.jsx("code",{children:"samples_per_second"})," limit"]}),i.jsx("li",{children:"• Optimize client batching/compression"}),i.jsx("li",{children:"• Reduce metric cardinality"}),i.jsx("li",{children:"• Implement client-side rate limiting"})]})]})]}),i.jsxs("div",{className:"mt-3 p-3 bg-white rounded border",children:[i.jsx("h5",{className:"font-medium text-red-900 mb-1",children:"📝 Example:"}),i.jsxs("div",{className:"text-sm text-red-800 font-mono",children:[i.jsx("div",{children:"Reason: samples_rate_exceeded"}),i.jsx("div",{children:"Observed: 1,500 samples in 1 second"}),i.jsx("div",{children:"Limit: 1,000 samples per second"}),i.jsx("div",{children:"Status: 429 Too Many Requests"})]})]})]})]})}),i.jsx("div",{className:"p-4 border border-orange-200 rounded-lg bg-orange-50",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(_e,{className:"h-5 w-5 text-orange-600 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-orange-900 mb-2",children:"bytes_rate_exceeded"}),i.jsx("p",{className:"text-sm text-orange-800 mb-3",children:"The tenant has exceeded their bytes per second rate limit. This protects against bandwidth abuse and ensures fair resource allocation."}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-orange-900 mb-1",children:"🔍 What it means:"}),i.jsxs("ul",{className:"text-sm text-orange-800 space-y-1",children:[i.jsx("li",{children:"• Tenant sending too much data too quickly"}),i.jsx("li",{children:"• Network bandwidth limit exceeded"}),i.jsx("li",{children:"• Large payloads or high compression"})]})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-orange-900 mb-1",children:"🛠️ How to fix:"}),i.jsxs("ul",{className:"text-sm text-orange-800 space-y-1",children:[i.jsxs("li",{children:["• Increase ",i.jsx("code",{children:"max_body_bytes"})," limit"]}),i.jsx("li",{children:"• Optimize payload compression"}),i.jsx("li",{children:"• Reduce batch sizes"}),i.jsx("li",{children:"• Implement client-side throttling"})]})]})]}),i.jsxs("div",{className:"mt-3 p-3 bg-white rounded border",children:[i.jsx("h5",{className:"font-medium text-orange-900 mb-1",children:"📝 Example:"}),i.jsxs("div",{className:"text-sm text-orange-800 font-mono",children:[i.jsx("div",{children:"Reason: bytes_rate_exceeded"}),i.jsx("div",{children:"Observed: 2.5 MB in 1 second"}),i.jsx("div",{children:"Limit: 1 MB per second"}),i.jsx("div",{children:"Status: 429 Too Many Requests"})]})]})]})]})})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"📏 Size Limit Blocking Reasons"}),i.jsx("div",{className:"space-y-4",children:i.jsx("div",{className:"p-4 border border-red-200 rounded-lg bg-red-50",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(_e,{className:"h-5 w-5 text-red-600 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-red-900 mb-2",children:"body_size_exceeded"}),i.jsx("p",{className:"text-sm text-red-800 mb-3",children:"The request body size exceeds the maximum allowed limit. This prevents memory exhaustion and protects against DoS attacks."}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-red-900 mb-1",children:"🔍 What it means:"}),i.jsxs("ul",{className:"text-sm text-red-800 space-y-1",children:[i.jsx("li",{children:"• Single request too large"}),i.jsx("li",{children:"• Memory protection mechanism"}),i.jsx("li",{children:"• Prevents resource exhaustion"})]})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-red-900 mb-1",children:"🛠️ How to fix:"}),i.jsxs("ul",{className:"text-sm text-red-800 space-y-1",children:[i.jsx("li",{children:"• Split large batches into smaller requests"}),i.jsxs("li",{children:["• Increase ",i.jsx("code",{children:"max_body_bytes"})," limit"]}),i.jsx("li",{children:"• Optimize metric compression"}),i.jsx("li",{children:"• Reduce metric cardinality"})]})]})]}),i.jsxs("div",{className:"mt-3 p-3 bg-white rounded border",children:[i.jsx("h5",{className:"font-medium text-red-900 mb-1",children:"📝 Example:"}),i.jsxs("div",{className:"text-sm text-red-800 font-mono",children:[i.jsx("div",{children:"Reason: body_size_exceeded"}),i.jsx("div",{children:"Observed: 12 MB request body"}),i.jsx("div",{children:"Limit: 10 MB maximum"}),i.jsx("div",{children:"Status: 413 Request Entity Too Large"})]})]})]})]})})})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"🔍 Data Validation Blocking Reasons"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"p-4 border border-purple-200 rounded-lg bg-purple-50",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(_e,{className:"h-5 w-5 text-purple-600 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-purple-900 mb-2",children:"parse_failed_deny"}),i.jsx("p",{className:"text-sm text-purple-800 mb-3",children:"The request body could not be parsed as valid Prometheus remote write protobuf data. This indicates malformed or corrupted data."}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-purple-900 mb-1",children:"🔍 What it means:"}),i.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[i.jsx("li",{children:"• Invalid protobuf format"}),i.jsx("li",{children:"• Corrupted snappy/gzip compression"}),i.jsx("li",{children:"• Malformed metric data"}),i.jsx("li",{children:"• Network transmission errors"})]})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-purple-900 mb-1",children:"🛠️ How to fix:"}),i.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[i.jsx("li",{children:"• Check client protobuf generation"}),i.jsx("li",{children:"• Verify compression settings"}),i.jsx("li",{children:"• Test with valid sample data"}),i.jsx("li",{children:"• Check network connectivity"})]})]})]}),i.jsxs("div",{className:"mt-3 p-3 bg-white rounded border",children:[i.jsx("h5",{className:"font-medium text-purple-900 mb-1",children:"📝 Example:"}),i.jsxs("div",{className:"text-sm text-purple-800 font-mono",children:[i.jsx("div",{children:"Reason: parse_failed_deny"}),i.jsx("div",{children:"Error: proto: cannot parse invalid wire-format data"}),i.jsx("div",{children:"Body Size: 1,234 bytes"}),i.jsx("div",{children:"Status: 400 Bad Request"})]})]})]})]})}),i.jsx("div",{className:"p-4 border border-purple-200 rounded-lg bg-purple-50",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(_e,{className:"h-5 w-5 text-purple-600 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-purple-900 mb-2",children:"body_extract_failed_deny"}),i.jsx("p",{className:"text-sm text-purple-800 mb-3",children:"Failed to extract the request body from the HTTP request. This usually indicates a problem with the request format or Envoy configuration."}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-purple-900 mb-1",children:"🔍 What it means:"}),i.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[i.jsx("li",{children:"• Empty request body"}),i.jsx("li",{children:"• Envoy body parsing issue"}),i.jsx("li",{children:"• Content-Length mismatch"}),i.jsx("li",{children:"• Request truncation"})]})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-purple-900 mb-1",children:"🛠️ How to fix:"}),i.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[i.jsx("li",{children:"• Check client request format"}),i.jsx("li",{children:"• Verify Envoy body parsing config"}),i.jsx("li",{children:"• Ensure proper Content-Length"}),i.jsx("li",{children:"• Test with valid request body"})]})]})]}),i.jsxs("div",{className:"mt-3 p-3 bg-white rounded border",children:[i.jsx("h5",{className:"font-medium text-purple-900 mb-1",children:"📝 Example:"}),i.jsxs("div",{className:"text-sm text-purple-800 font-mono",children:[i.jsx("div",{children:"Reason: body_extract_failed_deny"}),i.jsx("div",{children:"Error: no body in request"}),i.jsx("div",{children:"Content-Length: 0"}),i.jsx("div",{children:"Status: 400 Bad Request"})]})]})]})]})})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"⚙️ Configuration Blocking Reasons"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"p-4 border border-yellow-200 rounded-lg bg-yellow-50",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(_e,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-yellow-900 mb-2",children:"missing_tenant_header"}),i.jsx("p",{className:"text-sm text-yellow-800 mb-3",children:"The request is missing the required tenant identification header. This prevents the system from applying tenant-specific limits."}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-yellow-900 mb-1",children:"🔍 What it means:"}),i.jsxs("ul",{className:"text-sm text-yellow-800 space-y-1",children:[i.jsx("li",{children:"• No X-Scope-OrgID header"}),i.jsx("li",{children:"• No Authorization header (for Alloy)"}),i.jsx("li",{children:"• Client not configured properly"}),i.jsx("li",{children:"• Cannot identify tenant"})]})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-yellow-900 mb-1",children:"🛠️ How to fix:"}),i.jsxs("ul",{className:"text-sm text-yellow-800 space-y-1",children:[i.jsx("li",{children:"• Add X-Scope-OrgID header to requests"}),i.jsx("li",{children:"• Configure basic auth for Alloy"}),i.jsx("li",{children:"• Update client configuration"}),i.jsx("li",{children:"• Check tenant header format"})]})]})]}),i.jsxs("div",{className:"mt-3 p-3 bg-white rounded border",children:[i.jsx("h5",{className:"font-medium text-yellow-900 mb-1",children:"📝 Example:"}),i.jsxs("div",{className:"text-sm text-yellow-800 font-mono",children:[i.jsx("div",{children:"Reason: missing_tenant_header"}),i.jsx("div",{children:"Required: X-Scope-OrgID or Authorization"}),i.jsx("div",{children:"Found: No tenant headers"}),i.jsx("div",{children:"Status: 400 Bad Request"})]})]})]})]})}),i.jsx("div",{className:"p-4 border border-blue-200 rounded-lg bg-blue-50",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Qi,{className:"h-5 w-5 text-blue-600 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"enforcement_disabled"}),i.jsx("p",{className:"text-sm text-blue-800 mb-3",children:"Enforcement is disabled for this tenant. Requests are allowed to pass through without limit checking (monitoring only mode)."}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-blue-900 mb-1",children:"🔍 What it means:"}),i.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[i.jsx("li",{children:"• Tenant in monitoring mode"}),i.jsx("li",{children:"• No limits enforced"}),i.jsx("li",{children:"• Requests always allowed"}),i.jsx("li",{children:"• Metrics still collected"})]})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-blue-900 mb-1",children:"🛠️ How to enable:"}),i.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[i.jsx("li",{children:"• Set enforcement.enabled: true"}),i.jsx("li",{children:"• Configure tenant limits"}),i.jsx("li",{children:"• Update via Admin API"}),i.jsx("li",{children:"• Use overrides-sync controller"})]})]})]}),i.jsxs("div",{className:"mt-3 p-3 bg-white rounded border",children:[i.jsx("h5",{className:"font-medium text-blue-900 mb-1",children:"📝 Example:"}),i.jsxs("div",{className:"text-sm text-blue-800 font-mono",children:[i.jsx("div",{children:"Reason: enforcement_disabled"}),i.jsx("div",{children:"Tenant: new-tenant"}),i.jsx("div",{children:"Status: Monitoring only"}),i.jsx("div",{children:"Action: Allowed (no limits)"})]})]})]})]})})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"🔄 Failure Mode Blocking Reasons"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"p-4 border border-green-200 rounded-lg bg-green-50",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(oe,{className:"h-5 w-5 text-green-600 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:"parse_failed_allow"}),i.jsx("p",{className:"text-sm text-green-800 mb-3",children:"Request parsing failed but was allowed due to failure mode configuration. Limits are still enforced using fallback values."}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-green-900 mb-1",children:"🔍 What it means:"}),i.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[i.jsx("li",{children:"• Data corruption detected"}),i.jsx("li",{children:"• Fallback limit enforcement"}),i.jsx("li",{children:"• Conservative sample counting"}),i.jsx("li",{children:"• Protection still active"})]})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-green-900 mb-1",children:"🛠️ Best practices:"}),i.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[i.jsx("li",{children:"• Monitor corruption patterns"}),i.jsx("li",{children:"• Investigate data sources"}),i.jsx("li",{children:"• Check network stability"}),i.jsx("li",{children:"• Review client configuration"})]})]})]}),i.jsxs("div",{className:"mt-3 p-3 bg-white rounded border",children:[i.jsx("h5",{className:"font-medium text-green-900 mb-1",children:"📝 Example:"}),i.jsxs("div",{className:"text-sm text-green-800 font-mono",children:[i.jsx("div",{children:"Reason: parse_failed_allow"}),i.jsx("div",{children:"Fallback: 1 sample, 123 bytes"}),i.jsx("div",{children:"Limits: Still enforced"}),i.jsx("div",{children:"Status: 200 OK (with limits)"})]})]})]})]})}),i.jsx("div",{className:"p-4 border border-green-200 rounded-lg bg-green-50",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(oe,{className:"h-5 w-5 text-green-600 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:"body_extract_failed_allow"}),i.jsx("p",{className:"text-sm text-green-800 mb-3",children:"Body extraction failed but was allowed due to failure mode configuration. Conservative limits are applied using raw body size."}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-green-900 mb-1",children:"🔍 What it means:"}),i.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[i.jsx("li",{children:"• Body parsing issue"}),i.jsx("li",{children:"• Raw size limit enforcement"}),i.jsx("li",{children:"• Conservative protection"}),i.jsx("li",{children:"• System still protected"})]})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-green-900 mb-1",children:"🛠️ Best practices:"}),i.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[i.jsx("li",{children:"• Monitor extraction failures"}),i.jsx("li",{children:"• Check Envoy configuration"}),i.jsx("li",{children:"• Verify request format"}),i.jsx("li",{children:"• Review client setup"})]})]})]}),i.jsxs("div",{className:"mt-3 p-3 bg-white rounded border",children:[i.jsx("h5",{className:"font-medium text-green-900 mb-1",children:"📝 Example:"}),i.jsxs("div",{className:"text-sm text-green-800 font-mono",children:[i.jsx("div",{children:"Reason: body_extract_failed_allow"}),i.jsx("div",{children:"Fallback: 1 sample, 456 bytes"}),i.jsx("div",{children:"Limits: Raw size enforced"}),i.jsx("div",{children:"Status: 200 OK (with limits)"})]})]})]})]})})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"📊 Monitoring and Resolution"}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"🔍 Real-time Monitoring"}),i.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Blocking Dashboard"})," - Live view of all blocking reasons"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Tenant Details"})," - Per-tenant blocking history"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Trend Analysis"})," - Identify patterns over time"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Alert Integration"})," - Get notified of violations"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Metrics Export"})," - Prometheus metrics for monitoring"]})]})]}),i.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"🛠️ Resolution Workflow"}),i.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[i.jsxs("li",{children:["• ",i.jsx("strong",{children:"1. Identify"})," - Check blocking reason in UI"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"2. Analyze"})," - Review observed vs limit values"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"3. Investigate"})," - Check client configuration"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"4. Adjust"})," - Update limits or fix client"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"5. Monitor"})," - Verify resolution effectiveness"]})]})]})]})]})]})]}),i.jsxs(q,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(fn,{className:"h-5 w-5"}),"System Architecture"]}),i.jsx(ie,{children:"How the components work together"})]}),i.jsx(H,{children:i.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(on,{className:"h-5 w-5 text-blue-600"}),i.jsx("h3",{className:"font-semibold",children:"NGINX"})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Acts as the ingress layer, handling traffic routing and canary deployments."}),i.jsxs("div",{className:"space-y-1 text-xs",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Role:"}),i.jsx("span",{className:"font-medium",children:"Traffic Router"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Canary:"}),i.jsx("span",{className:"font-medium",children:"10% → Edge"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Direct:"}),i.jsx("span",{className:"font-medium",children:"90% → Mimir"})]})]})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(ir,{className:"h-5 w-5 text-purple-600"}),i.jsx("h3",{className:"font-semibold",children:"Envoy Proxy"})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Handles authorization and rate limiting for edge enforcement traffic."}),i.jsxs("div",{className:"space-y-1 text-xs",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Role:"}),i.jsx("span",{className:"font-medium",children:"Edge Enforcement"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Filters:"}),i.jsx("span",{className:"font-medium",children:"ext_authz + ratelimit"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Protocol:"}),i.jsx("span",{className:"font-medium",children:"HTTP/1.1 + HTTP/2"})]})]})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(ct,{className:"h-5 w-5 text-green-600"}),i.jsx("h3",{className:"font-semibold",children:"RLS (Rate Limit Service)"})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Go service that provides authorization and rate limiting decisions."}),i.jsxs("div",{className:"space-y-1 text-xs",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Role:"}),i.jsx("span",{className:"font-medium",children:"Decision Engine"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Protocol:"}),i.jsx("span",{className:"font-medium",children:"gRPC + HTTP"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Storage:"}),i.jsx("span",{className:"font-medium",children:"In-memory"})]})]})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(wt,{className:"h-5 w-5 text-orange-600"}),i.jsx("h3",{className:"font-semibold",children:"Overrides Sync"})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Kubernetes controller that watches Mimir ConfigMap and syncs limits to RLS."}),i.jsxs("div",{className:"space-y-1 text-xs",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Role:"}),i.jsx("span",{className:"font-medium",children:"Config Sync"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Watches:"}),i.jsx("span",{className:"font-medium",children:"Mimir ConfigMap"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Updates:"}),i.jsx("span",{className:"font-medium",children:"RLS Limits"})]})]})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(Ft,{className:"h-5 w-5 text-red-600"}),i.jsx("h3",{className:"font-semibold",children:"Mimir Distributor"})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"The target Mimir component that receives validated and rate-limited requests."}),i.jsxs("div",{className:"space-y-1 text-xs",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Role:"}),i.jsx("span",{className:"font-medium",children:"Metrics Storage"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Protocol:"}),i.jsx("span",{className:"font-medium",children:"HTTP/1.1"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Protection:"}),i.jsx("span",{className:"font-medium",children:"Edge Enforced"})]})]})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(Sa,{className:"h-5 w-5 text-indigo-600"}),i.jsx("h3",{className:"font-semibold",children:"Admin UI"})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"React-based monitoring dashboard providing real-time visibility into the system."}),i.jsxs("div",{className:"space-y-1 text-xs",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Role:"}),i.jsx("span",{className:"font-medium",children:"Monitoring"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Updates:"}),i.jsx("span",{className:"font-medium",children:"Real-time"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Data:"}),i.jsx("span",{className:"font-medium",children:"Live Metrics"})]})]})]})]})})]}),i.jsxs(q,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(li,{className:"h-5 w-5"}),"Request Flow"]}),i.jsx(ie,{children:"Step-by-step process of how requests are processed"})]}),i.jsx(H,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2",children:i.jsx(or,{className:"h-8 w-8 text-blue-600"})}),i.jsx("div",{className:"text-sm font-medium",children:"Client"}),i.jsx("div",{className:"text-xs text-gray-500",children:"Prometheus/Alloy"})]}),i.jsx(li,{className:"h-6 w-6 text-gray-400"}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-2",children:i.jsx(on,{className:"h-8 w-8 text-green-600"})}),i.jsx("div",{className:"text-sm font-medium",children:"NGINX"}),i.jsx("div",{className:"text-xs text-gray-500",children:"Traffic Router"})]}),i.jsx(li,{className:"h-6 w-6 text-gray-400"}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-2",children:i.jsx(ir,{className:"h-8 w-8 text-purple-600"})}),i.jsx("div",{className:"text-sm font-medium",children:"Envoy"}),i.jsx("div",{className:"text-xs text-gray-500",children:"Edge Enforcement"})]}),i.jsx(li,{className:"h-6 w-6 text-gray-400"}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-2",children:i.jsx(Ft,{className:"h-8 w-8 text-red-600"})}),i.jsx("div",{className:"text-sm font-medium",children:"Mimir"}),i.jsx("div",{className:"text-xs text-gray-500",children:"Distributor"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-blue-50 rounded-lg",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-blue-900",children:"Client Request"}),i.jsxs("p",{className:"text-sm text-blue-700",children:["Prometheus/Alloy sends metrics to Mimir with ",i.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"X-Scope-OrgID"})," header identifying the tenant."]})]})]}),i.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-green-50 rounded-lg",children:[i.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-green-900",children:"NGINX Routing"}),i.jsxs("p",{className:"text-sm text-green-700",children:["NGINX receives the request and applies canary routing logic:",i.jsx("br",{}),"• ",i.jsx("strong",{children:"90% of traffic"})," → Direct to Mimir Distributor",i.jsx("br",{}),"• ",i.jsx("strong",{children:"10% of traffic"})," → Route through Edge Enforcement"]})]})]}),i.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-purple-50 rounded-lg",children:[i.jsx("div",{className:"w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"3"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-purple-900",children:"Envoy Processing"}),i.jsxs("p",{className:"text-sm text-purple-700",children:["For edge enforcement traffic, Envoy applies two filters:",i.jsx("br",{}),"• ",i.jsx("strong",{children:"ext_authz"})," → Calls RLS for authorization decision",i.jsx("br",{}),"• ",i.jsx("strong",{children:"ratelimit"})," → Applies rate limiting based on tenant limits"]})]})]}),i.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-orange-50 rounded-lg",children:[i.jsx("div",{className:"w-8 h-8 bg-orange-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"4"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-orange-900",children:"RLS Decision"}),i.jsxs("p",{className:"text-sm text-orange-700",children:["RLS checks tenant limits and makes authorization decision:",i.jsx("br",{}),"• ",i.jsx("strong",{children:"Allow"})," → Request within limits, forward to Mimir",i.jsx("br",{}),"• ",i.jsx("strong",{children:"Deny"})," → Request exceeds limits, return 429/403"]})]})]}),i.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-red-50 rounded-lg",children:[i.jsx("div",{className:"w-8 h-8 bg-red-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"5"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-red-900",children:"Mimir Processing"}),i.jsxs("p",{className:"text-sm text-red-700",children:["Validated requests reach Mimir Distributor for processing:",i.jsx("br",{}),"• ",i.jsx("strong",{children:"Protected"})," → All requests are within enforced limits",i.jsx("br",{}),"• ",i.jsx("strong",{children:"Efficient"})," → No resource exhaustion from individual tenants"]})]})]})]})]})})]}),i.jsxs(q,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(ng,{className:"h-5 w-5"}),"Protection Mechanisms"]}),i.jsx(ie,{children:"How we safeguard your Mimir infrastructure"})]}),i.jsxs(H,{className:"space-y-6",children:[i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Multi-Layer Protection"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(ct,{className:"h-4 w-4 text-green-600"}),i.jsx("span",{className:"font-medium",children:"Edge Enforcement"})]}),i.jsx("p",{className:"text-sm text-gray-600",children:"Requests are validated at the edge before reaching Mimir, preventing resource exhaustion from individual tenants."})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(ur,{className:"h-4 w-4 text-blue-600"}),i.jsx("span",{className:"font-medium",children:"Real-time Rate Limiting"})]}),i.jsx("p",{className:"text-sm text-gray-600",children:"Token bucket algorithm ensures fair resource allocation and prevents burst traffic from overwhelming the system."})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Sa,{className:"h-4 w-4 text-purple-600"}),i.jsx("span",{className:"font-medium",children:"Complete Visibility"})]}),i.jsx("p",{className:"text-sm text-gray-600",children:"Real-time monitoring shows exactly which tenants are hitting limits and when enforcement actions are taken."})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Limit Enforcement"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(_e,{className:"h-4 w-4 text-yellow-600"}),i.jsx("span",{className:"font-medium",children:"Samples per Second"})]}),i.jsx("p",{className:"text-sm text-gray-600",children:"Enforces maximum samples per second per tenant to prevent ingestion rate spikes."})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(dr,{className:"h-4 w-4 text-orange-600"}),i.jsx("span",{className:"font-medium",children:"Burst Protection"})]}),i.jsx("p",{className:"text-sm text-gray-600",children:"Allows temporary burst traffic within configured limits while preventing sustained overload."})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(wt,{className:"h-4 w-4 text-red-600"}),i.jsx("span",{className:"font-medium",children:"Series Limits"})]}),i.jsx("p",{className:"text-sm text-gray-600",children:"Enforces maximum series per query and global series limits to prevent cardinality explosion."})]})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Example: Tenant Limit Violation"}),i.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(_e,{className:"h-5 w-5 text-yellow-600"}),i.jsx("span",{className:"font-medium text-yellow-900",children:"Real-time Alert"})]}),i.jsxs("div",{className:"text-sm text-yellow-800 space-y-2",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Tenant:"})," production-app-123"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Violation:"})," Samples per second limit exceeded"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Current:"})," 12,500 samples/sec"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Limit:"})," 10,000 samples/sec"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Action:"})," Request denied at Envoy (HTTP 429)"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Protection:"})," Mimir safeguarded from overload"]})]})]})]})]})]}),i.jsxs(q,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(Ft,{className:"h-5 w-5"}),"Monitoring & Metrics"]}),i.jsx(ie,{children:"Real-time visibility into system performance and protection"})]}),i.jsxs(H,{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"What You Can Monitor"}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3",children:"System Performance"}),i.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(oe,{className:"h-4 w-4 text-green-600"}),"Total requests per second across all tenants"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(oe,{className:"h-4 w-4 text-green-600"}),"Success rate and error rates"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(oe,{className:"h-4 w-4 text-green-600"}),"Response times and latency percentiles"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(oe,{className:"h-4 w-4 text-green-600"}),"Component health and resource usage"]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3",children:"Tenant Protection"}),i.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(oe,{className:"h-4 w-4 text-green-600"}),"Individual tenant request rates and samples"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(oe,{className:"h-4 w-4 text-green-600"}),"Limit violations and enforcement actions"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(oe,{className:"h-4 w-4 text-green-600"}),"Allow/deny ratios per tenant"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(oe,{className:"h-4 w-4 text-green-600"}),"Resource utilization and trends"]})]})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Real-time Visibility"}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"1,250"}),i.jsx("div",{className:"text-sm font-medium",children:"Requests/sec"}),i.jsx("div",{className:"text-xs text-gray-500",children:"Total throughput"})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:"99.04%"}),i.jsx("div",{className:"text-sm font-medium",children:"Success Rate"}),i.jsx("div",{className:"text-xs text-gray-500",children:"System health"})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"165ms"}),i.jsx("div",{className:"text-sm font-medium",children:"Avg Response"}),i.jsx("div",{className:"text-xs text-gray-500",children:"End-to-end latency"})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-red-600",children:"47"}),i.jsx("div",{className:"text-sm font-medium",children:"Denials Today"}),i.jsx("div",{className:"text-xs text-gray-500",children:"Protection active"})]})]})]})]})]}),i.jsxs(q,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(xi,{className:"h-5 w-5"}),"Blocking Reasons & Troubleshooting"]}),i.jsx(ie,{children:"Understanding why requests are blocked and how to resolve issues"})]}),i.jsxs(H,{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"🔍 Understanding Blocking Reasons"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"The system provides detailed information about why requests are being blocked, helping you quickly identify and resolve issues."}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-yellow-900 mb-3",children:"Common Blocking Scenarios"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-yellow-800",children:"Invalid Request Data"}),i.jsx("div",{className:"text-sm text-yellow-700",children:"parse_failed_deny - Corrupted protobuf/snappy data"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-yellow-800",children:"Rate Limit Exceeded"}),i.jsx("div",{className:"text-sm text-yellow-700",children:"samples_per_second - Too many samples per second"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-yellow-800",children:"Body Size Limit"}),i.jsx("div",{className:"text-sm text-yellow-700",children:"max_body_bytes - Request body too large"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-yellow-800",children:"Missing Tenant"}),i.jsx("div",{className:"text-sm text-yellow-700",children:"missing_tenant_header - No tenant identification"})]})]})]}),i.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-blue-900 mb-3",children:"Resolution Steps"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-blue-800",children:"1. Check Blocking Reason"}),i.jsx("div",{className:"text-sm text-blue-700",children:"View the specific reason in the Admin UI"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-blue-800",children:"2. Analyze Patterns"}),i.jsx("div",{className:"text-sm text-blue-700",children:"Look for recurring issues or specific tenants"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-blue-800",children:"3. Adjust Limits"}),i.jsx("div",{className:"text-sm text-blue-700",children:"Update tenant limits if legitimate traffic is blocked"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-blue-800",children:"4. Fix Client Issues"}),i.jsx("div",{className:"text-sm text-blue-700",children:"Resolve data format or authentication problems"})]})]})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"📊 Real-time Monitoring Dashboard"}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Sa,{className:"h-4 w-4 text-green-600"}),i.jsx("span",{className:"font-medium",children:"Live Metrics"})]}),i.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[i.jsx("li",{children:"• Request rates per tenant"}),i.jsx("li",{children:"• Allow/deny ratios"}),i.jsx("li",{children:"• Response times"}),i.jsx("li",{children:"• Error rates"})]})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Ft,{className:"h-4 w-4 text-blue-600"}),i.jsx("span",{className:"font-medium",children:"Blocking Analytics"})]}),i.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[i.jsx("li",{children:"• Blocking reason breakdown"}),i.jsx("li",{children:"• Tenant violation history"}),i.jsx("li",{children:"• Trend analysis"}),i.jsx("li",{children:"• Pattern detection"})]})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(ks,{className:"h-4 w-4 text-purple-600"}),i.jsx("span",{className:"font-medium",children:"System Health"})]}),i.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[i.jsx("li",{children:"• Component status"}),i.jsx("li",{children:"• Resource utilization"}),i.jsx("li",{children:"• Health checks"}),i.jsx("li",{children:"• Alert notifications"})]})]})]})]})]})]}),i.jsxs(q,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(ig,{className:"h-5 w-5"}),"Quick Start & Deployment"]}),i.jsx(ie,{children:"How to deploy and configure the system with all latest features"})]}),i.jsxs(H,{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"🚀 Production Deployment"}),i.jsxs("div",{className:"bg-gray-900 text-green-400 p-4 rounded-lg font-mono text-sm",children:[i.jsx("div",{children:"# Clone the repository"}),i.jsx("div",{children:"git clone https://github.com/akshaydubey29/mimir-edge-enforcement"}),i.jsx("div",{children:"cd mimir-edge-enforcement"}),i.jsx("div",{}),i.jsx("div",{children:"# Deploy all components with latest features"}),i.jsx("div",{children:"./scripts/deploy-production.sh"}),i.jsx("div",{}),i.jsx("div",{children:"# Configure NGINX canary routing (10% → 100%)"}),i.jsx("div",{children:"./scripts/deploy-nginx-canary.sh"}),i.jsx("div",{}),i.jsx("div",{children:"# Access Admin UI with blocking reasons"}),i.jsx("div",{children:"kubectl port-forward -n mimir-edge-enforcement svc/admin-ui 3000:80"})]})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3",children:"🔧 Configuration Options"}),i.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Canary Deployment"})," - Start with 10% traffic"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Auto-scaling"})," - HPA for dynamic scaling"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Resource Limits"})," - CPU/memory optimization"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Health Checks"})," - Comprehensive monitoring"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Network Policies"})," - Security isolation"]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3",children:"📊 Monitoring Setup"}),i.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Real-time Dashboards"})," - Live metrics and blocking reasons"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Alert Rules"})," - Prometheus alerting"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Log Aggregation"})," - Centralized logging"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Performance Metrics"})," - Response time tracking"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Tenant Analytics"})," - Per-tenant monitoring"]})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3",children:"🎯 Deployment Strategies"}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsx("div",{className:"font-medium text-blue-900 mb-2",children:"Phase 1: Canary (10%)"}),i.jsx("div",{className:"text-sm text-gray-600",children:"Deploy with minimal traffic to validate functionality and monitor performance."})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsx("div",{className:"font-medium text-green-900 mb-2",children:"Phase 2: Gradual (50%)"}),i.jsx("div",{className:"text-sm text-gray-600",children:"Increase traffic while monitoring blocking reasons and system health."})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsx("div",{className:"font-medium text-purple-900 mb-2",children:"Phase 3: Full (100%)"}),i.jsx("div",{className:"text-sm text-gray-600",children:"Complete deployment with full protection and monitoring capabilities."})]})]})]})]})]}),i.jsxs(q,{children:[i.jsxs(U,{children:[i.jsxs(W,{className:"flex items-center gap-2",children:[i.jsx(ct,{className:"h-5 w-5"}),"Cardinality Burst Control"]}),i.jsx(ie,{children:"Advanced protection against high-cardinality attacks and burst scenarios"})]}),i.jsxs(H,{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"🛡️ Cardinality Protection Features"}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"p-4 border rounded-lg bg-blue-50",children:[i.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Series Per Request Limit"}),i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Controls the maximum number of time series that can be sent in a single request."}),i.jsx("div",{className:"text-xs font-mono bg-blue-100 p-2 rounded",children:"max_series_per_request: 100000"})]}),i.jsxs("div",{className:"p-4 border rounded-lg bg-green-50",children:[i.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"Labels Per Series Limit"}),i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Limits the number of labels that can be attached to each time series."}),i.jsx("div",{className:"text-xs font-mono bg-green-100 p-2 rounded",children:"max_labels_per_series: 60"})]}),i.jsxs("div",{className:"p-4 border rounded-lg bg-purple-50",children:[i.jsx("h4",{className:"font-medium text-purple-900 mb-2",children:"Label Value Length Limit"}),i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Controls the maximum length of label values to prevent memory exhaustion."}),i.jsx("div",{className:"text-xs font-mono bg-purple-100 p-2 rounded",children:"max_label_value_length: 2048"})]}),i.jsxs("div",{className:"p-4 border rounded-lg bg-orange-50",children:[i.jsx("h4",{className:"font-medium text-orange-900 mb-2",children:"Real-time Enforcement"}),i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Instant blocking of requests that exceed cardinality limits at the edge."}),i.jsx("div",{className:"text-xs font-mono bg-orange-100 p-2 rounded",children:"Blocking Reason: max_series_per_request_exceeded"})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3",children:"🎯 Cardinality Blocking Reasons"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"p-3 border-l-4 border-red-500 bg-red-50",children:[i.jsx("div",{className:"font-medium text-red-900",children:"max_series_per_request_exceeded"}),i.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["Request contains more time series than allowed. ",i.jsx("strong",{children:"Fix:"})," Reduce the number of series per request or increase the limit."]}),i.jsx("div",{className:"text-xs font-mono bg-red-100 p-2 rounded mt-2",children:"Example: Request with 150,000 series when limit is 100,000"})]}),i.jsxs("div",{className:"p-3 border-l-4 border-orange-500 bg-orange-50",children:[i.jsx("div",{className:"font-medium text-orange-900",children:"max_labels_per_series_exceeded"}),i.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["Individual time series has more labels than permitted. ",i.jsx("strong",{children:"Fix:"})," Consolidate labels or increase the limit."]}),i.jsx("div",{className:"text-xs font-mono bg-orange-100 p-2 rounded mt-2",children:"Example: Series with 80 labels when limit is 60"})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3",children:"⚡ Configuration Examples"}),i.jsxs("div",{className:"bg-gray-900 text-green-400 p-4 rounded-lg font-mono text-sm",children:[i.jsx("div",{children:"# Configure cardinality limits for a tenant"}),i.jsx("div",{children:"curl -X PUT http://localhost:8082/api/tenants/my-tenant/limits \\"}),i.jsx("div",{children:'  -H "Content-Type: application/json" \\'}),i.jsxs("div",{children:["  -d '","{"]}),i.jsx("div",{children:'    "samples_per_second": 10000,'}),i.jsx("div",{children:'    "burst_pct": 0.2,'}),i.jsx("div",{children:'    "max_body_bytes": 10485760,'}),i.jsx("div",{children:'    "max_labels_per_series": 60,'}),i.jsx("div",{children:'    "max_label_value_length": 2048,'}),i.jsx("div",{children:'    "max_series_per_request": 100000'}),i.jsxs("div",{children:["  ","}","'"]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3",children:"🔍 Monitoring Cardinality"}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium mb-2",children:"Real-time Metrics"}),i.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[i.jsx("li",{children:"• Series count per request"}),i.jsx("li",{children:"• Labels per series distribution"}),i.jsx("li",{children:"• Cardinality violation rates"}),i.jsx("li",{children:"• Burst detection alerts"})]})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium mb-2",children:"Alerting"}),i.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[i.jsx("li",{children:"• High cardinality requests"}),i.jsx("li",{children:"• Series limit approaching"}),i.jsx("li",{children:"• Label explosion detection"}),i.jsx("li",{children:"• Burst pattern alerts"})]})]})]})]})]})]})]})}function Kq(){return i.jsx(hg,{children:i.jsxs(Gy,{children:[i.jsx(Lt,{path:"/",element:i.jsx(rq,{})}),i.jsx(Lt,{path:"/tenants",element:i.jsx(hq,{})}),i.jsx(Lt,{path:"/tenants/:tenantId",element:i.jsx(Dq,{})}),i.jsx(Lt,{path:"/denials",element:i.jsx(pq,{})}),i.jsx(Lt,{path:"/health",element:i.jsx(Oq,{})}),i.jsx(Lt,{path:"/pipeline",element:i.jsx(Tq,{})}),i.jsx(Lt,{path:"/metrics",element:i.jsx(Lq,{})}),i.jsx(Lt,{path:"/cardinality",element:i.jsx(Fq,{})}),i.jsx(Lt,{path:"/wiki",element:i.jsx(Hq,{})})]})})}const Gq=new Yy({defaultOptions:{queries:{retry:2,refetchOnWindowFocus:!1}}});tl.createRoot(document.getElementById("root")).render(i.jsx(O.StrictMode,{children:i.jsx(Zy,{client:Gq,children:i.jsx(Vy,{children:i.jsx(Kq,{})})})}));
//# sourceMappingURL=index-DfbZq2YL.js.map
